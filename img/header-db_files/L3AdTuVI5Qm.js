if (self.CavalryLogger) { CavalryLogger.start_js(["2BFGt"]); }

__d("LiveMapEntryPointsEnum",[],(function a(b,c,d,e,f,g){f.exports={APPS:"bookmarks",FAVORITES:"favorites",ENDSCREEN:"endscreen",TRENDING:"trending",BLUEBAR:"bluebar",NUX:"nux",FACEBAR_TYPEAHEAD:"br_tf",SHAREABLE:"shareable",VIDEO_HOME:"video_home"};}),null);
__d("LiveMapEntryPointsEvent",[],(function a(b,c,d,e,f,g){f.exports={IMPRESSION:"impression",CLICKED:"clicked",EMPTY_UNIT:"empty_unit",VIEWER_COUNT:"viewer_count"};}),null);
__d("PageNotifOptionSettingType",[],(function a(b,c,d,e,f,g){f.exports={ON:"on",OFF:"off"};}),null);
__d("VideoAutoplayGatingResult",[],(function a(b,c,d,e,f,g){f.exports={UGC_DEFAULT_ALLOWED:"ugc_default_allowed",PAGE_SPONSORED_ALLOWED:"page_sponsored_allowed",PAGE_SPONSORED_DEBUG_FORCE_ALLOWED:"page_sponsored_debug_force_allowed",FEED_RANKING_UGC_ALLOWED:"feed_ranking_ugc_allowed",ALL_PAGE_ORGANIC_ALLOWED:"all_page_organic_allowed",FEED_RANKING_ORGANIC_ALLOWED:"feed_ranking_organic_allowed",RELATED_WHITELISTED_ORGANIC_ALLOWED:"related_whitelisted_organic_allowed",HQ_PAGE_ORGANIC_ALLOWED:"hq_page_organic_allowed",PREMIUM_DEFAULT_ALLOWED:"premium_default_allowed",DEMO_SPONSORED_ALLOWED:"demo_sponsored_allowed",PLAYABLE_AD_ALLOWED:"playable_ad_allowed",EVENT_COVER_ALLOWED:"event_cover_allowed",UNKNOWN:"unknown",FEED_RANKING_UNKNOWN:"feed_ranking_unknown",LONG_TERM_HOLDOUT:"long_term_holdout",DEFAULT_OFF:"default_off",GATEKEEPER:"gatekeeper",UGC_HOLDOUT:"ugc_holdout",IS_SPONSORED:"is_sponsored",IS_SPONSORED_UGC:"is_sponsored_ugc",IS_BOOSTED:"is_boosted",NO_OWNER:"no_owner",PAGE_NOT_WHITELISTED:"page_not_whitelisted",PAGE_NOT_BRAND_SAFE:"page_not_brand_safe",NO_USER_PAGE_RELATIONSHIP:"no_user_page_relationship",USER_SETTINGS:"user_settings",VIDEO_BLACKLISTED:"video_blacklisted",UGC_VIDEO_DISABLED_BY_QE:"ugc_video_disabled_by_qe",PAGE_WHITELIST_DISABLED_BY_QE:"page_whitelist_disabled_by_qe",RANKING_PREDICTION_DISABLED:"ranking_prediction_disabled",RANKING_DATA_MISSING:"ranking_data_missing",HIGH_XOUT_RATIO:"high_xout_ratio",VIDEO_UNORIGINALITY:"video_unoriginality",DISABLED_BY_GAP_RULE:"disabled_by_gap_rule",AUTOPLAY_ADS_COUNT_CAP_REACHED:"autoplay_ads_count_cap_reached",AUTOPLAY_ADS_COUNT_CAP_REACHED_BACKEND:"autoplay_ads_count_cap_reached_backend",MOO_PREMIUM_AUTOPLAY_ADS_COUNT_CAP_REACHED:"moo_premium_autoplay_ads_count_cap_reached",MOO_PREMIUM_AUTOPLAY_ADS_COUNT_CAP_REACHED_BACKEND:"moo_premium_autoplay_ads_count_cap_reached_backend",AUTOPLAY_DISABLED_FOR_CLICK_BIDDING_ADS:"autoplay_disabled_for_click_bidding_ads",AUTOPLAY_DISABLED_FOR_ALL_ADS:"autoplay_disabled_for_all_ads",NOT_WHITELISTED_ACCOUNT:"not_whitelisted_account",NOT_MANAGED_ACCOUNT:"not_managed_account",UNSUPPORTED_CURRENCY:"unsupported_currency",DISABLED_BY_DYNAMIC_CAP:"disabled_by_dynamic_cap",DISABLED_BY_CREATIVE_TYPE:"disabled_by_creative_type",MOBILE_DATA_CONSUMPTION_LIMIT:"mobile_data_consumption_limit",PAGE_VIDEO_NOT_WIFI:"page_video_not_wifi",DISABLED_BY_AD_QUALITY_TABLE:"disabled_by_ad_quality_table",POOR_CONNECTION_QUALITY:"poor_connection_quality",AUTOPLAY_ADS_DISABLED_BY_BLACKLISTED_PAGE:"autoplay_ads_disabled_by_blacklisted_page",BACK_TO_BACK_VIDEOS:"back_to_back_videos",VIDEO_BROADCAST_AUTOPLAY_DISABLED:"video_broadcast_autoplay_disabled",VIDEO_TOO_LONG:"video_too_long",LOW_VIDEO_VIEW_PREDICTION:"low_video_view_prediction",SPHERICAL_CELL:"spherical_cell",STORY_OF_FRIENDSHIP:"story_of_friendship",GOODWILL_VIDEO_PROMOTION_BLOCKBUSTER:"goodwill_video_promotion_blockbuster",GOODWILL_VIDEO_SHARE_BLOCKBUSTER:"goodwill_video_share_blockbuster",AUTOPLAY_DISABLED_IN_BOUNCER:"autoplay_disabled_in_bouncer",DISABLED_FOR_PRE_ROLL:"disabled_for_pre_roll",USER_GATING_PASSED:"user_gating_passed",USER_PAGE_GATING_PASSED:"user_page_gating_passed",TEST_WHITELISTED:"test_whitelisted",TEST_BLACKLISTED:"test_blacklisted",TEST_NON_AD_FOR_ADS_ONLY_AUTOPLAY:"test_non_ad_for_ads_only_autoplay",WHITELISTED_XOUT_VIDEO:"whitelisted_xout_video",DISABLED_BY_POSITION_BUDGET:"disabled_by_position_budget",DISABLED_FOR_DATA_SENSITIVITY_TEST:"disabled_by_data_sensitivity_test"};}),null);
__d("VideoPlayerOrigins",[],(function a(b,c,d,e,f,g){f.exports={NEWSFEED:"newsfeed",USER_TIMELINE:"user_timeline",PAGE_TIMELINE:"page_timeline",PERMALINK:"permalink",GROUP:"group",CONNECTED_TV:"connected_tv",CONNECTED_TV_DISCOVERY:"connected_tv_discovery",CONNECTED_TV_PLAYER:"connected_tv_player",CONNECTED_TV_PROFILE:"connected_tv_profile",VIDEO_HOME:"video_home",VIDEO_HOME_FEED:"video_home_feed",VIDEO_HOME_REACTION:"video_home_reaction",VIDEO_HOME_MAIN:"video_home_main",VIDEO_HOME_GUIDE:"video_home_guide",VIDEO_TAB:"video_tab",EXTERNAL:"external",INSTANT_ARTICLES:"instant_articles",INTERN:"intern",BACKSTAGE:"backstage",INSTANT_SHOPPING:"instant_shopping",REDSPACE:"redspace",SAVED:"saved",SEARCH:"search",NOTIFICATIONS:"notifications",UNKNOWN:"unknown",LIVE_CONTROL_PANEL:"live_control_panel",LIVE_MAP:"live_map",LIVE_REDIRECT:"live_redirect",LIVE_EMBED_REDIRECT:"live_embed_redirect",LOCAL_NEWS:"local_news",PAGES_MODULE:"pages_module",PAGES_VIDEO_TAB:"pages_video_tab",PROMOTIONS_MANAGER_INSPIRATION_GALLERY:"promotions_manager_inspiration_gallery",BACKGROUND_PLAY:"background_play",QUICK_PROMOTION:"quick_promotion",CULTURAL_MOMENTS_SHARE:"cultural_moments_share",CULTURAL_MOMENTS_PROMOTION:"cm_promotion",DAILY_DIALOGUE_PINNED_UNIT:"dd_pinned",SPHERIAL_VIDEO_EDITING:"spherial_video_editing",EXPLORE_FEED:"explorefeed",RHC:"rhc",ADS:"ads",CANVAS:"canvas",COMMERCE:"commerce",COMPOSER:"composer",DASH:"dash",FACEWEB:"faceweb",FEEDBACK:"feedback",FRIENDS:"friends",EVENTS:"events",HELP:"help",INFRASTRUCTURE:"infrastructure",LOGIN:"login",MARKETING:"marketing",MESSAGING:"messaging",NAVIGATION:"navigation",PHOTOS:"photos",PRIVACY:"privacy",SETTINGS:"settings",STORY_VIEW:"story_view",WEBVIEW:"webview",TRENDING:"trending",FACECAST_NUX:"facecast_nux",PIXELCLOUD:"pixelcloud",TAROT:"tarot",GAMEROOM:"gameroom",LEARN:"learn",BEEPER:"beeper",FACECAST_BEEPER:"facecast_beeper",JOB_SEARCH:"job_search",TOP_LIVE_BOOKMARK:"top_live_bookmark",AUTODOWNLOAD:"autodownload",FB_STORIES:"fb_stories",DIRECT_INBOX:"direct_inbox",COMMENT:"comment",LIVE_VIDEO_END_SCREEN:"live_video_end_screen",MEDIA_GALLERY:"media_gallery",MOMENTS:"moments",PHOTOSFEED:"photosfeed",SIMPLE_PICKER:"simple_picker",VIDEO_EDITING_GALLERY:"video_editing_gallery",ALBUM:"album",OFFERS:"offers",MESSENGER_THREAD:"messenger_thread",MESSENGER_MONTAGE:"messenger_montage",SHARED_VIDEO:"shared_video"};}),null);
__d("VideoQualityClass",[],(function a(b,c,d,e,f,g){f.exports={UHD:"uhd",HD:"hd",SD:"sd"};}),null);
__d('FacepileRounded.react',['cx','fbt','Image.react','React','Tooltip.react','HovercardLink','Link.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props,o=n.className,p=n.profiles,q=n.message,r=n.numProfilesToDisplay,s=null;if(q)s=c('React').createElement('div',{className:"_4mnt"},q);var t=r?p.slice(0,r).map(function(u,v){return this.$FacepileRounded1(u,v);}.bind(this)):p.map(function(u,v){return this.$FacepileRounded1(u,v);}.bind(this));return c('React').createElement('div',{className:c('joinClasses')("_4mnv",o)},c('React').createElement('div',{className:"_4mnw"},t,this.$FacepileRounded2()),s);};m.prototype.$FacepileRounded2=function(){var n=this.props,o=n.direction,p=n.imageSize,q=n.profiles,r=n.remainingProfilesCount,s=n.numProfilesToDisplay;if(!s)return null;var t=r?r:q.length-s,u=q.slice(s).map(function(y){return y.name;}).filter(Boolean),v=u.join('\n'),w=t-u.length;if(w>0){var x=i._("and {count} others.",[i.param('count',w)]);v+='\n'+x.toString();}return t>0?c('React').createElement(c('Tooltip.react'),{className:"_4mns",key:'remainingFaceCount',tooltip:v},c('React').createElement('span',{className:"_4mnq _34n6",style:{borderRadius:p,height:p,marginLeft:-(p*.3125)+'px',minWidth:p,position:o==='descending'?'relative':null,zIndex:o==='descending'?0:null}},c('React').createElement('span',{className:"_40vg"},t))):null;};m.prototype.$FacepileRounded1=function(n,o){var p=this.props,q=p.direction,r=p.imageSize,s=p.profiles,t=p.showNames,u=p.showHovercards,v=p.isClickable,w=n.glyph_size,x=n.image_src,y=n.entity_id,z={},aa=w||r;z.height=aa+'px';z.width=aa+'px';if(o>0)z.marginLeft=-(aa*.3125)+'px';if(q==='descending'){z.position='relative';z.zIndex=s.length-o;}var ba="_4mnq";if(n.className)ba=c('joinClasses')(ba,n.className);var ca=c('React').createElement('div',{className:ba,key:o,style:z},c('React').createElement(c('Image.react'),{className:"_1h_6",height:aa,src:x,width:aa}));if(t&&!u&&n.name)ca=c('React').createElement(c('Tooltip.react'),{className:"_4mns",key:o+n.image_src,tooltip:n.name},ca);if(y&&(v||u)){var da={};if(u){var ea=c('HovercardLink').constructEndpoint({id:y}).toString();da['data-hovercard']=ea;}if(v)da.href='/'+y;ca=c('React').createElement(c('Link.react'),babelHelpers['extends']({},da,{key:o}),ca);}return ca;};function m(){j.apply(this,arguments);}m.defaultProps={direction:'ascending',imageSize:32,showNames:false,isClickable:false,showHovercards:false};m.propTypes={className:l.string,direction:l.string,imageSize:l.number,message:l.oneOfType([l.array,l.string,l.object]),numProfilesToDisplay:l.number,remainingProfilesCount:l.number,profiles:l.arrayOf(l.shape({image_src:l.any.isRequired,className:l.string,glyph_size:l.number,name:l.string,entity_id:l.string})).isRequired,showNames:l.bool,showHovercards:l.bool,isClickable:l.bool};f.exports=m;}),null);
__d('flash-js',[],(function a(b,c,d,e,f,g){function h(){}Object.assign(h,{INIT:'flash/init',READY:'flash/ready',FAILED:'flash/failed'});f.exports=h;}),null);
__d("FeedbackAddStreamingReactionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1160207544084132",queryID:"308279306281645"});}),null);
__d('FeedbackAddStreamingReactionSubscription',['BaseGraphQLSubscription','FeedbackAddStreamingReactionWebGraphQLSubscription','GraphQLSubscriptionsConfig','uuid'],(function a(b,c,d,e,f,g){var h=babelHelpers['extends']({},c('BaseGraphQLSubscription'),{_getTopic:function i(j){return 'gqls/feedback_add_streaming_reaction_subscribe/feedback_id_'+j;},_getQueryID:function i(){return c('GraphQLSubscriptionsConfig').shouldUseGraphQL2DocumentIDs?c('FeedbackAddStreamingReactionWebGraphQLSubscription').getDocID():c('FeedbackAddStreamingReactionWebGraphQLSubscription').getLegacyQueryID();},_getQueryParameters:function i(j){return {input:JSON.stringify({client_subscription_id:c('uuid')(),feedback_id:j})};},_getSubscriptionCallName:function i(){return 'feedback_add_streaming_reaction_subscribe';}});f.exports=h;}),null);
__d('LiveMapEntryPointsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:LiveMapEntryPointsLoggerConfig',this.$LiveMapEntryPointsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:LiveMapEntryPointsLoggerConfig',this.$LiveMapEntryPointsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$LiveMapEntryPointsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$LiveMapEntryPointsTypedLogger1=babelHelpers['extends']({},this.$LiveMapEntryPointsTypedLogger1,j);return this;};h.prototype.setEntryPoint=function(j){this.$LiveMapEntryPointsTypedLogger1.entry_point=j;return this;};h.prototype.setEvent=function(j){this.$LiveMapEntryPointsTypedLogger1.event=j;return this;};h.prototype.setVC=function(j){this.$LiveMapEntryPointsTypedLogger1.vc=j;return this;};h.prototype.setViewerCount=function(j){this.$LiveMapEntryPointsTypedLogger1.viewer_count=j;return this;};var i={entry_point:true,event:true,vc:true,viewer_count:true};f.exports=h;}),null);
__d('LiveMapEntryPointsLoggerController',['LiveMapEntryPointsTypedLogger','LiveMapEntryPointsEvent','LiveMapEntryPointsEnum'],(function a(b,c,d,e,f,g){'use strict';var h={logEndscreenImpression:function i(){new (c('LiveMapEntryPointsTypedLogger'))().setEvent(c('LiveMapEntryPointsEvent').IMPRESSION).setEntryPoint(c('LiveMapEntryPointsEnum').ENDSCREEN).log();}};f.exports=h;}),null);
__d('KeyframeAnimation',['invariant','CSS','Map','ReactTransitionEvents','UserAgent','nullthrows','queryThenMutateDOM','uniqueID'],(function a(b,c,d,e,f,g,h){var i='KeyframeAnimation-',j='animation-';function k(l){'use strict';this.$KeyframeAnimation3=l;this.$KeyframeAnimation8=true;this.$KeyframeAnimation5=new (c('Map'))();this.$KeyframeAnimation5.set('animation-name',i+c('uniqueID')());this.$KeyframeAnimation4=new (c('Map'))();if(!k.$KeyframeAnimation1){var m=document.createElement('style');document.head.appendChild(m);var n=c('nullthrows')(m.sheet);n instanceof CSSStyleSheet||h(0);k.$KeyframeAnimation1=n;k.$KeyframeAnimation2=new (c('Map'))();}this.$KeyframeAnimation9=c('UserAgent').isEngine('WebKit')?'-webkit-':'';}k.prototype.defineKeyframes=function(l){'use strict';for(var m=Object.entries(l),n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var p;if(n){if(o>=m.length)break;p=m[o++];}else{o=m.next();if(o.done)break;p=o.value;}var q=p,r=q[0],s=q[1];r=parseFloat(r,10);r>=0&&r<=100||h(0);var t='';for(var u=Object.entries(s).sort(),v=Array.isArray(u),w=0,u=v?u:u[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var x;if(v){if(w>=u.length)break;x=u[w++];}else{w=u.next();if(w.done)break;x=w.value;}var y=x,z=y[0],aa=y[1];t+=z+': '+aa+';';}this.$KeyframeAnimation4.set(r,t);}return this;};k.prototype.defineKeyframe=function(l,m){'use strict';l=parseFloat(l,10);l>=0&&l<=100||h(0);var n='';for(var o=Object.entries(m).sort(),p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var r;if(p){if(q>=o.length)break;r=o[q++];}else{q=o.next();if(q.done)break;r=q.value;}var s=r,t=s[0],u=s[1];if(t.substring(0,j.length)===j||t==='transform')t=this.$KeyframeAnimation9+t;n+=t+': '+u+';';}this.$KeyframeAnimation4.set(l,n);return this;};k.prototype.setDirection=function(l){'use strict';this.$KeyframeAnimation5.set('animation-direction',l);return this;};k.prototype.setDuration=function(l){'use strict';this.$KeyframeAnimation5.set('animation-duration',l+'s');return this;};k.prototype.setTimingFunction=function(l){'use strict';this.$KeyframeAnimation5.set('animation-timing-function',l);return this;};k.prototype.setIterationCount=function(l){'use strict';this.$KeyframeAnimation5.set('animation-iteration-count',l+'');return this;};k.prototype.setFillMode=function(l){'use strict';this.$KeyframeAnimation5.set('animation-fill-mode',l);return this;};k.prototype.setAnimationDelay=function(l){'use strict';this.$KeyframeAnimation5.set('animation-delay',l+'s');return this;};k.prototype.setFinishedCallback=function(l){'use strict';this.$KeyframeAnimation6=l;return this;};k.prototype.setMemoize=function(l){'use strict';this.$KeyframeAnimation8=l;return this;};k.prototype.start=function(){'use strict';this.$KeyframeAnimation5.has('animation-duration')||h(0);if(this.$KeyframeAnimation7){this.restartAnimation();return;}var l=this.$KeyframeAnimation3,m=this.$KeyframeAnimation10(),n=this.$KeyframeAnimation11(m),o=void 0;if(this.$KeyframeAnimation8&&k.$KeyframeAnimation2.has(n)){var p=c('nullthrows')(k.$KeyframeAnimation2.get(n));this.$KeyframeAnimation5.set('animation-name',p);o=p;}else{k.$KeyframeAnimation1.insertRule(m,k.$KeyframeAnimation1.cssRules.length);o=c('nullthrows')(this.$KeyframeAnimation5.get('animation-name'));if(this.$KeyframeAnimation8)k.$KeyframeAnimation2.set(n,o);}var q=this.$KeyframeAnimation12(o);if(!this.$KeyframeAnimation8||!k.$KeyframeAnimation2.has(q)){k.$KeyframeAnimation1.insertRule(q,k.$KeyframeAnimation1.cssRules.length);if(this.$KeyframeAnimation8)k.$KeyframeAnimation2.set(q,o);}c('queryThenMutateDOM')(function(){},function(){this.$KeyframeAnimation13();c('CSS').addClass(l,o);}.bind(this));};k.prototype.restartAnimation=function(){'use strict';var l=this.$KeyframeAnimation3;c('CSS').removeClass(l,c('nullthrows')(this.$KeyframeAnimation5.get('animation-name')));l.offsetWidth;this.$KeyframeAnimation7=false;c('CSS').addClass(l,c('nullthrows')(this.$KeyframeAnimation5.get('animation-name')));};k.prototype.$KeyframeAnimation13=function(){'use strict';c('ReactTransitionEvents').addEndEventListener(this.$KeyframeAnimation3,this.$KeyframeAnimation14.bind(this));};k.prototype.$KeyframeAnimation12=function(l){'use strict';var m='';m+='.'+l+' {';for(var n=this.$KeyframeAnimation5,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q,s=r[0],t=r[1];m+=s+': '+t+';';}m+='}';return m;};k.prototype.$KeyframeAnimation10=function(){'use strict';var l=this.$KeyframeAnimation5.get('animation-name'),m=void 0;if(c('UserAgent').isEngine('WebKit')){m='@-webkit-keyframes';}else m='@keyframes';var n=m+' '+l+' {';for(var o=this.$KeyframeAnimation4,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var r;if(p){if(q>=o.length)break;r=o[q++];}else{q=o.next();if(q.done)break;r=q.value;}var s=r,t=s[0],u=s[1];n+=t+'% {'+u+'}';}return n+'}';};k.prototype.$KeyframeAnimation14=function(){'use strict';if(!this.$KeyframeAnimation7){if(this.$KeyframeAnimation6)this.$KeyframeAnimation6(this.$KeyframeAnimation3);this.$KeyframeAnimation7=true;}};k.prototype.$KeyframeAnimation11=function(l){'use strict';return l.substring(l.indexOf('{')+1).toLowerCase().replace(/\s+/g,'');};f.exports=k;}),null);
__d('CSSAnimationBuilder',['KeyframeAnimation'],(function a(b,c,d,e,f,g){var h={keyframeAnimation:function i(j){return new (c('KeyframeAnimation'))(j);}};f.exports=h;}),null);
__d("XSavedForLaterDashboardController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/saved\/",{collection_token:{type:"String"},tag_filter:{type:"String"},cref:{type:"Int"},suggestion_dialog:{type:"Int"},cursor:{type:"String"},notif_id:{type:"Int"},dashboard_section:{type:"Enum",enumType:1},cref_name:{type:"String"},a_type:{type:"String"},search_token:{type:"String"},list_id:{type:"Int"}});}),null);
__d('PageSaveAction.react',['ix','fbt','ContextualDialogArrow','Image.react','PageActionOpenURLAsyncPost.react','PageActionURLHandlerType','PopoverMenu.react','PopoverMenuShowOnHover','React','ReactXUIMenu','XSavedForLaterDashboardController','XUIPopoverButton.react','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('ReactXUIMenu').Item,k=function l(m){var n=m.action,o=n.url,p=n.url_handler_type,q=n.page;if(!q.has_viewer_saved)return c('React').createElement(c('PageActionOpenURLAsyncPost.react'),babelHelpers['extends']({},m,{image:c('React').createElement(c('Image.react'),{src:h("127260")})}));var r=c('React').createElement(c('ReactXUIMenu'),null,c('React').createElement(j,{href:o,key:'unsave',rel:c('PageActionURLHandlerType')[p]||null},i._("Unsave")),c('React').createElement(j,{href:c('XSavedForLaterDashboardController').getURIBuilder().getURI(),key:'view_saved'},i._("View Saved Items")));return c('React').createElement(c('PopoverMenu.react'),{behaviors:[c('PopoverMenuShowOnHover')],layerBehaviors:[c('ContextualDialogArrow')],menu:r},c('React').createElement(c('XUIPopoverButton.react'),{image:c('React').createElement(c('Image.react'),{src:h("116046")}),label:i._("Saved"),size:'large'}));};f.exports=k;}),null);
__d('PageNewsFeedStore',['FluxReduceStore','PagesLikeFollowNotifActions','PagesLikeFollowNotifDispatcher','ProfileSubFollowStatus'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;j.prototype.getInitialState=function(){return {};};j.prototype.reduce=function(k,l){var m=babelHelpers['extends']({},k);switch(l.type){case c('PagesLikeFollowNotifActions').INIT_DATA:if(l.data.pageID in k)return k;m[l.data.pageID]=l.data.newsFeedStatus;return m;case c('PagesLikeFollowNotifActions').NEWS_FEED_CHANGE:m[l.data.pageID]=l.data.newsFeedStatus;return m;case c('PagesLikeFollowNotifActions').LIKE:if(l.data.pageID in k&&m[l.data.pageID]!==c('ProfileSubFollowStatus').SEE_FIRST||!(l.data.pageID in k))m[l.data.pageID]=c('ProfileSubFollowStatus').REGULAR_FOLLOW;return m;}return k;};function j(){h.apply(this,arguments);}f.exports=new j(c('PagesLikeFollowNotifDispatcher'));}),null);
__d('PagesGetNotificationStore',['FluxReduceStore','PagesLikeFollowNotifActions','PagesLikeFollowNotifDispatcher','PageNotifOptionSettingType'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;j.prototype.getInitialState=function(){return {};};j.prototype.reduce=function(k,l){var m=babelHelpers['extends']({},k);switch(l.type){case c('PagesLikeFollowNotifActions').INIT_DATA:if(l.data.pageID in k)return k;m[l.data.pageID]=l.data.notifStatus;return m;case c('PagesLikeFollowNotifActions').NOTIF_CHANGE:m[l.data.pageID]=babelHelpers['extends']({},k[l.data.pageID]);m[l.data.pageID][l.data.type]=l.data.state;return m;case c('PagesLikeFollowNotifActions').NOTIF_ALL_ON:Object.keys(k[l.data.pageID]).map(function(n){m[l.data.pageID][n]=c('PageNotifOptionSettingType').ON;});return m;case c('PagesLikeFollowNotifActions').NOTIF_ALL_OFF:Object.keys(k[l.data.pageID]).map(function(n){m[l.data.pageID][n]=c('PageNotifOptionSettingType').OFF;});return m;}return k;};function j(){h.apply(this,arguments);}f.exports=new j(c('PagesLikeFollowNotifDispatcher'));}),null);
__d('PageGetNotificationConstants',['fbt','keyMirror'],(function a(b,c,d,e,f,g,h){var i={Events:c('keyMirror')({CHANGE:null,NEWSFEED_CHANGE:null,NOTIFICATION_CHANGE:null}),Title:{video:h._("Videos"),photo:h._("Photos"),link:h._("Links"),others:h._("Status Updates"),event:h._("Events"),live_video:h._("Live Videos"),episode:h._("Episodes"),offer:h._("Offers"),all_posts:h._("All Posts"),none:h._("None"),all_on:h._("All On"),on:h._("On")},NewsFeedTitle:{unfollow:h._("Unfollow"),see_first:h._("See First"),follow:h._("Default")},LiveVideoTitle:{inferred:h._("Suggested Live Videos"),on:h._("All Live Videos")},PostTitle:{highlight:h._("Highlight Posts"),on:h._("All Posts")},PostSubscriptionType:c('keyMirror')({video:null,photo:null,link:null,others:null}),PostSubscriptionTypeArray:['video','photo','link','others'],EventSubscriptionType:c('keyMirror')({event:null}),LiveVideoSubscriptionType:c('keyMirror')({live_video:null}),PagePostSubscriptionType:c('keyMirror')({post:null}),OfferSubscriptionType:c('keyMirror')({offer:null}),EpisodeSubscriptionType:c('keyMirror')({episode:null})};f.exports=i;}),null);
__d('PageGetNotificationUtil',['PageGetNotificationConstants','PageNotifOptionSettingType'],(function a(b,c,d,e,f,g){var h={subtitleForPageGetNotification:function i(j){var k,l=[],m=c('PageGetNotificationConstants').PagePostSubscriptionType.post;if(m in j){var n=c('PageGetNotificationConstants').PostTitle[j[m]];if(n)l.push(n);}else (function(){var q=c('PageGetNotificationConstants').PostSubscriptionType;Object.keys(q).map(function(s){return q[s]=j[s]===c('PageNotifOptionSettingType').ON;});var r=Object.values(q).filter(function(s){return !s;}).length===0;if(r){l.push(c('PageGetNotificationConstants').Title.all_posts);}else c('PageGetNotificationConstants').PostSubscriptionTypeArray.map(function(s){if(q[s])l.push(c('PageGetNotificationConstants').Title[s]);});})();if(j[c('PageGetNotificationConstants').EventSubscriptionType.event]===c('PageNotifOptionSettingType').ON)l.push(c('PageGetNotificationConstants').Title.event);if(j[c('PageGetNotificationConstants').OfferSubscriptionType.offer]===c('PageNotifOptionSettingType').ON)l.push(c('PageGetNotificationConstants').Title.offer);var o=c('PageGetNotificationConstants').LiveVideoSubscriptionType.live_video,p=c('PageGetNotificationConstants').LiveVideoTitle[j[o]];if(p)l.push(p);if(j[c('PageGetNotificationConstants').EpisodeSubscriptionType.episode]===c('PageNotifOptionSettingType').ON)l.push(c('PageGetNotificationConstants').Title.episode);return l.length===0?c('PageGetNotificationConstants').Title.none:l.join(', ');},isNotifStatusOn:function i(j){return Object.values(j).filter(function(k){return k!==c('PageNotifOptionSettingType').OFF;}).length>0;},isNotifStatusAllOn:function i(j){return Object.values(j).filter(function(k){return k!==c('PageNotifOptionSettingType').ON;}).length===0;},titleForTurnOnNotificationOption:function i(j){if(!this.isNotifStatusOn(j))return c('PageGetNotificationConstants').Title.all_on;return [this.isNotifStatusAllOn(j)?c('PageGetNotificationConstants').Title.all_on:c('PageGetNotificationConstants').Title.on,' (',this.subtitleForPageGetNotification(j),')'].join('');}};f.exports=h;}),null);
__d("XPageFollowMutatorController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/page\/follow_mutator\/",{page_id:{type:"Int",required:true},status:{type:"Bool",defaultValue:false},location:{type:"Enum",required:true,enumType:0}});}),null);
__d("XPageGetNewsFeedSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/save_get_news_feed\/",{page_id:{type:"Int",required:true},follow:{type:"Enum",required:true,enumType:1},ref:{type:"Enum",enumType:1},location:{type:"Enum",enumType:0}});}),null);
__d("XPageGetNotificationSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/save_get_notification\/",{page_id:{type:"Int",required:true},type:{type:"Enum",enumType:1},all_notif:{type:"Bool",defaultValue:false},status:{type:"Bool",defaultValue:false},ref:{type:"Enum",required:true,enumType:1}});}),null);
__d("XPageUserFanningSettingsDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/get_notification\/",{tab:{type:"Enum",enumType:1},page_id:{type:"Int",required:true},__asyncDialog:{type:"Int"}});}),null);
__d('PagesLikeFollowHelper',['ix','cx','fbt','AsyncRequest','Image.react','Layout.react','Link.react','React','ReactXUIMenu','PageGetNotificationUtil','ProfileSubFollowStatus','PagesLikeFollowNotifDispatcher','PagesLikeFollowNotifActions','PagesProfileTestID','XPageFollowMutatorController','XPageGetNewsFeedSaveController','XPageGetNotificationSaveController','XPageUserFanningSettingsDialogController','XUIMenuStaticItem.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){var k=c('Layout.react').Column,l=c('Layout.react').FillColumn,m=c('ReactXUIMenu').SelectableItem,n={newsfeedTitleMenuItem:function o(p){var q=c('XPageUserFanningSettingsDialogController').getURIBuilder().setEnum('tab','newsfeed').setInt('page_id',p).getURI(),r=j._("IN YOUR NEWS FEED");return this._getStaticMenuItem(r,q,'newsfeed_header');},notificationTitleMenuItem:function o(p){var q=c('XPageUserFanningSettingsDialogController').getURIBuilder().setEnum('tab','notif').setInt('page_id',p).getURI(),r=j._("NOTIFICATIONS");return this._getStaticMenuItem(r,q,'notification_header');},_getStaticMenuItem:function o(p,q,r){return c('React').createElement(c('XUIMenuStaticItem.react'),{className:'pageLikeHoverButton/headerItem',key:r},c('React').createElement(c('Layout.react'),null,c('React').createElement(l,null,c('React').createElement('div',{className:"_47vj"},p)),c('React').createElement(k,null,c('React').createElement(c('Link.react'),{href:'#',ajaxify:q,rel:'dialog'},c('React').createElement(c('Image.react'),{src:h("124952")})))));},newsfeedMenuItem:function o(p,q,r){return c('React').createElement(m,{className:"_4bjg"+(r===q?' '+"_5jwm":''),'data-testid':q==c('ProfileSubFollowStatus').SEE_FIRST?c('PagesProfileTestID').SEE_FIRST_ITEM:c('PagesProfileTestID').DEFAULT_FOLLOW_ITEM,key:q,onclick:function(){return this.onNewsFeedChange(p,q);}.bind(this),selected:false},c('React').createElement(c('Image.react'),{className:"_47vl",src:h("128986")}),c('React').createElement(c('Image.react'),{className:"_47vm",src:h("114569")}),c('React').createElement('div',{className:"_5jwn"},this.newsfeedNewsfeedItemText(q)));},newsfeedNewsfeedItemText:function o(p){var q=null;switch(p){case c('ProfileSubFollowStatus').SEE_FIRST:q=j._("See First");break;case c('ProfileSubFollowStatus').REGULAR_FOLLOW:q=j._("Default");break;case c('ProfileSubFollowStatus').UNFOLLOW:q=j._("Unfollow");break;}return q;},notificationMenuItem:function o(p,q,r,s){var t=q?c('PageGetNotificationUtil').titleForTurnOnNotificationOption(s):j._("All Off");return c('React').createElement(m,{className:"_4bjg"+(r?' '+"_5jwm":''),key:'off',onclick:function(){return this._onNotificationsClick(p,q);}.bind(this),selected:false},c('React').createElement(c('Image.react'),{className:"_47vl",src:h("128986")}),c('React').createElement(c('Image.react'),{className:"_47vm",src:h("114569")}),c('React').createElement('div',{className:"_5jwn"},t));},onNewsFeedChange:function o(p,q){this._informNewsFeedChange(p,q);var r=c('XPageGetNewsFeedSaveController').getURIBuilder().setInt('page_id',p).setEnum('follow',q).setEnum('ref','dialog').getURI();new (c('AsyncRequest'))().setURI(r).setHandler(function(s){var t=s.payload;this._informFollowChange(p,t.followStatus);}.bind(this)).send();},onFollowChange:function o(p,q){this._informFollowChange(p,q);if(q)this._informNewsFeedChange(p,c('ProfileSubFollowStatus').REGULAR_FOLLOW);var r=c('XPageFollowMutatorController').getURIBuilder().setInt('page_id',p).setBool('status',q).setEnum('location',141).getURI();new (c('AsyncRequest'))().setURI(r).send();},_informNewsFeedChange:function o(p,q){c('PagesLikeFollowNotifDispatcher').dispatch({type:c('PagesLikeFollowNotifActions').NEWS_FEED_CHANGE,data:{pageID:p,newsFeedStatus:q}});},_onNotificationsClick:function o(p,q,r){this._informNotificationChange(p,q);var s=c('XPageGetNotificationSaveController').getURIBuilder().setInt('page_id',p).setBool('status',q).setBool('all_notif',true).setEnum('ref','www_timeline').getURI();new (c('AsyncRequest'))().setURI(s).setHandler(function(t){this._informFollowChange(p,t.payload.followStatus);}.bind(this)).send();},_informFollowChange:function o(p,q){c('PagesLikeFollowNotifDispatcher').dispatch({type:c('PagesLikeFollowNotifActions').FOLLOW_CHANGED,data:{pageID:p,followStatus:q}});},_informNotificationChange:function o(p,q){var r=q?c('PagesLikeFollowNotifActions').NOTIF_ALL_ON:c('PagesLikeFollowNotifActions').NOTIF_ALL_OFF;c('PagesLikeFollowNotifDispatcher').dispatch({type:r,data:{pageID:p}});}};f.exports=n;}),null);
__d('PagesHeaderLikeButton.react',['ix','cx','fbt','BootloadedComponent.react','ContextualDialogArrow','DOM','Image.react','JSResource','PageGetNotificationUtil','PageLikeButton','ProfileSubFollowStatus','PagesLikeButtonAnimationGKConfig','PagesLikeFollowHelper','PopoverMenu.react','PopoverMenuOverlappingBorder','PopoverMenuShowOnHover','React','ReactDOM','ReactXUIMenu','PagesProfileTestID','XUIButton.react','XUIMenuSeparator.react','XUIPopoverButton.react','XUISpinner.react','fbglyph','goURI'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('ReactXUIMenu').SelectableMenu,n=c('ReactXUIMenu').Item;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(p){l.constructor.call(this,p);this.state={changeToLiked:false};}o.getButtonSize=function(p){return c('XUIButton.react').getButtonSize(p);};o.prototype.componentWillReceiveProps=function(p){if(p.likeStatus!==this.props.likeStatus&&p.likeStatus)this.setState({changeToLiked:true});};o.prototype.render=function(){if(!this.props.likeStatus){return this.$PagesHeaderLikeButton1();}else if(this.props.disableDropdown)return this.$PagesHeaderLikeButton2();var p=[c('React').createElement(n,{'data-testid':c('PagesProfileTestID').UNLIKE_PAGE_ITEM,key:'Unlike.'+this.props.pageID,onclick:function(event){return this.$PagesHeaderLikeButton3(event);}.bind(this)},j._("Unlike this Page"))];if(!this.props.followAllowed){p.push(c('React').createElement(c('XUIMenuSeparator.react'),{key:'like_seperator'}));p.push(c('PagesLikeFollowHelper').newsfeedTitleMenuItem(this.props.pageID));p.push(c('PagesLikeFollowHelper').newsfeedMenuItem(this.props.pageID,c('ProfileSubFollowStatus').SEE_FIRST,this.props.newsFeedStatus));p.push(c('PagesLikeFollowHelper').newsfeedMenuItem(this.props.pageID,c('ProfileSubFollowStatus').REGULAR_FOLLOW,this.props.newsFeedStatus));var q=c('PageGetNotificationUtil').isNotifStatusOn(this.props.notifStatus);p.push(c('PagesLikeFollowHelper').notificationTitleMenuItem(this.props.pageID));p.push(c('PagesLikeFollowHelper').notificationMenuItem(this.props.pageID,true,q,this.props.notifStatus));p.push(c('PagesLikeFollowHelper').notificationMenuItem(this.props.pageID,false,!q,this.props.notifStatus));}return c('React').createElement(c('PopoverMenu.react'),{alignh:'right',behaviors:[c('PopoverMenuOverlappingBorder'),c('PopoverMenuShowOnHover')],layerBehaviors:[c('ContextualDialogArrow')],menu:c('React').createElement(m,{className:this.props.followAllowed?null:"_4bje",multiple:true},p)},this.$PagesHeaderLikeButton4());};o.prototype.$PagesHeaderLikeButton1=function(){return c('React').createElement(c('XUIButton.react'),{className:'likeButton','data-testid':this.props.origin+c('PagesProfileTestID').LIKE_BUTTON_ID,image:c('React').createElement(c('Image.react'),{src:h("127974")}),label:j._("Like"),onClick:function(event){return this.$PagesHeaderLikeButton5(event);}.bind(this),size:this.props.size});};o.prototype.$PagesHeaderLikeButton2=function(){return c('React').createElement(c('XUIButton.react'),{className:'likedButton',image:c('React').createElement(c('Image.react'),{src:h("116760")}),label:j._("Liked"),onClick:function(event){return this.$PagesHeaderLikeButton3(event);}.bind(this),size:this.props.size});};o.prototype.$PagesHeaderLikeButton4=function(){var p=c('PagesLikeButtonAnimationGKConfig').show_animation;return c('React').createElement(c('XUIPopoverButton.react'),{className:"likedButton"+(this.state.changeToLiked&&p?' '+"_2ws0":'')+(this.state.changeToLiked&&p?' '+"_be8":''),'data-testid':this.props.origin+c('PagesProfileTestID').LIKED_BUTTON_ID,image:c('React').createElement(c('Image.react'),{className:this.state.changeToLiked&&p?"_2wsk":'',src:h("116760")}),label:j._("Liked"),size:this.props.size});};o.prototype.$PagesHeaderLikeButton3=function(event){c('PageLikeButton').doUnlikeAction(event,this.props.pageID,this.props.origin,this.props.actorID);};o.prototype.$PagesHeaderLikeButton5=function(event){if(!this.props.pageID||!this.props.actorID)c('goURI')('/');if(this.props.showUnpublishPageDialog)this.$PagesHeaderLikeButton6();c('PageLikeButton').doLikeAction(event.target,this.props.pageID,this.props.origin,this.props.actorID);};o.prototype.$PagesHeaderLikeButton6=function(){c('ReactDOM').render(c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('PageUnpublishPageLikeWarningDialog.react').__setRef('PagesHeaderLikeButton.react'),bootloadPlaceholder:c('React').createElement(c('XUISpinner.react'),null),pageid:this.props.pageID,pageName:this.props.pageName}),c('DOM').create('div'));};f.exports=o;}),null);
__d('PagesLikeStore',['FluxReduceStore','PagesLikeFollowNotifActions','PagesLikeFollowNotifDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;j.prototype.getInitialState=function(){return {};};j.prototype.reduce=function(k,l){var m=babelHelpers['extends']({},k);switch(l.type){case c('PagesLikeFollowNotifActions').LIKE:case c('PagesLikeFollowNotifActions').UNLIKE:case c('PagesLikeFollowNotifActions').INIT_DATA:m[l.data.pageID]=l.data.likeStatus;}return m;};function j(){h.apply(this,arguments);}f.exports=new j(c('PagesLikeFollowNotifDispatcher'));}),null);
__d('PagesHeaderLikeButtonContainer.react',['FluxContainer','PagesFollowStore','PageNewsFeedStore','PagesGetNotificationStore','PagesHeaderLikeButton.react','PagesLikeFollowNotifActions','PagesLikeFollowNotifDispatcher','PagesLikeStore','React','XUIButton.react'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getButtonSize=function(k){'use strict';return c('XUIButton.react').getButtonSize(k);};j.getStores=function(){'use strict';return [c('PagesLikeStore'),c('PagesFollowStore'),c('PageNewsFeedStore'),c('PagesGetNotificationStore')];};j.calculateState=function(k,l){'use strict';var m=c('PagesLikeStore').getState(),n=c('PagesFollowStore').getState(),o=c('PagesGetNotificationStore').getState(),p=c('PageNewsFeedStore').getState(),q={pageID:l.pageID,pageName:l.pageName,actorID:l.actorID,followAllowed:l.followAllowed,newsFeedStatus:p[l.pageID],disableDropdown:l.disableDropdown,likeStatus:m[l.pageID],followStatus:n[l.pageID],notifStatus:babelHelpers['extends']({},o[l.pageID]),origin:l.origin,size:l.size,showUnpublishPageDialog:l.showUnpublishPageDialog,shouldShowFollowPrivacyNux:l.shouldShowFollowPrivacyNux};return q;};j.prototype.componentWillMount=function(){'use strict';c('PagesLikeFollowNotifDispatcher').explicitlyRegisterStores([c('PagesLikeStore'),c('PagesFollowStore'),c('PageNewsFeedStore'),c('PagesGetNotificationStore')]);c('PagesLikeFollowNotifDispatcher').dispatch({data:this.props,type:c('PagesLikeFollowNotifActions').INIT_DATA});};j.prototype.render=function(){'use strict';return c('React').createElement(c('PagesHeaderLikeButton.react'),this.state);};function j(){'use strict';h.apply(this,arguments);}f.exports=c('FluxContainer').create(j,{withProps:true});}),null);
__d("SpotlightProfilePicCropOptions",[],(function a(b,c,d,e,f,g){var h=2.5,i=.8,j=320,k={getOptions:function l(m,n){var o={},p=Math.min(n.x,n.y),q,r,s=m.facebox;if(s){r=Math.max(s.size.x*n.x,s.size.y*n.y)*h;q=s.center;}else{r=i*p;if(m.focus)q=m.focus;}var t=n.x/m.original.width;o.height=o.width=Math.min(Math.max(r,j*t),p);if(q){o.center_x=Math.min(Math.max(q.x*n.x,o.width/2),n.x-o.width/2);o.center_y=Math.min(Math.max(q.y*n.y,o.height/2),n.y-o.height/2);}return o;},getOptionsAsRatio:function l(m,n){var o=k.getOptions(m,n),p=Math.min(n.x,n.y);return {center:{x:o.center_x?o.center_x/n.x:.5,y:o.center_y?o.center_y/n.y:.5},size:{x:o.width/p,y:o.height/p}};}};f.exports=k;}),null);
__d('PhotoZoomCropDimensions',['BasicVector','SpotlightProfilePicCropOptions','clamp'],(function a(b,c,d,e,f,g){var h=320,i=.5,j=.5,k=180,l=.05,m=3;function n(p,q){return Number(p.toFixed(q||m));}o.prototype.clone=function(){'use strict';return new o(this.$PhotoZoomCropDimensions2).setSize(this.$PhotoZoomCropDimensions3.x,this.$PhotoZoomCropDimensions3.y).setSmallestSize(this.$PhotoZoomCropDimensions4.x,this.$PhotoZoomCropDimensions4.y).setCenter(this.$PhotoZoomCropDimensions1.x,this.$PhotoZoomCropDimensions1.y).setZoom(this.$PhotoZoomCropDimensions5);};function o(p){'use strict';this.$PhotoZoomCropDimensions2=p;this.setSmallestSize(k,k).setCenter(i,i);this.setSize(h,h).setZoom(j);}o.prototype.getArea=function(){'use strict';var p=this.getPosition(),q=this.$PhotoZoomCropDimensions3.div(this.$PhotoZoomCropDimensions5);return {height:Math.round(q.y),width:Math.round(q.x),x:Math.round(Math.abs(p.left)/this.$PhotoZoomCropDimensions5),y:Math.round(Math.abs(p.top)/this.$PhotoZoomCropDimensions5)};};o.prototype.getPosition=function(){'use strict';var p=this.$PhotoZoomCropDimensions6();return {height:n(p.imageSize.y),left:n(this.$PhotoZoomCropDimensions3.x/2-p.center.x),top:n(this.$PhotoZoomCropDimensions3.y/2-p.center.y),width:n(p.imageSize.x)};};o.prototype.getRect=function(){'use strict';var p=this.$PhotoZoomCropDimensions6(),q=this.$PhotoZoomCropDimensions3.div(this.$PhotoZoomCropDimensions5);return {center:{x:p.center.x/p.imageSize.x,y:p.center.y/p.imageSize.y},size:{x:q.x,y:q.y}};};o.prototype.getSize=function(){'use strict';return this.$PhotoZoomCropDimensions3;};o.prototype.getZoom=function(){'use strict';return this.$PhotoZoomCropDimensions5;};o.prototype.getZoomRange=function(){'use strict';var p=Math.min(this.$PhotoZoomCropDimensions2.x,this.$PhotoZoomCropDimensions2.y);return {max:this.$PhotoZoomCropDimensions3.x/Math.min(this.$PhotoZoomCropDimensions4.x,p),min:Math.max(this.$PhotoZoomCropDimensions3.x/this.$PhotoZoomCropDimensions2.x,this.$PhotoZoomCropDimensions3.y/this.$PhotoZoomCropDimensions2.y)};};o.prototype.hasSpaceToDrag=function(){'use strict';var p=this.getZoomRange();return !(o.isSquare(this.$PhotoZoomCropDimensions2)&&p.min===p.max);};o.prototype.isCurrentlyDragable=function(){'use strict';var p=this.$PhotoZoomCropDimensions6().imageSize;return p.x!==this.$PhotoZoomCropDimensions3.x||p.y!==this.$PhotoZoomCropDimensions3.y;};o.prototype.moveByPixels=function(p,q){'use strict';var r=this.$PhotoZoomCropDimensions6();return this.moveBy(p/r.imageSize.x,q/r.imageSize.y);};o.prototype.moveBy=function(p,q){'use strict';this.setCenter(this.$PhotoZoomCropDimensions1.x+p,this.$PhotoZoomCropDimensions1.y+q);var r=this.$PhotoZoomCropDimensions6();this.$PhotoZoomCropDimensions1=r.center.div(r.imageSize.x,r.imageSize.y);return this;};o.prototype.setCenter=function(p,q){'use strict';this.$PhotoZoomCropDimensions1=new (c('BasicVector'))(c('clamp')(p,0,1),c('clamp')(q,0,1));return this;};o.prototype.setSize=function(p,q){'use strict';this.$PhotoZoomCropDimensions3=new (c('BasicVector'))(p,q);return this;};o.prototype.setRatio=function(p,q){'use strict';var r=this.$PhotoZoomCropDimensions3.x*this.$PhotoZoomCropDimensions3.y,s=Math.sqrt(r*p/q);return this.setSize(s,r/s);};o.prototype.setSmallestSize=function(p,q){'use strict';this.$PhotoZoomCropDimensions4=new (c('BasicVector'))(p,q);return this;};o.prototype.setZoom=function(p){'use strict';var q=this.getZoomRange();this.$PhotoZoomCropDimensions5=c('clamp')(p,q.min,q.max);return this;};o.prototype.cloneAndZoom=function(p){'use strict';var q=this.clone();q.setZoom(p);return q;};o.prototype.cloneAndMove=function(p,q){'use strict';var r=this.clone();r.moveByPixels(p,q);return r;};o.prototype.$PhotoZoomCropDimensions7=function(p,q){'use strict';var r=this.$PhotoZoomCropDimensions3.x/2,s=this.$PhotoZoomCropDimensions3.y/2;return new (c('BasicVector'))(c('clamp')(q.x,r,p.x-r),c('clamp')(q.y,s,p.y-s));};o.prototype.$PhotoZoomCropDimensions6=function(){'use strict';var p=this.$PhotoZoomCropDimensions2.mul(this.$PhotoZoomCropDimensions5);return {imageSize:p,center:this.$PhotoZoomCropDimensions7(p,this.$PhotoZoomCropDimensions1.mul(p.x,p.y))};};o.isSquare=function(p){'use strict';return Math.abs(p.x/p.y-1)<l;};o.fromProfilePhotoData=function(p,q){'use strict';var r=new (c('BasicVector'))(p.original.width,p.original.height),s=new o(r),t=void 0;if(q){t=q;}else if(p.previousprofilepic){t=p.facebox||{center:{x:.5,y:.5},size:{x:1,y:1}};}else t=c('SpotlightProfilePicCropOptions').getOptionsAsRatio(p,r);if(t.center)s.setCenter(t.center.x,t.center.y);if(t.size&&t.size.x){var u=t.size.x*r.x;s.setZoom(s.getSize().x/u);}return s;};f.exports=o;}),null);
__d('PhotoZoomCropImagePreview.react',['cx','Image.react','PhotoZoomCropDimensions','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=this.props,n=m.dimensions,o=m.size,p=n.getSize().x/o.x;if(p!==1)n=n.clone().setSize(o.x,o.y).setZoom(n.getZoom()/p);var q=null;if(this.props.overlay)q=c('React').createElement('div',{className:"_1_fc"},this.props.overlay);return c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_1k3v"),style:babelHelpers['extends']({},this.props.style||{},{height:o.y,width:o.x})}),c('React').createElement(c('Image.react'),{className:"_1k3w",src:this.props.src,style:n.getPosition()}),q);};function l(){'use strict';i.apply(this,arguments);}l.propTypes={dimensions:k.instanceOf(c('PhotoZoomCropDimensions')).isRequired,overlay:k.element,size:k.shape({x:k.number.isRequired,y:k.number.isRequired}).isRequired,src:k.oneOfType([k.string,k.object])};f.exports=l;}),null);
__d('PhotoZoomCropImage.react',['cx','fbt','ix','Event','Image.react','Keys','PhotoZoomCropImagePreview.react','React','UserAgent','Vector','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('React').PropTypes,n=5;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={moved:false},this.$PhotoZoomCropImage5=function(u){this.$PhotoZoomCropImage2=null;var v=0,w=0;switch(c('Event').getKeyCode(u)){case c('Keys').DOWN:w=n;break;case c('Keys').LEFT:v=-n;break;case c('Keys').RIGHT:v=n;break;case c('Keys').UP:w=-n;break;}if(v||w){this.props.onMove(v,w);this.setState({moved:true});}}.bind(this),this.$PhotoZoomCropImage6=function(u){if(this.$PhotoZoomCropImage2)return;u.preventDefault();this.$PhotoZoomCropImage2=c('Vector').getEventPosition(u);}.bind(this),this.$PhotoZoomCropImage3=function(u){var v=this.$PhotoZoomCropImage2;if(!v||!this.props.enableDrag)return;var w=c('Vector').getEventPosition(u),x=v.sub(w);this.props.onMove(x.x,x.y);this.setState({moved:true});this.$PhotoZoomCropImage2=w;}.bind(this),this.$PhotoZoomCropImage4=function(){this.$PhotoZoomCropImage2=null;}.bind(this),q;}o.prototype.componentDidMount=function(){'use strict';var p=c('UserAgent').isBrowser('IE < 9')?document.documentElement:window;this.$PhotoZoomCropImage1=c('Event').listen(p,{mousemove:this.$PhotoZoomCropImage3,mouseup:this.$PhotoZoomCropImage4});};o.prototype.componentWillUnmount=function(){'use strict';if(this.$PhotoZoomCropImage1)for(var p in this.$PhotoZoomCropImage1){this.$PhotoZoomCropImage1[p]&&this.$PhotoZoomCropImage1[p].remove();this.$PhotoZoomCropImage1[p]=null;}};o.prototype.render=function(){'use strict';var p=this.props.dimensions,q=p.getSize(),r=null;if(this.props.overlay)r=c('React').createElement('div',{className:"_290-"},this.props.overlay);var s=null;if(this.props.customControls){s=c('React').createElement('div',{className:!this.props.enableDrag?"_3dfz":''},this.props.customControls);}else s=c('React').createElement('div',{className:"_3dfy"+(this.state.moved||!this.props.enableDrag?' '+"_3dfz":'')},c('React').createElement('span',{className:"_3df-"},c('React').createElement(c('Image.react'),{className:"_3-8_ _3df_",src:j("22701")}),i._("Drag to Reposition")));return c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_4on5"),style:babelHelpers['extends']({},this.props.style||{},{height:q.y,width:q.x})}),c('React').createElement(c('PhotoZoomCropImagePreview.react'),{dimensions:p,onKeyDown:this.$PhotoZoomCropImage5,overlay:this.props.overlay,size:q,src:this.props.src,tabIndex:0}),s,c('React').createElement(c('Image.react'),{className:"_4on7"+(!this.props.enableDrag?' '+"_3mk2":''),onDragStart:c('Event').prevent,onMouseDown:this.$PhotoZoomCropImage6,src:this.props.src,style:p.getPosition()}),r);};o.propTypes={customControls:m.element,dimensions:m.object,enableDrag:m.bool,onMove:m.func,overlay:m.element,src:m.oneOfType([m.string,m.object])};o.defaultProps={enableDrag:true};f.exports=o;}),null);
__d('PhotoZoomCropMixin',['ix','cx','invariant','xuiglyph','React','Image.react'],(function a(b,c,d,e,f,g,h,i,j,k){var l={getDimensions:function m(){return this._dims;},resetDimensions:function m(){this.setState(this.getInitialState());},_handleMove:function m(n,o){this._dims.moveByPixels(n,o);this.setState(this._getDimensionsState());},_handleZoom:function m(n,o){this._dims.setZoom(n[0]);var p=this._getDimensionsState();p.position=o||n[0];this.setState(p);},_getDimensionsState:function m(){return {dimensions:this._dims.getPosition(),zoom:this._dims.getZoom()};},_getMessage:function m(){var n,o;this.__getZoom||j(0);if(this.__getZoom()>1&&this.props.warningText){n=h("89108");o=this.props.warningText;}else if(this.props.messageText){n=h("89336");o=this.props.messageText;}else return null;return this._getMessageMarkup(n,o);},_getMessageMarkup:function m(n,o){return c('React').createElement('div',{className:"_aym"},c('React').createElement(c('Image.react'),{className:"_a63",src:n}),o);}};f.exports=l;}),null);
__d('ProfileHeaderSpinner.react',['cx','React','XUISpinner.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';if(!this.props.shown)return null;return c('React').createElement('div',{className:"_5mb0"},c('React').createElement(c('XUISpinner.react'),{background:'light',size:'large'}));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('ProfileHeaderViewShapes',['React'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=h.shape({focus:h.shape({height:h.number,width:h.number}),original:h.shape({height:h.number,width:h.number}),permalinkURI:h.string,source:h.number,uri:h.string});f.exports={COVER_PHOTO_DATA:i};}),null);
__d('ProfileWizardStrings',['fbt'],(function a(b,c,d,e,f,g,h){var i={CANCEL:h._("Cancel"),CHOOSE_FROM_MY_PHOTOS:h._("Choose From My Photos"),COVER_PHOTO_CHANGE_NOTICE:h._("Change your cover photo any time from the camera icon."),COVER_PHOTO_LEAVE_WARNING:h._("The changes you made to your cover photo haven't been saved."),PROFILE_PICTURE_CHANGE_NOTICE:h._("Change your profile picture any time from the camera icon."),SAVE:h._("Save"),UPDATE_COVER_PHOTO:h._("Update Cover Photo"),UPLOAD_PHOTO:h._("Upload Photo"),UPDATE_PROFILE_PICTURE:h._("Update Profile Picture")};f.exports=i;}),null);
__d('ProfileHeaderCoverPhoto.react',['cx','BasicVector','PhotoZoomCropDimensions','PhotoZoomCropMixin','PagesProfileTestID','ProfileHeaderViewShapes','ProfileWizardStrings','React','ReactComponentWithPureRenderMixin','PhotoZoomCropImage.react','ProfileHeaderSpinner.react','XUIButton.react'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'ProfileHeaderCoverPhoto',_dims:null,mixins:[c('PhotoZoomCropMixin'),c('ReactComponentWithPureRenderMixin')],propTypes:{coverPhotoData:c('ProfileHeaderViewShapes').COVER_PHOTO_DATA.isRequired,customControls:i.element,emptyCover:i.element,height:i.number.isRequired,isHidden:i.bool,isLoading:i.bool,previewCancelHandler:i.func,previewMode:i.bool,previewSaveHandler:i.func,width:i.number.isRequired},getDefaultProps:function k(){return {previewCancelHandler:function l(){},previewSaveHandler:function l(){}};},getInitialState:function k(){this._updateDimensions(this.props.coverPhotoData);return babelHelpers['extends']({},this._getUpdatedDimensionsState());},componentWillReceiveProps:function k(l){var m=this.props.coverPhotoData;if(m.id===l.coverPhotoData.id&&this.props.previewMode===l.previewMode){var n=m.focus;if(!n)return;if(n.width===l.coverPhotoData.focus.width&&n.height===l.coverPhotoData.focus.height)return;}this._updateDimensions(l.coverPhotoData,l.height);this.setState(babelHelpers['extends']({},this._getUpdatedDimensionsState()));},_updateDimensions:function k(l,m){var n=l.original;if(n==null)return;var o=new (c('BasicVector'))(n.width,n.height),p=new (c('PhotoZoomCropDimensions'))(o);p.setSize(this.props.width,m||this.props.height);var q=l.focus;if(q)p.setCenter(q.width,q.height);p.setZoom(p.getSize().x/n.width);this._dims=p;},_getUpdatedDimensionsState:function k(){return this._getDimensionsState();},render:function k(){var l=this.props.coverPhotoData,m=void 0;if(l.uri){var n=!!(this.props.previewMode&&this._dims&&this._dims.isCurrentlyDragable());m=c('React').createElement(c('PhotoZoomCropImage.react'),{className:"_2oru"+(this.props.isHidden||this.props.isLoading?' '+"_2orv":''),customControls:this.props.customControls,dimensions:this._dims,enableDrag:n,onMove:this._handleMove,src:l.uri});}else if(this.props.emptyCover){m=this.props.emptyCover;}else m=c('React').createElement('div',{className:"_2orw"});var o=null;if(this.props.previewMode&&!this.props.customControls)o=c('React').createElement('div',{className:"_1tg"},c('React').createElement('div',{className:"_1th"},c('React').createElement(c('XUIButton.react'),{'data-testid':c('PagesProfileTestID').COVER_PHOTO_SAVE_BUTTON,label:c('ProfileWizardStrings').SAVE,onClick:this.props.previewSaveHandler,size:'large',use:'confirm'}),c('React').createElement(c('XUIButton.react'),{label:c('ProfileWizardStrings').CANCEL,onClick:this.props.previewCancelHandler,size:'large'})));return c('React').createElement('div',{className:"_2orx",style:{height:this.props.height,width:this.props.width}},m,o,c('React').createElement(c('ProfileHeaderSpinner.react'),{shown:this.props.isLoading}));},getOffsets:function k(){var l=this.getDimensions().getPosition();return {x:l.left/l.width,y:l.top/l.height};},getCenter:function k(){var l=this.getDimensions().getRect();return l.center;},__getZoom:function k(){return this.state.zoom;}});f.exports=j;}),null);
__d('Dimensions',[],(function a(b,c,d,e,f,g){'use strict';var h={get:function i(){return {fontScale:1,height:550,width:310,scale:2.5};}};f.exports=h;}),null);
__d('PixelRatio',['Dimensions'],(function a(b,c,d,e,f,g){'use strict';var h={get:function i(){return c('Dimensions').get('window').scale;},getFontScale:function i(){return c('Dimensions').get('window').fontScale||h.get();},getPixelSizeForLayoutSize:function i(j){return Math.round(j*h.get());},roundToNearestPixel:function i(j){var k=h.get();return Math.round(j*k)/k;},startDetecting:function i(){}};f.exports=h;}),null);
__d('swfobject',['AsyncRequest','Bootloader','CSS','htmlSpecialChars'],(function a(b,c,d,e,f,g){if(typeof h=="undefined")var h={};if(typeof h.util=="undefined")h.util={};if(typeof h.SWFObjectUtil=="undefined")h.SWFObjectUtil={};h.SWFObject=function(j,k,l,m,n,o,p,q,r,s){if(!document.getElementById)return;this.DETECT_KEY=s?s:'detectflash';this.skipDetect=h.util.getRequestParameter(this.DETECT_KEY);this.params={};this.variables={};this.attributes=[];this.fallback_html='';this.fallback_js_fcn=function(){};if(j)this.setAttribute('swf',j);if(k)this.setAttribute('id',k);if(l)this.setAttribute('width',l);if(m)this.setAttribute('height',m);this.installedVer=h.SWFObjectUtil.getPlayerVersion();if(n){if(!(n instanceof Array))n=[n];var t;n.forEach(function(w){t=new h.PlayerVersion(w.toString().split('.'));if(t.major==this.installedVer.major){this.setAttribute('version',t);return;}else if(!this.getAttribute('version')||t.major<this.getAttribute('version').major)this.setAttribute('version',t);}.bind(this));}if(!window.opera&&document.all&&this.installedVer.major>7)if(!h.unloadSet){h.SWFObjectUtil.prepUnload=function(){var w=function y(){},x=function y(){};window.attachEvent("onunload",h.SWFObjectUtil.cleanupSWFs);};window.attachEvent("onbeforeunload",h.SWFObjectUtil.prepUnload);h.unloadSet=true;}if(o)this.addParam('bgcolor',o);var u=p?p:'high';this.addParam('quality',u);this.setAttribute('useExpressInstall',false);this.setAttribute('doExpressInstall',false);var v=q?q:window.location;this.setAttribute('xiRedirectUrl',v);this.setAttribute('redirectUrl','');if(r)this.setAttribute('redirectUrl',r);};h.SWFObject.ieWorkaroundApplied=false;h.SWFObject.ensureIEWorkaroundAttached=function(){if(!h.SWFObject.ieWorkaroundApplied&&document.attachEvent){h.SWFObject.ieWorkaroundApplied=true;document.attachEvent('onpropertychange',h.SWFObject.onDocumentPropertyChange);}};h.SWFObject.onDocumentPropertyChange=function(event){if(event.propertyName=="title"){var j=document.title;if(j!=null&&j.indexOf('#!')!=-1){j=j.substring(0,j.indexOf('#!'));document.title=j;}}};Object.assign(h.SWFObject.prototype,{useExpressInstall:function j(k){this.xiSWFPath=!k?"/swf/expressinstall.swf":k;this.setAttribute('useExpressInstall',true);},setAttribute:function j(k,l){this.attributes[k]=l;},getAttribute:function j(k){return this.attributes[k]||"";},addParam:function j(k,l){this.params[k]=l;},getParams:function j(){return this.params;},addVariable:function j(k,l){this.variables[k]=l;},getVariable:function j(k){return this.variables[k]||"";},getVariables:function j(){return this.variables;},getVariablePairs:function j(){var k=[],l,m=this.getVariables();for(l in m)k[k.length]=l+"="+m[l];return k.join('&');},getSWFHTML:function j(){var k,l,m;if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute('swf',this.xiSWFPath);}l={type:'application/x-shockwave-flash',src:this.getAttribute('swf'),width:this.getAttribute('width'),height:this.getAttribute('height'),style:this.getAttribute('style')||'display: block;',id:this.getAttribute('id'),name:this.getAttribute('id')};var n=this.getParams();for(var o in n)l[o]=n[o];m=this.getVariablePairs();if(m)l.flashvars=m;k=i('embed',l,null);}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute('swf',this.xiSWFPath);}l={id:this.getAttribute('id'),classid:'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000',width:this.getAttribute('width'),height:this.getAttribute('height'),style:this.getAttribute('style')||'display: block;'};var p=i('param',{name:'movie',value:this.getAttribute('swf')},null),n=this.getParams();for(var o in n)p+=i('param',{name:o,value:n[o]},null);m=this.getVariablePairs();if(m)p+=i('param',{name:'flashvars',value:m},null);k=i('object',l,p);}return k;},write:function j(k){if(this.getAttribute('useExpressInstall')){var l=new h.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(l)&&!this.installedVer.versionIsValid(this.getAttribute('version'))){this.setAttribute('doExpressInstall',true);this.addVariable("MMredirectURL",escape(this.getAttribute('xiRedirectUrl')));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title);}}var m=typeof k=='string'?document.getElementById(k):k;if(!m)return false;c('CSS').addClass(m,'swfObject');m.setAttribute('data-swfid',this.getAttribute('id'));if(this.skipDetect||this.getAttribute('doExpressInstall')||this.installedVer.versionIsValid(this.getAttribute('version'))){h.SWFObject.ensureIEWorkaroundAttached();m.innerHTML=this.getSWFHTML();return true;}else{if(this.getAttribute('redirectUrl')!="")document.location.replace(this.getAttribute('redirectUrl'));var n=this.getAttribute('version').major+'.'+this.getAttribute('version').minor+'.'+this.getAttribute('version').release+'.'+this.getAttribute('version').build,o=this.installedVer.major+'.'+this.installedVer.minor+'.'+this.installedVer.release+'.'+this.installedVer.build;this.fallback_js_fcn(o,n);m.innerHTML=this.fallback_html;}return false;}});h.SWFObjectUtil.getPlayerVersion=function(){var j=new h.PlayerVersion([0,0,0,0]),k;if(navigator.plugins&&navigator.mimeTypes.length){for(var l=0;l<navigator.plugins.length;l++)try{var m=navigator.plugins[l];if(m.name=='Shockwave Flash'){k=new h.PlayerVersion(m.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+(r|d)|\s+b[0-9]+)/,".").split("."));if(typeof j=='undefined'||k.major>j.major||k.major==j.major&&(k.minor>j.minor||k.minor==j.minor&&(k.release>j.release||k.release==j.release&&k.build>j.build)))j=k;}}catch(p){}}else if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var n=1,o=3;while(n)try{o++;n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+o);j=new h.PlayerVersion([o,0,0]);}catch(p){n=null;}}else{try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");}catch(p){try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");j=new h.PlayerVersion([6,0,21]);n.AllowScriptAccess="always";}catch(q){if(j.major==6)return j;}try{n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}catch(q){}}if(n!=null)j=new h.PlayerVersion(n.GetVariable("$version").split(" ")[1].split(","));}return j;};h.PlayerVersion=function(j){this.major=j[0]!=null?parseInt(j[0],10):0;this.minor=j[1]!=null?parseInt(j[1],10):0;this.release=j[2]!=null?parseInt(j[2],10):0;this.build=j[3]!=null?parseInt(j[3],10):0;};h.PlayerVersion.prototype.versionIsValid=function(j){if(this.major<j.major)return false;if(this.major>j.major)return true;if(this.minor<j.minor)return false;if(this.minor>j.minor)return true;if(this.release<j.release)return false;if(this.release>j.release)return true;if(this.build<j.build)return false;return true;};h.util={getRequestParameter:function j(k){var l=document.location.search||document.location.hash;if(k==null)return l;if(l){var m=l.substring(1).split("&");for(var n=0;n<m.length;n++)if(m[n].substring(0,m[n].indexOf("="))==k)return m[n].substring(m[n].indexOf("=")+1);}return "";}};h.SWFObjectUtil.cleanupSWFs=function(){var j=document.getElementsByTagName("OBJECT");for(var k=j.length-1;k>=0;k--){j[k].style.display='none';for(var l in j[k])if(typeof j[k][l]=='function')j[k][l]=function(){};}};if(!document.getElementById&&document.all)document.getElementById=function(j){return document.all[j];};h.spawn_flash_update_dialog=function(){new (c('AsyncRequest'))().setURI('/ajax/flash_update_dialog.php').setMethod('GET').setReadOnly(true).send();};h.showFlashErrorDialog=function(j,k){c('Bootloader').loadModules(["ErrorDialog"],function(l){l.show(j,k);},'swfobject');};function i(j,k,l){var m=/^[A-Za-z0-9\-]+$/;if(!j.match(m))throw new Error('Invalid tag '+j);var n='<'+j;for(var o in k){if(!o.match(m))throw new Error('Invalid attr '+o);n+=' '+o+'="'+c('htmlSpecialChars')(k[o])+'"';}if(l===null){return n+'/>';}else return n+'>'+l+'</'+j+'>';}f.exports=b.deconcept||h;}),null);
__d('VideoChannelHandleLink',['Bootloader','CSS','TahoeVariables','URI','VideoChannel','VideoChannelController','setImmediate','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){var h={handleClick:function i(j){var k;if(c('TahoeVariables').useTahoe&&j.getAttribute('href')){(function(){var p=new (c('URI'))(j.getAttribute('href')),q=null,r=null;if(c('TahoeVariables').useChannelChaining){q=j.getAttribute('data-video-channel-id');var s=j.getAttribute('data-channel-caller'),t=s;r=t;}c('Bootloader').loadModules(["TahoeController"],function(u){u.openFromVideoLink(p,q,r);},'VideoChannelHandleLink');})();}else{var l=j.getAttribute('data-video-channel-id'),m=j.getAttribute('data-channel-caller'),n=m,o=j.getAttribute('data-video-id');this.openChannel(l,n,o,j);}},openChannel:function i(j,k,l,m){m&&c('CSS').addClass(m,'async_saving');if(c('VideoChannel').get()){c('VideoChannel').get().getDialog().hide();c('setImmediate')(function(){return this.openChannel(j,k,l);}.bind(this));}else c('VideoChannel').set(new (c('VideoChannelController'))(j,k,l,null));c('setTimeoutAcrossTransitions')(function(){m&&c('CSS').removeClass(m,'async_saving');});}};f.exports=h;}),null);
__d('VideoLink.react',['cx','Bootloader','React','TahoeVariables','URI','VideoChannelHandleLink','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$VideoLink1=function(event){var q,r=this;event.preventDefault();if(c('TahoeVariables').useTahoe&&this.props.href){(function(){var s=r.props,t=s.channelID,u=s.channelCaller,v=s.playerOrigin,w=s.playerSuborigin,x=new (c('URI'))(r.props.href);c('Bootloader').loadModules(["TahoeController"],function(y){y.openFromVideoLink(x,t,u,v,w);},'VideoLink.react');})();}else c('VideoChannelHandleLink').openChannel(this.props.channelID,this.props.channelCaller,this.props.videoID);if(this.props.onClick)this.props.onClick();}.bind(this),m;}k.prototype.render=function(){return c('React').createElement('div',babelHelpers['extends']({},this.props,{href:this.props.href,ref:'link',onClick:this.$VideoLink1,className:c('joinClasses')(this.props.className,"_3vwb"),role:'button',tabIndex:'0'}),this.props.children);};f.exports=k;}),null);
__d('PublicLiveMapConstants',['cx','VideoPlayerLoggerSource'],(function a(b,c,d,e,f,g,h){'use strict';var i={DEFAULT_MAP_ZOOM:4,POPUP_POSITION_OFFSET:[0,0],POPUP_OPEN_TIMEOUT_MS:100,HOVER_INTENT_TIMEOUT_MS:100,DEBOUNCE_TIMER_MS:400,MINIMUM_VIDEO_SIZE_PX:400,COMMENT_INPUT_HEIGHT:48,TOP_N_TO_SHOW_IN_SIDEBAR:20,NUMBER_OF_CACHE_LEVELS:3,NUMBER_OF_VIEWERS_TO_SHOW:200,MARKER_STATUS:{SPECIAL_EVENT:'special_event'},FB_HEADER_HEIGHT:42,BROADCAST_MARKER_OPTIONS:{stroke:false,fill:'true',radius:4,pointerEvents:'all'},NON_INTERACTIVE_MARKER_OPTIONS:{stroke:false,fill:'true',fillOpacity:1,radius:2,pointerEvents:'none'},VIEWER_MARKER_OPTIONS:{stroke:false,fill:'true',fillOpacity:1,radius:3,pointerEvents:'none'},VIEWER_LINE_OPTIONS:{color:'#1c4f8c',weight:.9,opacity:.5,smoothFactor:0,pointerEvents:'none'},DEFAULT_VIDEOPORT_SIZE:{width:900,height:600},VIDEO_PLAYER_DIALOG:{VERT_PADDING:320,HORIZ_PADDING:320,COMMENT_WIDTH:350},TOOLTIP:{OFFSCREEN:-500,DEFAULT:{LEFT:-109,TOP:-110},BOUNDS:{LEFT_LIMIT:180,RIGHT_LIMIT:250,TOP_LIMIT:290},VIDEO_DIMENSIONS:{MAX_WIDTH:368,TOOLTIP_SIZE:218},DESCRIPTION_LINE_LENGTH:30,DESCRIPTION_LINE_HEIGHT:20,LEFT_EDGE_ADJUST:5,RIGHT_EDGE_ADJUST:-10,TOP_EDGE_ADJUST:28,SIDEBAR:{TOP:310,LEFT:265,RIGHT:'auto'}},MAP_CENTER_OPTIONS:{AMERICAS_CENTER:[17,-40],AFRO_EURO_CENTER:[20,0],APAC_CENTER:[10,116]},MAP_BOUNDS:[[-85,-Infinity],[85,+Infinity]],STANDARD_MAP_BOUNDS:{x:-180,y:-90,width:360,height:180},STANDARD_MAP_SEARCH_BOX:{x1:-180,y1:-90,x2:180,y2:90},POPULARITY_MARKERS:{ONE:{className:"_3avk _3avl",iconSize:[12,12],iconAnchor:[6,6]},TWO:{className:"_3avq _3avl",iconSize:[16,16],iconAnchor:[8,8]},THREE:{className:"_3avr _3avl",iconSize:[20,20],iconAnchor:[10,10]},FOUR:{className:"_1iq1 _3avl",iconSize:[20,20],iconAnchor:[10,10]}},SPECIAL_EVENT_MARKER:{className:"_t0m _3avl",iconSize:[20,20],iconAnchor:[10,10]},ZOOM_CONTROLS:{vertical:'bottom',horizontal:'right'},MAP_TYPE:{LEAFLET:'leaflet',WEBGL:'webgl'},VIEW_MODE:{MAP_VIEW:'map_view',LIST_VIEW:'list_view'},ZOOM_CUTOFF_FOR_CACHE:{DYNAMIC:6,LEVEL_2:5,LEVEL_3:6},POLLING_VIDEO_COUNT:{LEVEL_0:300,LEVEL_1:300,LEVEL_2:400,DYNAMIC:100},MIN_VIEWERS_FOR_DYNAMIC_FETCH:0,MAX_VIEWERS_FOR_DYNAMIC_FETCH:6,isInlinePlayer:function j(k){return k===c('VideoPlayerLoggerSource').LIVE_MAP_SIDEBAR||k===c('VideoPlayerLoggerSource').LIVE_MAP_LISTVIEW||k===c('VideoPlayerLoggerSource').LIVE_MAP_TOOLTIP||k===c('VideoPlayerLoggerSource').LIVE_MAP_TOOLTIP_FROM_LISTVIEW||k===c('VideoPlayerLoggerSource').LIVE_MAP_TOOLTIP_FROM_WEBGL||k===c('VideoPlayerLoggerSource').LIVE_MAP_TOOLTIP_FROM_MAP;}};f.exports=i;}),null);
__d("XHotLiveVideoPayloadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/cdn\/cacheable\/hot_live_video_payload\/{broadcast_id}\/",{broadcast_id:{type:"Int",required:true}});}),null);
__d('HotLiveVideoPayloadManager',['Arbiter','AjaxRequest','XHotLiveVideoPayloadController'],(function a(b,c,d,e,f,g){var h={_subscribedPayloads:{},subscribe:function i(j,k,l){var m=false;if(j in this._subscribedPayloads){var n=this._subscribedPayloads[j];++n.count;if('lastPayload' in n&&k in n.lastPayload)l(n.lastPayload[k]);}else{this._subscribedPayloads[j]={count:1,intervalHandle:window.setInterval(this._fetchPayload.bind(this,j),3000)};m=true;}var o=c('Arbiter').subscribe('HotLiveVideoPayloadManager/'+j+'/'+k,this._onCallback.bind(this,l));if(m)this._fetchPayload(j);return {arbiterToken:o,videoId:j,cancel:function p(){h.unsubscribe(this);}};},unsubscribe:function i(j){c('Arbiter').unsubscribe(j.arbiterToken);var k=this._subscribedPayloads[j.videoId];--k.count;if(k.count==0){if('intervalHandle' in k)window.clearInterval(k.intervalHandle);delete this._subscribedPayloads[j.videoId];}},_fetchPayload:function i(j){var k=c('XHotLiveVideoPayloadController').getURIBuilder().setInt('broadcast_id',j).getURI(),l=new (c('AjaxRequest'))('GET',k);l.streamMode=false;l.onJSON=this._onPayload.bind(this,j);l.onError=this._onError.bind(this,j);l.send();},_onPayload:function i(j,k){var l=this._subscribedPayloads[j];l.lastPayload=k.json;for(var m in k.json)c('Arbiter').inform('HotLiveVideoPayloadManager/'+j+'/'+m,k.json[m]);},_onError:function i(j,k){if(k.status==404&&j in this._subscribedPayloads){var l=this._subscribedPayloads[j];if('intervalHandle' in l){window.clearInterval(l.intervalHandle);delete l.intervalHandle;}}},_onCallback:function i(j,k,l){j(l);}};f.exports=h;}),null);
__d('Pleasantville.react',['React','ReactDOM','VideoPlayerHTML5Api','VideoPlayerHTML5Shaka','VideoPlayerReactConfig','VideoQualityClass'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props,l=k.offsetType,m=k.offsetValue,n=null,o=null;if(l=='horizontal'){o=m;}else if(l=='vertical')n=m;return c('React').createElement('video',{ref:'video',muted:this.props.startMuted,className:this.props.className,'data-video-width':this.props.width||'','data-video-height':this.props.height||'',style:{top:n,left:o}});};j.prototype.getVideoPlayerInitArgs=function(){var k={VideoPlayerHTML5Shaka:c('VideoPlayerHTML5Shaka'),disableNativeControls:true,subtitlesActive:this.props.showSubtitles,minQuality:this.props.forceHD?c('VideoQualityClass').HD:c('VideoPlayerReactConfig').defaultQuality,unloadShouldCancelPendingRequest:true};return {apiConfig:k,apiModule:c('VideoPlayerHTML5Api'),videoElement:c('ReactDOM').findDOMNode(this.refs.video)};};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('VideoPlayerFlashApi',['AbstractVideoPlayerApi','Arbiter','DOMQuery','Flash','SubscriptionsHandler','VideoPlayerApiEvents','VideoPlayerLoggerErrors','VideoPlayerLoggerEvent','destroyOnUnload'],(function a(b,c,d,e,f,g){var h,i;function j(m){if(m.hasAttribute('data-flash'))return m.getAttribute('id');return c('DOMQuery').find(m,'div[data-flash]').getAttribute('id');}function k(m){var n=c('DOMQuery').scry(m,'embed');if(!n.length)n=c('DOMQuery').scry(m,'object');return n[0];}h=babelHelpers.inherits(l,c('AbstractVideoPlayerApi'));i=h&&h.prototype;function l(m){'use strict';i.constructor.call(this);this.$VideoPlayerFlashApi1=k(m);this.$VideoPlayerFlashApi2=j(m);this.$VideoPlayerFlashApi3=null;this.$VideoPlayerFlashApi4=false;this.$VideoPlayerFlashApi5=new (c('SubscriptionsHandler'))();this.$VideoPlayerFlashApi5.addSubscriptions(c('Arbiter').subscribe(c('VideoPlayerApiEvents').map(function(n){return 'flash/'+n;}),this.$VideoPlayerFlashApi6.bind(this)));c('destroyOnUnload')(function(){return this.$VideoPlayerFlashApi5.release();}.bind(this));}l.onImplementationReady=function(m,n){'use strict';var o=k(m);if(o&&o.playVideo)return n(m);var p=j(m),q=c('Arbiter').subscribe('flash/ready',function(r,s){if(s.divID===p){c('Arbiter').unsubscribeCurrentSubscription();c('Arbiter').releaseCurrentPersistentEvent();n(m);}});c('destroyOnUnload')(function(){return q.unsubscribe();});};l.isImplementationUnavailable=function(){'use strict';return !c('Flash').isAvailable();};l.prototype.$VideoPlayerFlashApi6=function(m,n){'use strict';if(n.divID!==this.$VideoPlayerFlashApi2)return;var o=m.substr('flash/'.length);switch(o){case 'beginPlayback':this.$VideoPlayerFlashApi7=false;this.$VideoPlayerFlashApi8=n.position;this.$VideoPlayerFlashApi9=n.position;this.$VideoPlayerFlashApi4=true;break;case 'updateStatus':this.$VideoPlayerFlashApi9=n.position;break;case 'finishPlayback':this.$VideoPlayerFlashApi9=this.getPlaybackDuration();case 'pausePlayback':this.$VideoPlayerFlashApi4=false;}this.emit(o,n);};l.prototype.preload=function(){'use strict';};l.prototype.isPreloading=function(){'use strict';return false;};l.prototype.abortLoading=function(){'use strict';};l.prototype.destroy=function(m){'use strict';this.$VideoPlayerFlashApi5.release();};l.prototype.isPaused=function(){'use strict';return undefined;};l.prototype.pause=function(m){'use strict';if(m==='unloaded'&&typeof this.$VideoPlayerFlashApi1.pauseVideo!=='function'){if(this.$VideoPlayerFlashApi4)this.emit('logEvent',{logData:{event:c('VideoPlayerLoggerEvent').PAUSED,reason:'unloaded',video_last_start_time_position:this.$VideoPlayerFlashApi8,video_time_position:this.$VideoPlayerFlashApi9}});this.$VideoPlayerFlashApi4=false;return;}if(this.$VideoPlayerFlashApi7){this.$VideoPlayerFlashApi7=false;this.emit('logEvent',{logData:{event:c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING,reason:m}});}this.$VideoPlayerFlashApi4=false;for(var n=arguments.length,o=Array(n>1?n-1:0),p=1;p<n;p++)o[p-1]=arguments[p];this.$VideoPlayerFlashApi10('pauseVideo',[m].concat(o));};l.prototype.play=function(){'use strict';this.$VideoPlayerFlashApi7=true;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('playVideo',n,true);};l.prototype.replaceVideoDataFromURL=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('replaceVideoDataFromURL',n);};l.prototype.replaceVideoData=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('replaceVideoData',n);};l.prototype.getEstimatedBandwidth=function(){'use strict';return null;};l.prototype.getCurrentlyPlayingStreamInfoID=function(){'use strict';return null;};l.prototype.getLocalEstimator=function(){'use strict';return null;};l.prototype.seek=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('seekVideo',n);};l.prototype.switchVideo=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('switchVideo',n);};l.prototype.switchToStreamType=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('switchToStreamType',n);};l.prototype.unmute=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('unmuteVideo',n);};l.prototype.mute=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('muteVideo',n);};l.prototype.isMuted=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('isVideoMuted',n);};l.prototype.getPlaybackDuration=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('getVideoDuration',n);};l.prototype.getVolume=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('getVideoVolume',n);};l.prototype.setDimensions=function(m,n){'use strict';this.$VideoPlayerFlashApi10('setDimensions',[m,n]);};l.prototype.setRotation=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('setRotation',n);};l.prototype.getVideoInfo=function(){'use strict';if(!this.$VideoPlayerFlashApi11('getVideoInfo'))return null;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];var p=this.$VideoPlayerFlashApi10('getVideoInfo',n,false);if(p){return JSON.parse(p);}else return null;};l.prototype.setVolume=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('setVolume',n);};l.prototype.toggleSubtitles=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('toggleSubtitles',n);};l.prototype.hasSubtitles=function(){'use strict';if(!this.$VideoPlayerFlashApi11('hasSubtitles'))return false;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('hasSubtitles',n);};l.prototype.areSubtitlesActive=function(){'use strict';if(!this.$VideoPlayerFlashApi11('areSubtitlesActive'))return false;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('areSubtitlesActive',n);};l.prototype.areHLSActive=function(){'use strict';if(!this.$VideoPlayerFlashApi11('areHLSActive'))return false;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('areHLSActive',n);};l.prototype.isRTMP=function(){'use strict';if(!this.$VideoPlayerFlashApi11('isRTMP'))return false;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('isRTMP',n);};l.prototype.setPreferredVideoQuality=function(m){'use strict';if(m!=this.getSelectedVideoQuality()){this.$VideoPlayerFlashApi3=m;for(var n=arguments.length,o=Array(n>1?n-1:0),p=1;p<n;p++)o[p-1]=arguments[p];this.$VideoPlayerFlashApi10('toggleVideoHD',o);}};l.prototype.unsetPreferredVideoQuality=function(){'use strict';};l.prototype.getPreferredVideoQuality=function(){'use strict';return this.$VideoPlayerFlashApi3;};l.prototype.getSelectedVideoQuality=function(){'use strict';if(!this.$VideoPlayerFlashApi11('isVideoHD'))return 'SD';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('isVideoHD',n)?'HD':'SD';};l.prototype.getAvailableVideoQualities=function(){'use strict';if(!this.$VideoPlayerFlashApi11('hasVideoHD'))return ['SD'];for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('hasVideoHD',n)?['SD','HD']:['SD'];};l.prototype.getIsAbrEnabled=function(){'use strict';return false;};l.prototype.canAutoSelectVideoQuality=function(){'use strict';return false;};l.prototype.setPreloadDisabled=function(m){'use strict';return;};l.prototype.restoreStreamBufferSize=function(){'use strict';return;};l.prototype.getCurrentTimePosition=function(){'use strict';return this.$VideoPlayerFlashApi9;};l.prototype.logHeartbeat=function(){'use strict';return;};l.prototype.$VideoPlayerFlashApi11=function(m){'use strict';return typeof this.$VideoPlayerFlashApi1[m]==='function';};l.prototype.$VideoPlayerFlashApi10=function(m,n,o){'use strict';try{if(this.$VideoPlayerFlashApi11(m)){return this.$VideoPlayerFlashApi1[m].apply(this.$VideoPlayerFlashApi1,n);}else throw new Error(m+' is not a valid method on the flash object');}catch(p){if(this.$VideoPlayerFlashApi12)return;this.$VideoPlayerFlashApi12=true;this.emit('error',{error:c('VideoPlayerLoggerErrors').ERROR_CALLING_FLASH,message:p.message,isPlayback:o});this.$VideoPlayerFlashApi12=false;}};l.prototype.getDroppedFrames=function(){'use strict';return 0;};l.prototype.getTotalFrames=function(){'use strict';return 0;};l.prototype.getVideoNodeSource=function(){'use strict';return '';};l.getPlayerVersion=function(){'use strict';return 'silvercity';};l.getStreamTypeFromConfig=function(m){'use strict';return m.initial_stream_type||'progressive';};l.getIsPlayingLiveFromConfig=function(m){'use strict';return !!m.is_live_streaming;};l.getIsFacecastAudioFromConfig=function(m){'use strict';return !!m.is_facecast_audio;};f.exports=l;}),null);
__d('VideoRenderingUtils',['VideoPlayerExperiments','VideoPlayerVersions'],(function a(b,c,d,e,f,g){'use strict';var h={getPlayerVersion:function i(){return c('VideoPlayerVersions').PLEASANTVILLE;},isEmbeddedControlRedesign:function i(){var j=h.getPlayerVersion();return j===c('VideoPlayerVersions').PLEASANTVILLE||c('VideoPlayerExperiments').flashPlayerHtmlControls;},shouldFallbackToFlash:function i(j){var k=j.getPlayerVersionOverwrite();return k!==c('VideoPlayerVersions').PLEASANTVILLE;},getFlashFalloverVideoDataList:function i(j){var k=[j].concat(j.getFalloverData()),l={};for(var m=k,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var p;if(n){if(o>=m.length)break;p=m[o++];}else{o=m.next();if(o.done)break;p=o.value;}var q=p;l[q.getStreamType()]=q.getRawData();}var r={};for(var s=0;s<k.length;s++)r[s+1]=k[s].getRawData();return {videoDataPreference:r,videoDataByStreamType:l};}};f.exports=h;}),null);
__d('Silvercity.react',['flash-js','CurrentUser','PixelRatio','React','ReactDOM','URI','UserAgentData','VideoAutoplayGatingResult','VideoPlayerExperiments','VideoPlayerFlashApi','VideoPlayerSilvercityConfigs','VideoRenderingUtils','swfobject','uuid'],(function a(b,c,d,e,f,g){'use strict';var h,i;c('flash-js');var j={autoHD:false,defaultHD:false,disableNativeControls:true,inlinePlayer:false,preload:false,startMuted:false,hideControlsWhenFinished:false,showCaptionsDefault:true,autoplayReason:c('VideoAutoplayGatingResult').UNKNOWN};h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.swfID='swf_id_'+c('uuid')();}k.prototype.componentDidMount=function(){this.$Silvercity1();};k.prototype.componentWillReceiveProps=function(l){if(this.$Silvercity2(l))this.swfID='swf_id_'+c('uuid')();};k.prototype.componentDidUpdate=function(l){if(this.$Silvercity2(l))this.$Silvercity1();};k.prototype.$Silvercity2=function(l){return l.videoData.getVideoID()!==this.props.videoData.getVideoID();};k.prototype.$Silvercity3=function(){return {allowFullScreen:true,allowscriptaccess:'always',salign:'tl',scale:'noscale',wmode:'opaque'};};k.prototype.$Silvercity4=function(){var l=c('VideoRenderingUtils').getFlashFalloverVideoDataList(this.props.videoData),m=l.videoDataByStreamType,n=l.videoDataPreference;return {auto_hd:this.props.autoHD,autoplay_reason:this.props.autoplayReason,default_hd:this.props.defaultHD,disable_native_controls:this.props.disableNativeControls,inline_player:this.props.inlinePlayer,pixel_ratio:c('PixelRatio').get(),preload:this.props.preload,start_muted:this.props.startMuted,rtmp_stage_video:true,rtmp_buffer:c('VideoPlayerExperiments').enableRtmpBuffer,rtmp_buffer_time:c('VideoPlayerExperiments').rtmpBufferTime,rtmp_buffer_time_max:c('VideoPlayerExperiments').rtmpBufferTimeMax,video_data:m,video_data_preference:n,show_captions_default:this.props.showCaptionsDefault,persistent_volume:true,hide_controls_when_finished:this.props.hideControlsWhenFinished,rtmp_start_playing_non_zero_stream_time:true,rtmp_improve_playback_config:c('VideoPlayerExperiments').rtmpImprovePlayback,rtmp_no_stream_reported_time:c('VideoPlayerExperiments').rtmpNoStreamReportedTime,rtmp_start_time_fix:c('VideoPlayerExperiments').rtmpStartTimeFix,buffer_length:.1};};k.prototype.$Silvercity1=function(){var l=new (c('swfobject').SWFObject)(c('VideoPlayerSilvercityConfigs').silvercitySwfUrl,this.swfID,this.props.width,this.props.height,['10.3.181.34','11.0.0'],'#000000'),m=this.$Silvercity3();for(var n=Object.keys(m),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q;l.addParam(r,m[r]);}var s=c('UserAgentData').browserName+'+'+c('UserAgentData').browserFullVersion,t=new (c('URI'))().setSubdomain('pixel').toString(),u={params:encodeURIComponent(JSON.stringify(this.$Silvercity4())),width:this.props.width,height:this.props.height,user:c('CurrentUser').getID(),log:c('CurrentUser').isEmployee()?'yes':'no',showErrors:'yes',div_id:this.swfID,swf_id:this.swfID,browser:s,tracking_domain:encodeURIComponent(t),post_form_id:''};for(var v=Object.keys(u),w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var y;if(w){if(x>=v.length)break;y=v[x++];}else{x=v.next();if(x.done)break;y=x.value;}var z=y;l.addVariable(z,u[z]);}window[this.swfID]=l;l.write(this.swfID);};k.prototype.render=function(){return c('React').createElement('div',{ref:'video','data-flash':1,id:this.swfID,className:this.props.className,'data-video-width':this.props.width,'data-video-height':this.props.height});};k.prototype.getVideoPlayerInitArgs=function(){return {apiConfig:{is_live_streaming:this.props.videoData.isLiveStream(),initial_stream_type:this.props.videoData.getStreamType(),is_facecast_audio:this.props.videoData.isFacecastAudio()},apiModule:c('VideoPlayerFlashApi'),videoElement:c('ReactDOM').findDOMNode(this.refs.video)};};k.defaultProps=j;f.exports=k;}),null);
__d('VideoComponent',['CurrentUser','ErrorBoundary.react','React','RelayClassic','SubscriptionsHandler','fromGraphQL'],(function a(b,c,d,e,f,g){'use strict';function h(j){return j.displayName||j.name||'Component';}function i(j,k){var l,m,n=k||{},o=n.observedVpcEvents||[],p=n.suppressMount||function(){return false;},q=h(j);return m=l=function(){var r,s;r=babelHelpers.inherits(t,c('React').Component);s=r&&r.prototype;function t(u){'use strict';s.constructor.call(this,u);this.$VideoComponentContainer7=function(){if(this.$VideoComponentContainer2&&this.$VideoComponentContainer2.length&&this.refs.component){var v={time:Date.now(),queuedEvents:this.$VideoComponentContainer2};this.setState({vpcEventInfo:v});this.$VideoComponentContainer2=[];}}.bind(this);this.state={video:null,user:null,vpcEventInfo:{time:0,queuedEvents:[]}};this.$VideoComponentContainer2=[];}t.prototype.render=function(){'use strict';if(this.$VideoComponentContainer3())return null;return c('React').createElement(c('ErrorBoundary.react'),{onHandleError:function u(v,w){}},c('React').createElement(j,babelHelpers['extends']({ref:'component'},this.props,{vpcEventInfo:this.state.vpcEventInfo,video:this.state.video,user:this.state.user})));};t.prototype.enable=function(u){'use strict';if(this.$VideoComponentContainer3())return;this.vpc=u;this.$VideoComponentContainer1=new (c('SubscriptionsHandler'))();this.$VideoComponentContainer4(u);var v=this.refs.component;if(!v)return;if(!v.enable)throw new TypeError(q+' must implement enable(VideoPlayerController)');v.enable(u);this.$VideoComponentContainer5(u.getVideoID(),n.relayVideoConfig);};t.prototype.disable=function(){'use strict';if(this.$VideoComponentContainer3())return;var u=this.refs.component;if(!u)return;if(!u.disable)throw new TypeError(q+' must implement disable()');u.disable();this.$VideoComponentContainer1.release();};t.prototype.$VideoComponentContainer3=function(){'use strict';return p(this.props.videoData);};t.prototype.$VideoComponentContainer5=function(u,v){var w,x=this;'use strict';if(!v)return;var y=v.fragments.video,z=v.fragments.user;if(!y)throw new Error(q+' must include a \'video\' fragment');var aa=c('fromGraphQL').Query(function(ba,ca){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:c('RelayClassic').QL.__var(ba)}],children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},c('RelayClassic').QL.__frag(ca)]),id:c('RelayClassic').QL.__id(),kind:'Fragment',metadata:{},name:'Video',type:'Video'}],fieldName:'node',kind:'Query',metadata:{isAbstract:true,identifyingArgName:'id',identifyingArgType:'ID!'},name:'VideoComponent',type:'Node'};}(u,y));c('RelayClassic').Store.primeCache({graphQLQuery:aa},function(ba){if(ba.done){var ca=c('RelayClassic').Store.readQuery(aa)[0];if(this.vpc&&ca&&this.refs.component&&ca.id==this.vpc.getVideoID())this.setState({video:ca});}}.bind(this));if(z)(function(){var ba=c('fromGraphQL').Query(function(ca,da){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:c('RelayClassic').QL.__var(ca)}],children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayClassic').QL.__frag(da)]),id:c('RelayClassic').QL.__id(),kind:'Fragment',metadata:{},name:'User',type:'User'}],fieldName:'user',kind:'Query',metadata:{identifyingArgName:'id',identifyingArgType:'ID!'},name:'VideoComponent',type:'User'};}(c('CurrentUser').getID(),z));c('RelayClassic').Store.primeCache({userQuery:ba},function(ca){if(ca.done){var da=c('RelayClassic').Store.readQuery(ba)[0];if(da&&this.refs.component)this.setState({user:da});}}.bind(x));})();};t.prototype.$VideoComponentContainer4=function(u){var v,w=this;'use strict';var x=function ca(event){var da=u.addListener(event,function(){return this.$VideoComponentContainer6(event);}.bind(w));w.$VideoComponentContainer1.addSubscriptions(da);};for(var y=o,z=Array.isArray(y),aa=0,y=z?y:y[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ba;if(z){if(aa>=y.length)break;ba=y[aa++];}else{aa=y.next();if(aa.done)break;ba=aa.value;}var event=ba;x(event);}};t.prototype.$VideoComponentContainer6=function(event){'use strict';if(!this.$VideoComponentContainer2.length)setTimeout(this.$VideoComponentContainer7,0);this.$VideoComponentContainer2.push(event);};return t;}(),l.displayName='VideoComponent('+q+')',m;}f.exports={createContainer:i};}),null);
__d('VideoComponentClickPlayPause.react',['React','VideoComponent','VideoWithClickPlayPause'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.enable=function(k){new (c('VideoWithClickPlayPause'))(k);};j.prototype.disable=function(){};j.prototype.shouldComponentUpdate=function(){return false;};j.prototype.render=function(){return null;};function j(){h.apply(this,arguments);}f.exports=c('VideoComponent').createContainer(j);}),null);
__d('VideoResizeMode',[],(function a(b,c,d,e,f,g){'use strict';f.exports={FIT:'FIT',COVER_HEIGHT:'COVER_HEIGHT'};}),null);
__d('VideoPlayer.react',['cx','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','Map','Pleasantville.react','React','ReactDOM','Silvercity.react','VideoAutoplayGatingResult','VideoComponentClickPlayPause.react','VideoPlayerController','VideoPlayerLoggerEvent','VideoPlayerLoggerSource','VideoPlayerReason','VideoRenderingUtils','VideoResizeMode'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k={subOrigin:c('VideoPlayerLoggerSource').MISC,showCaptionsDefault:false,onVideoClick:function m(){},autoplay:false,autoplayReason:c('VideoAutoplayGatingResult').UNKNOWN,autoplaySetting:'autoplay_setting_www',forceHD:false,startMuted:false,isUnmountScheduled:false,videoResizeMode:c('VideoResizeMode').FIT,allowCrossPageTransition:false,disableClickPlayPause:false};i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$VideoPlayer4=function(){if(!this.vpcCleanedup){this.vpc.pause(c('VideoPlayerReason').UNLOADED);this.vpc.destroy({disableStillFrame:true});this.vpcCleanedup=true;}}.bind(this);this.$VideoPlayer7=function(n,o){var p=babelHelpers['extends']({},this.props,{videoID:this.props.videoData.getVideoID(),ref:this.$VideoPlayer8.bind(this,o.toString())});return c('React').createElement(c('FBOverlayElement.react'),{key:o},c('React').cloneElement(n,p));}.bind(this);this.componentRefs=new (c('Map'))();this.state={isFullscreen:false};}l.prototype.componentDidMount=function(){this.vpc=this.$VideoPlayer1(this.refs.video.getVideoPlayerInitArgs(),this.props.videoData);};l.prototype.componentDidUpdate=function(m){if(this.$VideoPlayer2(m)){this.$VideoPlayer3(this.vpc);this.vpc=this.$VideoPlayer1(this.refs.video.getVideoPlayerInitArgs(),this.props.videoData);}if(m.isUnmountScheduled!==this.props.isUnmountScheduled&&this.props.isUnmountScheduled)this.vpc.runOnceOnApiEventLogged(c('VideoPlayerLoggerEvent').STARTED_PLAYING,function(){setTimeout(this.$VideoPlayer4,0);return;}.bind(this));};l.prototype.componentWillUnmount=function(){this.$VideoPlayer3(this.vpc);};l.prototype.$VideoPlayer5=function(){var m=[];if(!this.props.disableClickPlayPause)m.push(c('React').createElement(c('VideoComponentClickPlayPause.react'),null));return m;};l.prototype.$VideoPlayer3=function(m){if(m){for(var n=this.componentRefs.values(),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q;r.disable();}m.runOnApiReady(this.$VideoPlayer4);}};l.prototype.$VideoPlayer2=function(m){return m.videoData.getVideoID()!==this.props.videoData.getVideoID();};l.prototype.$VideoPlayer1=function(m,n){var o=m.apiConfig,p=m.apiModule,q=m.videoElement;this.vpcCleanedup=false;o.videoData=[n.getRawData()];o.startTimestamp=this.props.startTimestamp;var r=new (c('VideoPlayerController'))({source:this.props.subOrigin,playerOrigin:this.props.playerOrigin||null,autoplay_reason:this.props.autoplayReason,autoplay_setting:this.props.autoplaySetting,apiModule:p,apiConfig:o,should_autoplay:!this.props.isUnmountScheduled&&this.props.autoplay,player_version:this.props.videoData.getPlayerVersionOverwrite(),video_ids:[n.getVideoID()],allowCrossPageTransition:this.props.allowCrossPageTransition,isReactPlayer:true},{root_element:c('ReactDOM').findDOMNode(this.refs.root),container_element:c('ReactDOM').findDOMNode(this.refs.container),video_element:c('ReactDOM').findDOMNode(q)});for(var s=this.componentRefs.values(),t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var v;if(t){if(u>=s.length)break;v=s[u++];}else{u=s.next();if(u.done)break;v=u.value;}var w=v;w.enable(r);}r.addListener('clickVideo',this.props.onVideoClick);r.addListener('toggleFullscreen',function(){return this.setState({isFullscreen:!!r.isFullscreen()});}.bind(this));return r;};l.prototype.$VideoPlayer6=function(){if(this.props.videoResizeMode==c('VideoResizeMode').COVER_HEIGHT){return "_ox1 _41l4";}else if(this.props.offsetType=='horizontal'){return "_ox1 _blh";}else if(this.props.offsetType=='vertical'){return "_ox1 _bli";}else return "_ox1";};l.prototype.render=function(){var m=this.props,n=m.width,o=m.height,p=m.videoData,q=m.startMuted,r=m.offsetValue,s=babelHelpers.objectWithoutProperties(m,['width','height','videoData','startMuted','offsetValue']),t=c('VideoRenderingUtils').shouldFallbackToFlash(p),u=this.$VideoPlayer6(),v=n!==undefined||o!==undefined;if(v){if(o)n=n||o*p.getAspectRatio();if(n)o=o||n/p.getAspectRatio();}var w=t?c('React').createElement(c('Silvercity.react'),babelHelpers['extends']({ref:'video',videoData:p,width:n||0,height:o||0,showSubtitles:this.props.showCaptionsDefault,className:u,startMuted:q,defaultHD:this.props.forceHD},s)):c('React').createElement(c('Pleasantville.react'),babelHelpers['extends']({ref:'video',videoData:p,width:n,height:o,showSubtitles:this.props.showCaptionsDefault,className:u,startMuted:q,offsetValue:this.state.isFullscreen?0:r},s)),x=!v?{width:'100%',height:'100%'}:{},y=v?{width:(n||0)+'px',height:(o||0)+'px'}:{width:'100%',height:'100%'};return c('React').createElement('div',{ref:'root',className:"_1c_u",style:x},c('React').createElement(c('FBOverlayContainer.react'),{ref:'container',className:"_53j5",style:y},c('React').createElement(c('FBOverlayBase.react'),null,w),c('React').Children.toArray(this.$VideoPlayer5().concat(this.props.children)).filter(function(z){return z!=null;}).map(this.$VideoPlayer7)));};l.prototype.$VideoPlayer8=function(m,n){if(!n){this.componentRefs['delete'](m);}else this.componentRefs.set(m,n);};l.defaultProps=k;f.exports=l;}),null);
__d('VideoDataContainer.react',['cx','invariant','regeneratorRuntime','React','VideoDashPrefetchCache','VideoData','VideoPlayer.react','VideoPlayerMetaData','VideoPushParametersHelper'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.renderSpinner=function(m,n){return c('React').createElement('div',{className:"_53j5",style:{height:n,width:m}},c('React').createElement('i',{className:"_5l7x"}));};function l(m){k.constructor.call(this,m);this.$VideoDataContainer1=false;this.state={videoData:null,isLoading:true,errorData:null};}l.prototype.componentDidMount=function(){this.$VideoDataContainer2(this.props.videoID);this.$VideoDataContainer1=true;};l.prototype.componentWillReceiveProps=function(m){if(m.videoID!==this.props.videoID)this.$VideoDataContainer2(m.videoID);};l.prototype.componentWillUnmount=function(){this.$VideoDataContainer1=false;};l.prototype.componentDidUpdate=function(m,n){if(n.videoData!==this.state.videoData){var o=this.props.onVideoLoaded||function(){};o();}};l.prototype.$VideoDataContainer2=function m(n){var o;return c('regeneratorRuntime').async(function p(q){while(1)switch(q.prev=q.next){case 0:this.setState({isLoading:true,errorData:null});q.prev=1;q.next=4;return c('regeneratorRuntime').awrap(c('VideoPlayerMetaData').genVideoData(n));case 4:o=q.sent;if(!this.props.isUnmountScheduled){q.next=7;break;}return q.abrupt('return');case 7:if(!this.props.renderAfterMpdFetch){q.next=10;break;}q.next=10;return c('regeneratorRuntime').awrap(this.$VideoDataContainer3(o));case 10:this.$VideoDataContainer1&&this.setState({videoData:o,isLoading:false});q.next=16;break;case 13:q.prev=13;q.t0=q['catch'](1);this.$VideoDataContainer1&&this.setState({errorData:q.t0});case 16:case 'end':return q.stop();}},null,this,[[1,13]]);};l.prototype.$VideoDataContainer3=function m(n){var o,p;return c('regeneratorRuntime').async(function q(r){while(1)switch(r.prev=r.next){case 0:o=n.getLiveManifestUrl();o||i(0);p=c('VideoDashPrefetchCache').getInstance();r.next=5;return c('regeneratorRuntime').awrap(p.genPrfetchMpdNow(n.getVideoID(),o,new (c('VideoPushParametersHelper'))(o).setStreamEndOffset(c('VideoPushParametersHelper').getDefaultLiveStreamEndOffset())));case 5:return r.abrupt('return',null);case 6:case 'end':return r.stop();}},null,this);};l.prototype.render=function(){var m=this.state,n=m.isLoading,o=m.videoData,p=m.errorData;if(p){var q=this.props.renderError||function(){return null;};return q(p);}var r=this.props.renderLoading;if(n&&r)return r();if(!o||o===l.VIDEO_DATA_PLACEHOLDER)return null;var s=this.props.children;s!=null&&s.type===c('VideoPlayer.react')||i(0);return c('React').cloneElement(s,{videoData:o});};l.VIDEO_DATA_PLACEHOLDER=new (c('VideoData'))();f.exports=l;}),null);
__d("XLiveResetViewerCountAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/viewercount\/reset\/",{});}),null);
__d("XVideoLiveViewCountController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/liveviewcount\/",{video_id:{type:"String",required:true},source:{type:"String",required:true},unmuted:{type:"Bool",defaultValue:true},read_only:{type:"Bool",defaultValue:false}});}),null);
__d('VideoWithLiveBroadcast',['AsyncRequest','HTML','SubscriptionsHandler','Run','VideoPlayerLoggerEvent','XLiveResetViewerCountAsyncController','XVideoLiveViewCountController','BanzaiODS'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$VideoWithLiveBroadcast8=null;this.$VideoWithLiveBroadcast5=i;if(this.$VideoWithLiveBroadcast5.isState('playing'))this.$VideoWithLiveBroadcast9();this.$VideoWithLiveBroadcast2=false;this.$VideoWithLiveBroadcast1=true;this.$VideoWithLiveBroadcast6=null;this.$VideoWithLiveBroadcast4=new (c('SubscriptionsHandler'))();this.$VideoWithLiveBroadcast4.addSubscriptions(i.addListener('beginPlayback',this.$VideoWithLiveBroadcast9.bind(this)),i.addListener('pausePlayback',this.$VideoWithLiveBroadcast10.bind(this)),i.addListener('updateStatus',this.$VideoWithLiveBroadcast11.bind(this)),i.addListener('finishPlayback',this.$VideoWithLiveBroadcast12.bind(this)),i.addListener('unmuteVideo',this.$VideoWithLiveBroadcast13.bind(this)),i.addListener('muteVideo',this.$VideoWithLiveBroadcast14.bind(this)));i.registerOption('VideoWithLiveBroadcast','viewCount',this.getViewCount.bind(this));i.registerOption('VideoWithLiveBroadcast','isLive',function(){return true;});c('Run').onLeave(function(){return this.leave();}.bind(this));}h.prototype.leave=function(){'use strict';this.$VideoWithLiveBroadcast15();this.$VideoWithLiveBroadcast4.release();};h.prototype.getViewCount=function(){'use strict';return this.$VideoWithLiveBroadcast6;};h.prototype.$VideoWithLiveBroadcast16=function(i){'use strict';if(this.$VideoWithLiveBroadcast6!=i){this.$VideoWithLiveBroadcast6=i;this.$VideoWithLiveBroadcast5.emit('VideoWithLiveBroadcast/viewCountChange',i);}};h.prototype.$VideoWithLiveBroadcast12=function(){'use strict';this.$VideoWithLiveBroadcast5.logEvent(c('VideoPlayerLoggerEvent').PLAYING_LIVE_STOPPED);this.$VideoWithLiveBroadcast8=null;this.$VideoWithLiveBroadcast15();};h.prototype.$VideoWithLiveBroadcast17=function(){'use strict';if(this.$VideoWithLiveBroadcast7)return;this.$VideoWithLiveBroadcast18();this.$VideoWithLiveBroadcast7=setInterval(function(){return this.$VideoWithLiveBroadcast18();}.bind(this),3000);};h.prototype.$VideoWithLiveBroadcast11=function(i){'use strict';if(this.$VideoWithLiveBroadcast5.isState('playing')){if(this.$VideoWithLiveBroadcast8==null)this.$VideoWithLiveBroadcast8=i.position;if(this.$VideoWithLiveBroadcast8+3<=i.position){this.$VideoWithLiveBroadcast5.logEvent(c('VideoPlayerLoggerEvent').PLAYED_FOR_THREE_SECONDS);this.$VideoWithLiveBroadcast8=Infinity;}}if(!this.$VideoWithLiveBroadcast5.isState('playing')){if(!this.$VideoWithLiveBroadcast3){c('BanzaiODS').bumpEntityKey('www_live_concurrent_viewer','non_playing_update_status');this.$VideoWithLiveBroadcast3=true;}if(this.$VideoWithLiveBroadcast1&&!this.$VideoWithLiveBroadcast2)this.$VideoWithLiveBroadcast2=true;}};h.prototype.$VideoWithLiveBroadcast15=function(){'use strict';this.$VideoWithLiveBroadcast7&&clearInterval(this.$VideoWithLiveBroadcast7);this.$VideoWithLiveBroadcast7=null;};h.prototype.$VideoWithLiveBroadcast18=function(){'use strict';this.$VideoWithLiveBroadcast19(function(i){var j=c('HTML').replaceJSONWrapper(i).getRootNode();this.$VideoWithLiveBroadcast16(j);}.bind(this));};h.prototype.$VideoWithLiveBroadcast19=function(i){'use strict';this.$VideoWithLiveBroadcast5.emit('VideoWithLiveBroadcast/poll');var j=c('XVideoLiveViewCountController').getURIBuilder().setString('video_id',this.$VideoWithLiveBroadcast5.getVideoID()).setString('source',this.$VideoWithLiveBroadcast5.getSource()).setBool('unmuted',!this.$VideoWithLiveBroadcast5.isMuted()).getURI();new (c('AsyncRequest'))().setMethod('GET').setURI(j).setReadOnly(true).setHandler(function(k){return i(k&&k.payload);}).send();};h.prototype.$VideoWithLiveBroadcast9=function(){'use strict';if(this.$VideoWithLiveBroadcast5.isFacecastAudio()&&(this.$VideoWithLiveBroadcast5.isMuted()||!this.$VideoWithLiveBroadcast5.isState('playing')))return;this.$VideoWithLiveBroadcast8=null;if(this.$VideoWithLiveBroadcast1){this.$VideoWithLiveBroadcast5.logEvent(c('VideoPlayerLoggerEvent').PLAYING_LIVE_STARTED);this.$VideoWithLiveBroadcast1=false;c('BanzaiODS').bumpEntityKey('www_live_concurrent_viewer','begin_playback');if(!this.$VideoWithLiveBroadcast2)c('BanzaiODS').bumpEntityKey('www_live_concurrent_viewer','begin_playback_without_early_polling');}this.$VideoWithLiveBroadcast17();};h.prototype.$VideoWithLiveBroadcast10=function(){'use strict';this.$VideoWithLiveBroadcast8=null;this.$VideoWithLiveBroadcast15();};h.prototype.$VideoWithLiveBroadcast13=function(){'use strict';if(!this.$VideoWithLiveBroadcast5.isFacecastAudio())return;this.$VideoWithLiveBroadcast15();this.$VideoWithLiveBroadcast9();};h.prototype.$VideoWithLiveBroadcast14=function(){'use strict';if(!this.$VideoWithLiveBroadcast5.isFacecastAudio())return;new (c('AsyncRequest'))().setMethod('POST').setURI(c('XLiveResetViewerCountAsyncController').getURIBuilder().getURI()).setData({video_id:this.$VideoWithLiveBroadcast5.getVideoID()}).send();};f.exports=h;}),null);
__d('VideoComponentPlayButton.react',['cx','fbt','React','VideoComponent','nullthrows'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$VideoComponentPlayButton2=function(){c('nullthrows')(this.state.vpc).clickVideo();}.bind(this);this.state={vpc:null};}l.prototype.$VideoComponentPlayButton1=function(m){if(m==='paused'||m==='ready')return true;var n=this.props.alsoVisibleWhen;if(!n)return false;return Array.isArray(n)?n.includes(m):n===m;};l.prototype.render=function(){var m=this.state.vpc;if(!m)return null;var n=m.getState(),o=m.isPlayRequestPending(),p=m.isBuffering();if(o||p)return c('React').createElement('i',{className:"_5l7x"});if(!this.$VideoComponentPlayButton1(n))return null;var q=i._("Play video");return c('React').createElement('i',{className:"_3htz"+(' '+"_1jto")+(' '+"_bsl")+''+'',onClick:this.$VideoComponentPlayButton2,role:'presentation'},c('React').createElement('input',{'aria-label':q,type:'button',className:"_yak"}));};l.prototype.enable=function(m){this.setState({vpc:m});};l.prototype.disable=function(){};f.exports=c('VideoComponent').createContainer(l,{observedVpcEvents:['stateChange','bufferingChanged','pendingPlayRequestChanged']});}),null);
__d('VideoPlayerDisturbingThumbnail.react',['cx','fbt','React','XUIText.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){return c('React').createElement('div',{className:c('joinClasses')("_20m9",this.props.className)},c('React').createElement('div',{className:"_1cqx"},c('React').createElement(c('XUIText.react'),{className:"_2ps6 _jxj",display:'block',size:'xlarge',weight:'bold'},c('React').createElement('span',{className:"_20ma"},i._("Warning")),'-',i._("Graphic Video")),c('React').createElement(c('XUIText.react'),{display:'block',size:'medium'},i._("Videos that contain graphic content can shock, offend and upset.")),c('React').createElement(c('XUIText.react'),{display:'block',size:'medium'},i._("Are you sure you want to see this?"))));};function l(){j.apply(this,arguments);}f.exports=l;}),null);
__d('VideoComponentCover.react',['cx','Image.react','React','ReactDOM','RelayClassic','VideoComponent','VideoCover','VideoPlayerDisturbingThumbnail.react','VideoPlayerExperiments','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);}k.prototype.componentWillReceiveProps=function(l){var m=this.videoCover;if(l.clickToSnowLift&&m&&l.video&&l.video!==this.props.video)m.setSnowLiftURI(l.video.permalinkUrl);};k.prototype.render=function(){if(this.props.video&&this.props.video.isDisturbing)return c('React').createElement(c('VideoPlayerDisturbingThumbnail.react'),{ref:'root',className:"_1445"});return c('React').createElement('div',{ref:'root',className:c('joinClasses')(this.props.className,"_m54"+(!c('VideoPlayerExperiments').useBlurredBars?' '+"_5z3s":'')+(' '+"_1jto"))},this.renderCover());};k.prototype.renderCover=function(){var l=this.props.video,m=l?l.image.uri:null;return c('React').createElement(c('Image.react'),{ref:'img',className:"_1445"+(this.$VideoComponentCover1()?' '+"_4ndd":'')+(this.$VideoComponentCover1()?' '+"_2sy9":''),src:m});};k.prototype.enable=function(l){this.videoCover=new (c('VideoCover'))(l,c('ReactDOM').findDOMNode(this.refs.root),[c('ReactDOM').findDOMNode(this.refs.img)],null,{showAfterFallback:this.props.showAfterFallback,hiddenAfterFinish:this.props.hiddenAfterFinish,showWhileBuffering:this.props.showWhileBuffering});};k.prototype.disable=function(){this.videoCover=null;};k.prototype.$VideoComponentCover1=function(){return false;};k.defaultProps={clickToSnowLift:false,hiddenAfterFinish:false,hideControlsOnAutoplay:false,showAfterFallback:false,showWhileBuffering:false,useElementDimension:false,resizeMode:'auto'};f.exports=c('VideoComponent').createContainer(k,{relayVideoConfig:{fragments:{video:function l(m){return function(){return {children:[{alias:'permalinkUrl',fieldName:'permalink_url',kind:'Field',metadata:{},type:'Url'},{alias:'isDisturbing',fieldName:'is_disturbing',kind:'Field',metadata:{},type:'Boolean'},{children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayClassic').QL.__id(),kind:'Fragment',metadata:{},name:'VideoComponentCover_react_VideoRelayQL',type:'Video'};}();}}}});}),null);
__d('VideoComponentEmbeddedControls.react',['cx','EmbeddedVideoControls','React','ReactDOM','RelayClassic','VideoBroadcastStatus','VideoComponent','VideoPlayerExperiments','joinClasses','shallowCompare'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.shouldComponentUpdate=function(l,m){return c('shallowCompare')(this,l,m);};k.prototype.componentWillReceiveProps=function(l){var m=this.embeddedControls;if(m&&l.video&&l.video!==this.props.video)m.updateConfig_DEPRECATED({permalinkURL:l.showPermalink?l.video.permalinkUrl:null,showButtons:{casting:l.video.canCastVideo&&c('VideoPlayerExperiments').chromecast},isLive:l.video.broadcastStatus===c('VideoBroadcastStatus').LIVE});};k.prototype.render=function(){return c('React').createElement('div',{ref:'playerControls',classNames:c('joinClasses')(this.props.classNames,(this.props.isCommercialBreak?"_2lwf":'')+(this.props.isCommercialBreak?' '+"_167h":'')+(' '+"_3tsq")+(' '+"_11q2"))});};k.prototype.disable=function(){if(this.embeddedControls)this.embeddedControls=null;};k.prototype.enable=function(l){this.embeddedControls=new (c('EmbeddedVideoControls'))(l,c('ReactDOM').findDOMNode(this.refs.playerControls),{hideOnEvents:{finish:this.props.hideControlsOnFinish,autoplay:this.props.hideControlsOnAutoplay,pause:this.props.hideControlsOnPause},showButtons:{fullscreen:this.props.showFullscreenButton,watchandscroll:this.props.showWatchAndScrollButton,permalink:this.props.showPermalink},hideSettings:!this.props.showSettingsButton,shouldrendercontrols:this.props.shouldRenderControls,watchandscroll:this.props.detachable,redesign:this.props.redesign,hidePlaybackControl:this.props.hidePlaybackControl,hidePlaybackScrubber:this.props.hidePlaybackScrubber,hideRemainingTime:this.props.hideRemainingTime,isCommercialBreak:this.props.isCommercialBreak,showQualitySelector:this.props.showQualitySelector});};function k(){i.apply(this,arguments);}k.defaultProps={showSettingsButton:true,hideControlsOnFinish:false,hideControlsOnAutoplay:false,hideControlsOnPause:false,showFullscreenButton:true,showWatchAndScrollButton:false,shouldRenderControls:true,showPermalink:false,detachable:false,redesign:false,hidePlaybackControl:false,hidePlaybackScrubber:false,hideRemainingTime:false,isCommercialBreak:false,showQualitySelector:true};f.exports=c('VideoComponent').createContainer(k,{relayVideoConfig:{fragments:{video:function l(){return function(){return {children:[{alias:'permalinkUrl',fieldName:'permalink_url',kind:'Field',metadata:{},type:'Url'},{alias:'canCastVideo',fieldName:'can_cast_video',kind:'Field',metadata:{},type:'Boolean'},{alias:'broadcastStatus',fieldName:'broadcast_status',kind:'Field',metadata:{},type:'VideoBroadcastStatus'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayClassic').QL.__id(),kind:'Fragment',metadata:{},name:'VideoComponentEmbeddedControls_react_VideoRelayQL',type:'Video'};}();}}}});}),null);
__d('VideoComponentLiveVideoIndicator.react',['cx','fbt','DOMContainer.react','React','RelayClassic','VideoBroadcastStatus','VideoComponent','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.state={viewCountNode:null};}l.prototype.enable=function(m){m.addListener('VideoWithLiveBroadcast/viewCountChange',function(n){this.setState({viewCountNode:n});}.bind(this));};l.prototype.disable=function(){};l.prototype.render=function(){if(!this.props.video)return null;var m=this.props.video.broadcastStatus,n=m===c('VideoBroadcastStatus').LIVE||this.props.isLive;if(!n&&m===c('VideoBroadcastStatus').PREVIEW)return this.renderPreview();var o=null;if(this.state.viewCountNode)o=c('React').createElement(c('DOMContainer.react'),null,this.state.viewCountNode);var p=this.props.inBeeper?"_60yf":"_5pf0",q=this.props.inBeeper?"_60yg":"_5pe-";return c('React').createElement('div',{className:c('joinClasses')((!this.props.inline?"_3htz":'')+(this.props.inline?' '+"_3qry":'')+(!this.props.inline?' '+"_5pe_":'')+(!this.props.inline?' '+"_530p":'')+(' '+"_4ubd")+(' '+"_2lwf")+(n?' '+"_3rno":''))},c('React').createElement('div',{className:q},c('React').createElement('span',{className:p},i._("LIVE"))),o);};l.prototype.renderPreview=function(){return c('React').createElement('div',{className:"_5vj"},c('React').createElement('div',{className:"_5vm"},c('React').createElement('span',{className:"_5vo"},i._("PREVIEW"))));};f.exports=c('VideoComponent').createContainer(l,{relayVideoConfig:{fragments:{video:function m(){return function(){return {children:[{alias:'broadcastStatus',fieldName:'broadcast_status',kind:'Field',metadata:{},type:'VideoBroadcastStatus'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayClassic').QL.__id(),kind:'Fragment',metadata:{},name:'VideoComponentLiveVideoIndicator_react_VideoRelayQL',type:'Video'};}();}}}});}),null);
__d('StreamingReaction',['cx','CSS','DOM','EventEmitter','Style','StreamingReactionsTrayEvents','UFIConfig','getVendorPrefixedName','queryThenMutateDOM'],(function a(b,c,d,e,f,g,h){var i,j,k=c('getVendorPrefixedName')('transform'),l=-30;i=babelHelpers.inherits(m,c('EventEmitter'));j=i&&i.prototype;m.getReaction=function(n,o,p){var q=arguments.length<=3||arguments[3]===undefined?'':arguments[3];'use strict';var r=n?m.friendElementQueue:m.anonElementQueue;if(r.length>0){var s=r.shift();s.removeSpecificData();s.addSpecificData(o,q);return s;}else return new m(n,o,p,q);};m.clearQueue=function(){'use strict';m.anonElementQueue.length=0;m.friendElementQueue.length=0;};function m(n,o,p){var q=arguments.length<=3||arguments[3]===undefined?'':arguments[3];'use strict';j.constructor.call(this);this.$StreamingReaction1=p;this.setState('CONSTRUCTED');this.isFriend=n;this.type=o;this.profilePicUri=q;this.start=-1;this.randVerticalStartPositionAnon=this.$StreamingReaction6();this.randShootUpHorizontalPosition=this.$StreamingReaction7();this.randShootUpMaxVerticalPosition=this.$StreamingReaction8();this.randAmp=this.$StreamingReaction9();this.randTimeOffsetMs=this.$StreamingReaction10();this.period=this.$StreamingReaction11(this.isFriend,this.randShootUpHorizontalPosition);this.anonWindDurationMs=this.$StreamingReaction1.anonWindDurationMs+this.randTimeOffsetMs;this.maxAnonWindDurationMs=this.$StreamingReaction1.anonWindDurationMs+this.$StreamingReaction1.durationsMs.ANON_WIND_MAX_OFFSET;this.shootUpDurationMs=this.$StreamingReaction1.durationsMs.SHOOT_UP;this.explosionDurationMs=this.$StreamingReaction1.durationsMs.EXPLOSION;this.explosionPauseDurationMs=this.$StreamingReaction1.durationsMs.EXPLOSION_PAUSE;this.morphShrinkDurationMs=this.$StreamingReaction1.durationsMs.MORPH/4;this.morphGrowDurationMs=this.$StreamingReaction1.durationsMs.MORPH/6;this.morphPauseDurationMs=this.$StreamingReaction1.durationsMs.MORPH_PAUSE;this.friendWindKeyDurationMs=this.$StreamingReaction1.friendWindDurationMs;c('queryThenMutateDOM')(function(){},this.createElem.bind(this));}m.prototype.createElem=function(){'use strict';this.yAxisDiv=c('DOM').create('div');this.xAxisDiv=c('DOM').create('div');this.reactionElem=c('DOM').create('div');c('DOM').appendContent(this.xAxisDiv,this.reactionElem);c('DOM').appendContent(this.yAxisDiv,this.xAxisDiv);this.root=this.yAxisDiv;c('CSS').addClass(this.yAxisDiv,"_g19");c('CSS').addClass(this.xAxisDiv,"_g19");this.setReactionImage();var n=void 0,o=void 0,p=void 0;if(this.isFriend){this.$StreamingReaction12();this.setFireworksColors();this.root=c('DOM').create('div');c('DOM').appendContent(this.root,this.fireworks);c('DOM').appendContent(this.root,this.yAxisDiv);n=this.randShootUpHorizontalPosition;o=this.$StreamingReaction1.minY+l;p=this.$StreamingReaction1.minMorphScale;var q=this.$StreamingReaction1.shootUpScale;this.createFriendImage();c('Style').set(this.friendImg,k,'scale('+q+')');}else{n=this.$StreamingReaction1.minX;o=this.randVerticalStartPositionAnon;p=this.$StreamingReaction1.globalScale;}c('Style').set(this.reactionElem,k,'scale('+p+')');c('Style').set(this.yAxisDiv,'right',n+'px');c('Style').set(this.yAxisDiv,'bottom',o+'px');this.setState('RENDERED');};m.prototype.setAnimationX=function(n){'use strict';this.$StreamingReaction3=n;};m.prototype.setAnimationY=function(n){'use strict';this.$StreamingReaction4=n;};m.prototype.setAnimationScale=function(n){'use strict';this.$StreamingReaction5=n;};m.prototype.getAnimationX=function(){'use strict';return this.$StreamingReaction3;};m.prototype.getAnimationY=function(){'use strict';return this.$StreamingReaction4;};m.prototype.getAnimationScale=function(){'use strict';return this.$StreamingReaction5;};m.prototype.createFriendImage=function(){'use strict';this.friendImg=c('DOM').create('img');c('DOM').setAttributes(this.friendImg,{src:this.profilePicUri});c('DOM').appendContent(this.xAxisDiv,this.friendImg);c('Style').set(this.friendImg,k,'scale('+this.$StreamingReaction1.shootUpScale+')');c('Style').set(this.reactionElem,'opacity','0');c('CSS').addClass(this.friendImg,"_2-ai");};m.prototype.setFriendImage=function(n){'use strict';this.profilePicUri=n;c('DOM').setAttributes(this.friendImg,{src:this.profilePicUri});};m.prototype.setReactionImage=function(){'use strict';c('CSS').addClass(this.reactionElem,"_g19");c('CSS').addClass(this.reactionElem,this.getReactionImageClass(this.type));};m.prototype.setState=function(n){'use strict';var o=this.getState();this.$StreamingReaction2=n;if(o!=='FINISHED'&&n==='FINISHED'){var p=this.isFriend?m.friendElementQueue:m.anonElementQueue;p.push(this);this.$StreamingReaction2='RENDERED';}this.emit(c('StreamingReactionsTrayEvents').ReactionStateChange,this.getState());};m.prototype.getState=function(){'use strict';return this.$StreamingReaction2;};m.prototype.addSpecificData=function(n,o){'use strict';this.type=n;this.profilePicUri=o;this.setReactionImage();if(this.isFriend){this.setFireworksColors();this.setFriendImage(o);}};m.prototype.removeSpecificData=function(){'use strict';this.removeReactionImage();if(this.isFriend)this.removeFireworksStyle();};m.prototype.removeReactionImage=function(){'use strict';c('CSS').removeClass(this.reactionElem,this.getReactionImageClass(this.type));};m.prototype.removeFireworksStyle=function(){'use strict';for(var n=0;n<this.fireworks.length;n++)c('CSS').removeClass(this.fireworks[n],this.getReactionFireworksClass(this.type,n));};m.prototype.$StreamingReaction12=function(){'use strict';var n=[];for(var o=0,p;o<10;o++){p=c('DOM').create('div');c('CSS').addClass(p,"_3na5");c('Style').set(p,'right',this.randShootUpHorizontalPosition+22+'px');c('Style').set(p,'bottom',this.randShootUpMaxVerticalPosition-15+'px');switch(o){case 1:c('CSS').addClass(p,"_3nab");break;case 2:c('CSS').addClass(p,"_3nad");break;case 3:c('CSS').addClass(p,"_3nae");break;case 4:c('CSS').addClass(p,"_3naf");break;case 5:c('CSS').addClass(p,"_3nag");break;case 6:c('CSS').addClass(p,"_3nah");break;case 7:c('CSS').addClass(p,"_3nak");break;case 8:c('CSS').addClass(p,"_3nam");break;case 9:c('CSS').addClass(p,"_3nan");break;default:break;}n.push(p);}this.fireworks=n;};m.prototype.setFireworksColors=function(){'use strict';for(var n=0;n<this.fireworks.length;n++)c('CSS').addClass(this.fireworks[n],this.getReactionFireworksClass(this.type,n));};m.prototype.getReactionImageClass=function(n){'use strict';if(c('UFIConfig').showCustom)switch(n){case 'DOROTHY':return "_3men";}switch(n){case 'LIKE':return "_2-am";case 'HAHA':return "_2-an";case 'WOW':return "_2-ao";case 'LOVE':return "_2-ap";case 'ANGER':return "_2-aq";case 'SORRY':return "_2-ar";case 'DOROTHY':return "_2nqh";default:throw new Error('Not a valid reaction type: '+n);}};m.prototype.getReactionFireworksClass=function(n,o){'use strict';var p=o%2===0;if(p){if(this.type==='LIKE'){return "_3na6";}else if(this.type==='LOVE'){return "_3na8";}else if(this.type==='DOROTHY'){return "_1l5u";}else return "_3na9";}else return "_3naa";};m.prototype.$StreamingReaction10=function(){'use strict';var n=this.$StreamingReaction1.durationsMs.ANON_WIND_MAX_OFFSET;return -1*n+Math.random()*n*2;};m.prototype.$StreamingReaction9=function(){'use strict';var n=Math.random()>.5;return (n?1:-1)*(Math.random()*(1-.6)+.6);};m.prototype.$StreamingReaction11=function(n,o){'use strict';var p=n?this.$StreamingReaction1.maxX-o:this.$StreamingReaction1.maxX;return p;};m.prototype.$StreamingReaction6=function(){'use strict';var n=(this.$StreamingReaction1.maxY-this.$StreamingReaction1.minY)/2;return ~~(Math.random()*n);};m.prototype.$StreamingReaction7=function(){'use strict';return Math.random()*(this.$StreamingReaction1.maxX/3);};m.prototype.$StreamingReaction8=function(){'use strict';var n=1/3,o=this.$StreamingReaction1.maxY-this.$StreamingReaction1.minY;return Math.random()*(o*(1-n))+n*o-l;};m.anonElementQueue=[];m.friendElementQueue=[];f.exports=m;}),null);
__d('StreamingReactionsTrayAnimation',['DOM','Set','StreamingReaction','StreamingReactionsTrayEvents'],(function a(b,c,d,e,f,g){function h(i,j){'use strict';this.root=i;this.config=j;this.animating=false;this.reactions=new (c('Set'))();}h.prototype.addReaction=function(i,j){var k,l=this,m=arguments.length<=2||arguments[2]===undefined?'':arguments[2];'use strict';if(this.animating)(function(){var n=c('StreamingReaction').getReaction(i,j,l.config,m);l.reactions.add(n);if(n.getState()==='RENDERED'){l.buildAnimation(n);}else n.once(c('StreamingReactionsTrayEvents').ReactionStateChange,function(o){if(o==='RENDERED')this.buildAnimation(n);}.bind(l));})();};h.prototype.start=function(){'use strict';this.animating=true;};h.prototype.stop=function(){'use strict';this.animating=false;c('StreamingReaction').clearQueue();for(var i=this.reactions,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var l;if(j){if(k>=i.length)break;l=i[k++];}else{k=i.next();if(k.done)break;l=k.value;}var m=l;if(m.getState()!=='CONSTRUCTED')c('DOM').remove(m.root);}this.reactions.clear();};h.prototype.clearCurrent=function(){'use strict';c('StreamingReaction').clearQueue();for(var i=this.reactions,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var l;if(j){if(k>=i.length)break;l=i[k++];}else{k=i.next();if(k.done)break;l=k.value;}var m=l;if(m.getState()!=='CONSTRUCTED')c('DOM').remove(m.root);}this.reactions.clear();};h.prototype.setOnFinishHandler=function(i){'use strict';this.onFinishHandler=i;};h.prototype.buildAnimation=function(i){'use strict';throw new Error('Function not implemented');};h.prototype.createOnFinishForReaction=function(i){'use strict';return function(j){this.onFinish(i,j);}.bind(this);};h.prototype.onFinish=function(i,j){'use strict';if(this.onFinishHandler)this.onFinishHandler();if(i.getState()!=='FINISHED')i.setState('FINISHED');};f.exports=h;}),null);
__d('StreamingReactionsTrayAnonymousAnimation',['CSSAnimationBuilder','DOM','StreamingReactionsTrayAnimation'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('StreamingReactionsTrayAnimation'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this,k,l);}j.prototype.addAnonReaction=function(k){'use strict';i.addReaction.call(this,false,k);};j.prototype.buildAnimation=function(k){'use strict';if(!k.getAnimationY()){var l=k.anonWindDurationMs/1000,m=k.maxAnonWindDurationMs/1000,n=-1*(this.config.maxX-this.config.minX),o=k.randAmp*(this.config.maxY-this.config.minY)/2;n=Math.round(n*100)/100;o=Math.round(o*100)/100;var p=this.config.globalScale,q=c('CSSAnimationBuilder').keyframeAnimation(k.yAxisDiv),r=c('CSSAnimationBuilder').keyframeAnimation(k.xAxisDiv),s=c('CSSAnimationBuilder').keyframeAnimation(k.reactionElem);q.defineKeyframes({'0%':{transform:'translateY('+0+'px)','animation-timing-function':'ease-in-out'},'50%':{transform:'translateY('+o+'px)','animation-timing-function':'ease-in-out'},'100%':{transform:'translateY('+0+'px)'}});r.defineKeyframes({'0%':{transform:'translateX('+0+'px)'},'100%':{transform:'translateX('+n*1.2+'px)'}});s.defineKeyframes({'0%':{transform:'scale('+p+')'},'80%':{transform:'scale('+p+')'},'100%':{transform:'scale('+.1+')'}});r.setTimingFunction(this.config.anonHorizontalCurve).setDuration(l).setMemoize(false).setIterationCount(1);k.setAnimationX(r);q.setDuration(m).setIterationCount(1).setMemoize(false).setFinishedCallback(this.createOnFinishForReaction(k));k.setAnimationY(q);s.setTimingFunction('linear').setDuration(l).setMemoize(false).setIterationCount(1);k.setAnimationScale(s);if(this.animating)c('DOM').appendContent(this.root,k.root);}if(this.animating){k.setState('ANIMATING');k.getAnimationX().start();k.getAnimationY().start();k.getAnimationScale().start();}};f.exports=j;}),null);
__d('StreamingReactionsTrayConfig',['EventEmitter','StreamingReactionsAnimationConfig','StreamingReactionsTrayEvents','VideoPlayerLoggerSource'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this);this.$StreamingReactionsTrayConfig1=c('StreamingReactionsAnimationConfig');this.durationsMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS;this.updateDimensions(k,l);this.$StreamingReactionsTrayConfig2(m);this.globalScale=this.$StreamingReactionsTrayConfig1.SCALES.GLOBAL*this.$StreamingReactionsTrayConfig1.SCALES.SCALE_MULTIPLIER;this.shootUpScale=this.globalScale*this.$StreamingReactionsTrayConfig1.SCALES.SHOOT_UP;this.maxExplosionScale=this.globalScale*this.$StreamingReactionsTrayConfig1.SCALES.MAX_EXPLOSION;this.minMorphScale=this.globalScale*this.$StreamingReactionsTrayConfig1.SCALES.MIN_MORPH;this.scaleMultiplier=this.viewUpdateInterval=this.$StreamingReactionsTrayConfig1.THROTTLE.VIEW_UPDATE_INTERVAL;this.reactionStartAnimationRate=this.$StreamingReactionsTrayConfig1.THROTTLE.REACTION_START_ANIMATION_RATE;this.reactionBufferSize=this.$StreamingReactionsTrayConfig1.THROTTLE.REACTION_BUFFER_SIZE;this.maxAnonReactionsCount=this.$StreamingReactionsTrayConfig1.THROTTLE.MAX_REACTIONS_ON_SCREEN;this.reactionSelfFireworkAnimationThreshold=this.$StreamingReactionsTrayConfig1.THROTTLE.REACTION_CLICK_SELF_FIREWORK_ANIMATION_THRESHOLD;var n=this.$StreamingReactionsTrayConfig1.CURVES;this.anonHorizontalCurve='cubic-bezier('+n.ANON_HORIZONTAL.join(', ')+')';this.friendWindHorizontalCurve='cubic-bezier('+n.FRIEND_WIND_HORIZONTAL.join(', ')+')';this.shootUpVerticalCurve='cubic-bezier('+n.SHOOT_UP_VERTICAL.join(', ')+')';this.morphScaleCurve='cubic-bezier('+n.MORPH_SCALE.join(', ')+')';this.explosionScaleCurve='cubic-bezier('+n.EXPLOSION_SCALE.join(', ')+')';this.friendWindScaleCurve='cubic-bezier('+n.FRIEND_WIND_SCALE.join(', ')+')';this.friendWindVacuumZoneScaleCurve='cubic-bezier('+n.FRIEND_WIND_VACUUM_ZONE_SCALE.join(', ')+')';}j.prototype.updateSurface=function(k,l,m){'use strict';this.updateDimensions(k,l);this.$StreamingReactionsTrayConfig2(m);this.emit(c('StreamingReactionsTrayEvents').UpdateSurface);};j.prototype.$StreamingReactionsTrayConfig2=function(k){'use strict';if(k===c('VideoPlayerLoggerSource').CHANNEL){this.anonWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.ANON_WIND_CHANNEL;this.friendWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.FRIEND_WIND_CHANNEL;}else if(k===c('VideoPlayerLoggerSource').SNOWLIFT){this.anonWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.ANON_WIND_SNOWLIFT;this.friendWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.FRIEND_WIND_SNOWLIFT;}else{this.anonWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.ANON_WIND_INLINE;this.friendWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.FRIEND_WIND_INLINE;}};j.prototype.updateDimensions=function(k,l){'use strict';var m=k,n=l;this.maxX=m+this.$StreamingReactionsTrayConfig1.OFFSETS_PX.POSITIVE_X;this.minX=0-this.$StreamingReactionsTrayConfig1.OFFSETS_PX.NEGATIVE_X;this.maxY=n+this.$StreamingReactionsTrayConfig1.OFFSETS_PX.POSITIVE_Y;this.minY=0-this.$StreamingReactionsTrayConfig1.OFFSETS_PX.NEGATIVE_Y;this.reactionsOffScreenX=m+21;};f.exports=j;}),null);
__d('StreamingReactionsTrayDiffuser',['BanzaiODS','Random','randomShuffle','setTimeout'],(function a(b,c,d,e,f,g){'use strict';c('BanzaiODS').setEntitySample('feedback',.0001);function h(i,j,k,l){'use strict';this.$StreamingReactionsTrayDiffuser1=i;this.$StreamingReactionsTrayDiffuser4=j;this.$StreamingReactionsTrayDiffuser12=k;this.$StreamingReactionsTrayDiffuser11=l;this.$StreamingReactionsTrayDiffuser10=this.$StreamingReactionsTrayDiffuser11.viewUpdateInterval;this.$StreamingReactionsTrayDiffuser7={};this.$StreamingReactionsTrayDiffuser6={};this.$StreamingReactionsTrayDiffuser2=[];this.$StreamingReactionsTrayDiffuser9=0;this.$StreamingReactionsTrayDiffuser5=this.$StreamingReactionsTrayDiffuser11.maxAnonReactionsCount;this.$StreamingReactionsTrayDiffuser3=this.$StreamingReactionsTrayDiffuser11.reactionBufferSize;this.$StreamingReactionsTrayDiffuser1.setOnFinishHandler(this.$StreamingReactionsTrayDiffuser13.bind(this));}h.prototype.clearCurrentReactions=function(){'use strict';this.$StreamingReactionsTrayDiffuser1.clearCurrent();this.$StreamingReactionsTrayDiffuser4.clearCurrent();this.$StreamingReactionsTrayDiffuser9=0;};h.prototype.startAnimation=function(){'use strict';clearInterval(this.$StreamingReactionsTrayDiffuser8);this.$StreamingReactionsTrayDiffuser1.start();this.$StreamingReactionsTrayDiffuser4.start();this.$StreamingReactionsTrayDiffuser8=setInterval(this.$StreamingReactionsTrayDiffuser14.bind(this),this.$StreamingReactionsTrayDiffuser10);};h.prototype.stopAnimation=function(){'use strict';this.$StreamingReactionsTrayDiffuser1.stop();this.$StreamingReactionsTrayDiffuser4.stop();this.$StreamingReactionsTrayDiffuser9=0;clearInterval(this.$StreamingReactionsTrayDiffuser8);};h.prototype.pauseAnimation=function(){'use strict';clearInterval(this.$StreamingReactionsTrayDiffuser8);};h.prototype.clearBuffer=function(){'use strict';this.$StreamingReactionsTrayDiffuser2=[];};h.prototype.addOwnReaction=function(i,j,k){'use strict';if(k)this.$StreamingReactionsTrayDiffuser6[i]+=1;this.$StreamingReactionsTrayDiffuser15(i,j);};h.prototype.processPayload=function(i){'use strict';var j=i.feedback_add_streaming_reaction_subscribe,k=j.reactor,l=j.reaction_info.reaction_type,m=k.is_viewer_friend;if(m)this.$StreamingReactionsTrayDiffuser15(l,k.profile_picture.uri);var n={},o=0;for(var p=j.reaction_counts,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var s;if(q){if(r>=p.length)break;s=p[r++];}else{r=p.next();if(r.done)break;s=r.value;}var t=s,u=t.reaction_info.reaction_type,v=t.count;if(m&&l)v--;if(this.$StreamingReactionsTrayDiffuser7[u]){var w=this.$StreamingReactionsTrayDiffuser7[u];if(this.$StreamingReactionsTrayDiffuser6[u])w+=this.$StreamingReactionsTrayDiffuser6[u];var x=w?Math.max(v-w,0):0;n[u]=x;o+=x;}this.$StreamingReactionsTrayDiffuser7[u]=v;}this.$StreamingReactionsTrayDiffuser16(n,o);};h.prototype.processVodPayload=function(i){'use strict';var j={},k=0;for(var l=i.reactions,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var o;if(m){if(n>=l.length)break;o=l[n++];}else{n=l.next();if(n.done)break;o=n.value;}var p=o,q=p.reaction_type,r=p.count;j[q]=r;k+=r;for(var s=p.important_reactors,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var v;if(t){if(u>=s.length)break;v=s[u++];}else{u=s.next();if(u.done)break;v=u.value;}var w=v;this.$StreamingReactionsTrayDiffuser17(q,w.profile_picture_uri,i.length*1000);}}this.clearBuffer();this.$StreamingReactionsTrayDiffuser16(j,k);};h.prototype.$StreamingReactionsTrayDiffuser16=function(i,j){var k;'use strict';var l=[],m=this.$StreamingReactionsTrayDiffuser3-this.$StreamingReactionsTrayDiffuser2.length;if(m>0){var n=j>m,o=function u(v){var w=v[0],x=v[1];x=n?Math.floor(x/j*m):x;l=l.concat(Array.apply(undefined,Array(x)).map(function(){return w;}));};for(var p=Object.entries(i),q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var s;if(q){if(r>=p.length)break;s=p[r++];}else{r=p.next();if(r.done)break;s=r.value;}var t=s;o(t);}c('randomShuffle')(l);this.$StreamingReactionsTrayDiffuser2=this.$StreamingReactionsTrayDiffuser2.concat(l);}};h.prototype.$StreamingReactionsTrayDiffuser17=function(i,j,k){'use strict';var l=Math.floor(c('Random').random()*k);c('setTimeout')(function(){return this.addOwnReaction(i,j,false);}.bind(this),l);};h.prototype.$StreamingReactionsTrayDiffuser15=function(i,j){'use strict';this.$StreamingReactionsTrayDiffuser4.addFriendReaction(i,j);this.$StreamingReactionsTrayDiffuser12?c('BanzaiODS').bumpEntityKey('feedback','facecast_live_friend_reaction_rendered'):c('BanzaiODS').bumpEntityKey('feedback','facecast_vod_friend_reaction_rendered');};h.prototype.$StreamingReactionsTrayDiffuser14=function(){'use strict';if(this.$StreamingReactionsTrayDiffuser2.length>0&&this.$StreamingReactionsTrayDiffuser9<this.$StreamingReactionsTrayDiffuser5){this.$StreamingReactionsTrayDiffuser1.addAnonReaction(this.$StreamingReactionsTrayDiffuser2.shift());this.$StreamingReactionsTrayDiffuser9++;this.$StreamingReactionsTrayDiffuser12?c('BanzaiODS').bumpEntityKey('feedback','facecast_live_reaction_rendered'):c('BanzaiODS').bumpEntityKey('feedback','facecast_vod_reaction_rendered');}};h.prototype.$StreamingReactionsTrayDiffuser13=function(){'use strict';this.$StreamingReactionsTrayDiffuser9--;};f.exports=h;}),null);
__d('StreamingReactionsTrayFriendAnimation',['Arbiter','DOM','CSSAnimationBuilder','StreamingReactionsTrayAnimation','StreamingReactionsTrayEvents','queryThenMutateDOM'],(function a(b,c,d,e,f,g){var h,i,j=10;h=babelHelpers.inherits(k,c('StreamingReactionsTrayAnimation'));i=h&&h.prototype;function k(l,m){'use strict';i.constructor.call(this,l,m);}k.prototype.addFriendReaction=function(l,m){'use strict';i.addReaction.call(this,true,l,m);};k.prototype.buildAnimation=function(l){'use strict';this.incrementFireworksCount();var m=-1*l.randShootUpMaxVerticalPosition;m=Math.round(m*100)/100;var n=l.randAmp*(this.config.maxY-this.config.minY)/2,o=-1*(this.config.maxX-this.config.minX-l.randShootUpHorizontalPosition),p=this.config.globalScale,q=[l.shootUpDurationMs,l.explosionDurationMs*.15,l.explosionDurationMs*.85,l.explosionPauseDurationMs*.8,l.explosionPauseDurationMs*.2,l.morphShrinkDurationMs,l.morphGrowDurationMs,l.morphPauseDurationMs,l.friendWindKeyDurationMs*.5,l.friendWindKeyDurationMs*.3,l.friendWindKeyDurationMs*.2].map(function(pa){return pa/1000;}),r=q.reduce(function(pa,qa){return pa+qa;}),s=q.map(function(pa,qa,ra){var sa=(qa>0?ra[qa-1]:0)+pa;q[qa]=sa;return sa;}).map(function(pa){return pa/r*100;}),t=s[0],u=s[1],v=s[2],w=s[3],x=s[4],y=s[5],z=s[6],aa=s[7],ba=s[8],ca=s[9],da=s[10],ea=c('CSSAnimationBuilder').keyframeAnimation(l.yAxisDiv);ea.defineKeyframe('0%',{transform:'translateY('+0+'px)','animation-timing-function':this.config.shootUpVerticalCurve}).defineKeyframe(t,{transform:'translateY('+m+'px)','animation-timing-function':'linear'}).defineKeyframe(aa,{transform:'translateY('+m+'px)','animation-timing-function':'ease-in-out'}).defineKeyframe(ba,{transform:'translateY('+(m+n)+'px)','animation-timing-function':'ease-in-out'}).defineKeyframe(da,{transform:'translateY('+m+'px)'});ea.setDuration(r).setFinishedCallback(this.createOnFinishForReaction(l)).setIterationCount(1);var fa=c('CSSAnimationBuilder').keyframeAnimation(l.xAxisDiv);fa.defineKeyframe('0%',{transform:'translateX('+0+'px)'}).defineKeyframe(aa,{transform:'translateX('+0+'px)'}).defineKeyframe(da,{transform:'translateX('+o+'px)'});fa.setDuration(r).setTimingFunction(this.config.anonHorizontalCurve).setIterationCount(1);var ga=c('CSSAnimationBuilder').keyframeAnimation(l.friendImg);ga.defineKeyframe('0%',{transform:'scale('+this.config.shootUpScale+')','animation-timing-function':'linear'}).defineKeyframe(t,{transform:'scale('+this.config.shootUpScale+')','animation-timing-function':this.config.explosionScaleCurve}).defineKeyframe(v,{transform:'scale('+this.config.maxExplosionScale+')','animation-timing-function':'linear'}).defineKeyframe(x,{transform:'scale('+this.config.maxExplosionScale+')',opacity:'1','animation-timing-function':'linear'}).defineKeyframe(y,{transform:'scale('+this.config.minMorphScale+')',opacity:'0'}).defineKeyframe(da,{opacity:'0'});ga.setDuration(r).setIterationCount(1);var ha=c('CSSAnimationBuilder').keyframeAnimation(l.reactionElem);ha.defineKeyframe('0%',{opacity:'0',transform:'scale('+this.config.minMorphScale+')','animation-timing-function':'linear'}).defineKeyframe(x,{opacity:'0',transform:'scale('+this.config.minMorphScale+')','animation-timing-function':'linear'}).defineKeyframe(y,{opacity:'1',transform:'scale('+this.config.minMorphScale+')','animation-timing-function':this.config.morphScaleCurve}).defineKeyframe(z,{opacity:'1',transform:'scale('+this.config.maxExplosionScale+')','animation-timing-function':'linear'}).defineKeyframe(ba,{opacity:'1',transform:'scale('+p+')','animation-timing-function':'linear'}).defineKeyframe(ca,{opacity:'1',transform:'scale('+p+')','animation-timing-function':'linear'}).defineKeyframe(da,{opacity:'1',transform:'scale('+.1+')','animation-timing-function':'linear'});ha.setDuration(r).setIterationCount(1);var ia=[];for(var ja=l.fireworks,ka=Array.isArray(ja),la=0,ja=ka?ja:ja[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ma;if(ka){if(la>=ja.length)break;ma=ja[la++];}else{la=ja.next();if(la.done)break;ma=la.value;}var na=ma,oa=c('CSSAnimationBuilder').keyframeAnimation(na);oa.defineKeyframe('0%',{'background-position':'0px -36px',opacity:'0'}).defineKeyframe(u,{'background-position':'0px 36px',opacity:'0'}).defineKeyframe(w,{'background-position':'0px -36px',opacity:'1'}).defineKeyframe('100%',{'background-position':'0px -36px',opacity:'0'});oa.setDuration(r).setIterationCount(1).setMemoize(false).setTimingFunction('cubic-bezier(0.075, 0.82, 0.165, 1)').setFinishedCallback(this.onFireworkFinish.bind(this));ia.push(oa);}if(this.animating)c('queryThenMutateDOM')(function(){},function(){c('DOM').appendContent(this.root,l.root);l.setState('ANIMATING');for(var pa=ia,qa=Array.isArray(pa),ra=0,pa=qa?pa:pa[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var sa;if(qa){if(ra>=pa.length)break;sa=pa[ra++];}else{ra=pa.next();if(ra.done)break;sa=ra.value;}var ta=sa;ta.start();}fa.start();ea.start();ga.start();ha.start();}.bind(this));};k.prototype.onFireworkFinish=function(l){'use strict';this.decrementFireworksCount();};k.prototype.incrementFireworksCount=function(){'use strict';var l=k.fireWorksCount,m=l+j;c('Arbiter').inform(c('StreamingReactionsTrayEvents').FireworksAnimating,true);k.fireWorksCount=m;};k.prototype.decrementFireworksCount=function(){'use strict';var l=k.fireWorksCount-1;if(l<1)c('Arbiter').inform(c('StreamingReactionsTrayEvents').FireworksAnimating,false);k.fireWorksCount=l;};k.fireWorksCount=0;f.exports=k;}),null);
__d("XVODStreamingReactionsAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/videos\/vodreactions\/",{eft_id:{type:"String",required:true},start_time:{type:"Float",required:true},end_time:{type:"Float",required:true}});}),null);
__d('VODReactionStream',['AsyncRequest','Map','SubscriptionsHandler','XVODStreamingReactionsAsyncController','setInterval'],(function a(b,c,d,e,f,g){'use strict';function h(j,k){this.videoPlayerController=j;this.diffuser=k;this.reactions=[];this.queueEndTime=0;this.currentRequest=null;this.subscriptions=new (c('SubscriptionsHandler'))();this.resetToTime(j.getCurrentTimePosition());this.subscriptions.addSubscriptions(j.addListener('seek',function(l){this.resetToTime(l.time);}.bind(this)));c('setInterval')(this.renderReactions.bind(this),800);}h.prototype.renderReactions=function(){if(!this.videoPlayerController.isState('playing')||this.videoPlayerController.isMuted())return;var j=this.videoPlayerController.getCurrentTimePosition(),k=Math.floor(j);this.onTimeUpdated(j);if(this.reactions[k]){this.diffuser.processVodPayload(this.reactions[k]);delete this.reactions[k];}};h.prototype.fetchNewReactions=function(j){var k=j+60,l=c('XVODStreamingReactionsAsyncController').getURIBuilder().setString('eft_id',this.videoPlayerController.getVideoID()).setFloat('start_time',j).setFloat('end_time',k).getURI();if(this.currentRequest)this.currentRequest.abandon();this.currentRequest=new (c('AsyncRequest'))().setURI(l).setHandler(function(m){var n=m.getPayload();if(n.reactionpayloads)for(var o=n.reactionpayloads,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var r;if(p){if(q>=o.length)break;r=o[q++];}else{q=o.next();if(q.done)break;r=q.value;}var s=r;this.reactions[s.start_time]=s;}this.queueEndTime=k;}.bind(this)).setFinallyHandler(function(){this.currentRequest=null;}.bind(this));this.currentRequest.send();};h.prototype.onTimeUpdated=function(j){if(j<this.queueEndTime-15||this.currentRequest!==null)return;this.fetchNewReactions(this.queueEndTime);};h.prototype.resetToTime=function(j){this.fetchNewReactions(j);};h.prototype.stop=function(){this.subscriptions.release();};var i=new (c('Map'))();f.exports={start:function j(k,l){i.set(k,new h(k,l));},stop:function j(k){var l=i.get(k);if(!l)return;l.stop();i['delete'](k);}};}),null);
__d('StreamingReactionsTray',['Arbiter','FeedbackAddStreamingReactionSubscription','FeedbackReactionType','HotLiveVideoPayloadManager','PublicLiveMapConstants','Run','StreamingReactionsTrayAnonymousAnimation','StreamingReactionsTrayConfig','StreamingReactionsTrayDiffuser','StreamingReactionsTrayEvents','StreamingReactionsTrayFriendAnimation','Style','SubscriptionsHandler','UFIUIEvents','VideoPlayerLoggerSource','Visibility','VODReactionStream'],(function a(b,c,d,e,f,g){function h(i,j,k,l,m,n,o,p,q){'use strict';this.$StreamingReactionsTray7=i;this.$StreamingReactionsTray4=k;this.$StreamingReactionsTray18=0;this.$StreamingReactionsTray16=p;this.$StreamingReactionsTray17=q;this.$StreamingReactionsTray19(k);var r=j?!!j.getOption('VideoWithLiveBroadcast','isLive'):true;this.$StreamingReactionsTray1=new (c('StreamingReactionsTrayDiffuser'))(new (c('StreamingReactionsTrayAnonymousAnimation'))(this.$StreamingReactionsTray7,this.$StreamingReactionsTray2),new (c('StreamingReactionsTrayFriendAnimation'))(this.$StreamingReactionsTray7,this.$StreamingReactionsTray2),r,this.$StreamingReactionsTray2);this.$StreamingReactionsTray15=new (c('SubscriptionsHandler'))();this.$StreamingReactionsTray10=j;this.$StreamingReactionsTray8=false;this.$StreamingReactionsTray9=false;this.$StreamingReactionsTray5=n;this.$StreamingReactionsTray6=o;this.$StreamingReactionsTray11=l;this.$StreamingReactionsTray12=m;this.$StreamingReactionsTray20();c('Run').onLeave(this.$StreamingReactionsTray21.bind(this));var s=j?j.getOption('VideoWithVODBroadcast','isLiveVOD'):false;if(s&&j)c('VODReactionStream').start(j,this.$StreamingReactionsTray1);}h.prototype.$StreamingReactionsTray19=function(i){'use strict';var j=parseInt(c('Style').get(this.$StreamingReactionsTray7,'width'),10),k=parseInt(c('Style').get(this.$StreamingReactionsTray7,'height'),10);this.$StreamingReactionsTray3=i;if(this.$StreamingReactionsTray2){this.$StreamingReactionsTray2.updateSurface(j,k,this.$StreamingReactionsTray3);}else this.$StreamingReactionsTray2=new (c('StreamingReactionsTrayConfig'))(j,k,this.$StreamingReactionsTray3);};h.prototype.$StreamingReactionsTray22=function(){'use strict';if(this.$StreamingReactionsTray2){var i=parseInt(c('Style').get(this.$StreamingReactionsTray7,'width'),10),j=parseInt(c('Style').get(this.$StreamingReactionsTray7,'height'),10);this.$StreamingReactionsTray2.updateDimensions(i,j,this.$StreamingReactionsTray3);}};h.prototype.$StreamingReactionsTray23=function(i){'use strict';return [i.addListener('unmuteVideo',function(){if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();}.bind(this)),i.addListener('muteVideo',function(){if(this.$StreamingReactionsTray26())this.$StreamingReactionsTray27();}.bind(this)),i.addListener('changeVolume',function(){if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();}.bind(this)),i.addListener('pausePlayback',function(){this.$StreamingReactionsTray28();}.bind(this)),i.addListener('beginPlayback',function(){if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();}.bind(this)),i.addListener('seek',function(){this.$StreamingReactionsTray29();}.bind(this)),i.addListener('VideoChannelController/enterChannel',function(){this.$StreamingReactionsTray19(c('VideoPlayerLoggerSource').CHANNEL);this.$StreamingReactionsTray27();}.bind(this)),i.addListener('VideoChannelController/exitChannel',function(){this.$StreamingReactionsTray19(this.$StreamingReactionsTray4);if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();}.bind(this)),i.addListener('beginPlayback',function(){if(this.$StreamingReactionsTray24())setTimeout(function(){this.$StreamingReactionsTray19(this.$StreamingReactionsTray3);this.$StreamingReactionsTray25();}.bind(this),100);}.bind(this)),i.addListener('finishPlayback',function(){this.$StreamingReactionsTray27();}.bind(this))];};h.prototype.$StreamingReactionsTray30=function(){'use strict';window.addEventListener('resize',function(){return this.$StreamingReactionsTray22();}.bind(this));};h.prototype.$StreamingReactionsTray20=function(){var i;'use strict';var j=this.$StreamingReactionsTray10?this.$StreamingReactionsTray23(this.$StreamingReactionsTray10):[];if(!this.$StreamingReactionsTray10)this.$StreamingReactionsTray30();(i=this.$StreamingReactionsTray15).addSubscriptions.apply(i,j.concat([c('Arbiter').subscribe('VideoChannelView/opened',function(){this.$StreamingReactionsTray19(c('VideoPlayerLoggerSource').CHANNEL);this.$StreamingReactionsTray27();}.bind(this)),c('Arbiter').subscribe(c('StreamingReactionsTrayEvents').ResizeChannelViewWindow,function(){return this.$StreamingReactionsTray19(this.$StreamingReactionsTray3);}.bind(this)),c('Arbiter').subscribe('VideoChannelView/closed',function(){this.$StreamingReactionsTray19(this.$StreamingReactionsTray4);if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();}.bind(this)),c('Arbiter').subscribe(c('StreamingReactionsTrayEvents').ShowChannelViewDetails,function(){if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();}.bind(this)),c('Arbiter').subscribe(c('StreamingReactionsTrayEvents').HideChannelViewDetails,function(){this.$StreamingReactionsTray27();}.bind(this)),this.$StreamingReactionsTray2.addListener(c('StreamingReactionsTrayEvents').UpdateSurface,function(){return this.$StreamingReactionsTray1.clearCurrentReactions();}.bind(this)),c('Arbiter').subscribe(c('UFIUIEvents').ReactionButtonClicked,function(k,l){if(l.ft_id===this.$StreamingReactionsTray11)this.$StreamingReactionsTray31(l,true);}.bind(this)),c('Arbiter').subscribe(c('StreamingReactionsTrayEvents').AddReactionAnimate,function(k,l){this.$StreamingReactionsTray31(l,false);}.bind(this)),c('Arbiter').subscribe(c('StreamingReactionsTrayEvents').DisableReactions,function(){this.$StreamingReactionsTray27();}.bind(this)),c('Arbiter').subscribe(c('StreamingReactionsTrayEvents').EnableReactions,function(){if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();}.bind(this)),c('Visibility').addListener(c('Visibility').HIDDEN,function(){this.$StreamingReactionsTray27();}.bind(this)),c('Arbiter').subscribe('ActorSelector/ActorSelected',function(k,l){if(this.$StreamingReactionsTray6[l.selectedActorID])this.$StreamingReactionsTray5=this.$StreamingReactionsTray6[l.selectedActorID];}.bind(this)),c('Visibility').addListener(c('Visibility').VISIBLE,function(){if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();}.bind(this))]));if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();};h.prototype.$StreamingReactionsTray21=function(){'use strict';this.$StreamingReactionsTray10&&c('VODReactionStream').stop(this.$StreamingReactionsTray10);this.$StreamingReactionsTray27();this.$StreamingReactionsTray15.release();};h.prototype.$StreamingReactionsTray32=function(){'use strict';this.$StreamingReactionsTray13=c('FeedbackAddStreamingReactionSubscription').subscribe(this.$StreamingReactionsTray11,this.$StreamingReactionsTray33.bind(this));this.$StreamingReactionsTray9=true;};h.prototype.$StreamingReactionsTray34=function(){'use strict';this.$StreamingReactionsTray13&&this.$StreamingReactionsTray13.unsubscribe();this.$StreamingReactionsTray14&&c('HotLiveVideoPayloadManager').unsubscribe(this.$StreamingReactionsTray14);this.$StreamingReactionsTray9=false;};h.prototype.$StreamingReactionsTray31=function(i,j){'use strict';var k=Date.now(),l=k-this.$StreamingReactionsTray18;if(l<this.$StreamingReactionsTray2.reactionSelfFireworkAnimationThreshold)return;this.$StreamingReactionsTray18=k;var m=void 0;switch(i.reaction_type){case c('FeedbackReactionType').NONE:return;case c('FeedbackReactionType').LIKE:m='LIKE';break;case c('FeedbackReactionType').LOVE:m='LOVE';break;case c('FeedbackReactionType').WOW:m='WOW';break;case c('FeedbackReactionType').HAHA:m='HAHA';break;case c('FeedbackReactionType').SORRY:m='SORRY';break;case c('FeedbackReactionType').ANGER:m='ANGER';break;case c('FeedbackReactionType').DOROTHY:m='DOROTHY';break;default:throw new Error('Not a valid reaction type: '+i.reaction_type);}this.$StreamingReactionsTray1.addOwnReaction(m,this.$StreamingReactionsTray5,j);};h.prototype.$StreamingReactionsTray33=function(i){'use strict';if(this.$StreamingReactionsTray8&&this.$StreamingReactionsTray16)this.$StreamingReactionsTray1.processPayload(i);};h.prototype.$StreamingReactionsTray27=function(){'use strict';this.$StreamingReactionsTray8=false;if(this.$StreamingReactionsTray9)this.$StreamingReactionsTray34();this.$StreamingReactionsTray1.stopAnimation();};h.prototype.$StreamingReactionsTray28=function(){'use strict';this.$StreamingReactionsTray8=false;if(this.$StreamingReactionsTray9)this.$StreamingReactionsTray34();this.$StreamingReactionsTray1.pauseAnimation();};h.prototype.$StreamingReactionsTray25=function(){'use strict';if(this.$StreamingReactionsTray8)return;this.$StreamingReactionsTray8=true;if(!this.$StreamingReactionsTray9)this.$StreamingReactionsTray32();if(this.$StreamingReactionsTray17)this.$StreamingReactionsTray1.startAnimation();};h.prototype.$StreamingReactionsTray29=function(){'use strict';this.$StreamingReactionsTray1.clearBuffer();};h.prototype.$StreamingReactionsTray35=function(){'use strict';return !(this.$StreamingReactionsTray3===c('VideoPlayerLoggerSource').CHANNEL||this.$StreamingReactionsTray3===c('VideoPlayerLoggerSource').SNOWLIFT||this.$StreamingReactionsTray3===c('VideoPlayerLoggerSource').PERMALINK||this.$StreamingReactionsTray3===c('VideoPlayerLoggerSource').LIVE_CONTROL_PANEL);};h.prototype.$StreamingReactionsTray24=function(){'use strict';return this.$StreamingReactionsTray35()?this.$StreamingReactionsTray36():this.$StreamingReactionsTray37();};h.prototype.$StreamingReactionsTray26=function(){'use strict';return this.$StreamingReactionsTray35();};h.prototype.$StreamingReactionsTray37=function(){'use strict';return this.$StreamingReactionsTray10?!this.$StreamingReactionsTray10.isState('finished'):true;};h.prototype.$StreamingReactionsTray36=function(){'use strict';if(!this.$StreamingReactionsTray10)return true;var i=this.$StreamingReactionsTray10;return !i.isMuted()&&i.isState('playing')&&this.$StreamingReactionsTray3!==c('VideoPlayerLoggerSource').LIVE_MAP&&!c('PublicLiveMapConstants').isInlinePlayer(this.$StreamingReactionsTray3);};f.exports=h;}),null);
__d('VideoComponentStreamingReactionTray.react',['cx','React','ReactDOM','RelayClassic','StreamingReactionsTray','VideoComponent'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);}k.prototype.componentWillReceiveProps=function(l){var m=l.video,n=l.user;if(m&&n&&(m!==this.props.video||n!==this.props.user))new (c('StreamingReactionsTray'))(c('ReactDOM').findDOMNode(this.refs.root),this.vpc,this.vpc.getPlayerSuborigin()||'',m.feedbackID||'',m.broadcastID||'',n.profilePic.uri,{},true,true);};k.prototype.enable=function(l){this.vpc=l;};k.prototype.disable=function(){};k.prototype.render=function(){return c('React').createElement('div',{ref:'root',className:"_3htz"+(' '+"_f5b")+(this.props.hidden?' '+"hidden_elem":'')});};f.exports=c('VideoComponent').createContainer(k,{relayVideoConfig:{fragments:{video:function l(){return function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{alias:'feedbackID',fieldName:'feedback_id',kind:'Field',metadata:{},type:'ID'},{alias:'broadcastID',fieldName:'broadcast_id',kind:'Field',metadata:{},type:'ID'}],id:c('RelayClassic').QL.__id(),kind:'Fragment',metadata:{},name:'VideoComponentStreamingReactionTray_react_VideoRelayQL',type:'Video'};}();},user:function l(){return function(){return {children:[{alias:'profilePic',calls:[{kind:'Call',metadata:{type:'Int'},name:'width',value:{kind:'CallValue',callValue:50}},{kind:'Call',metadata:{type:'Int'},name:'height',value:{kind:'CallValue',callValue:50}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'profile_picture',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayClassic').QL.__id(),kind:'Fragment',metadata:{},name:'VideoComponentStreamingReactionTray_react_UserRelayQL',type:'User'};}();}}}});}),null);
__d('VideoComponentWithLoopingPlayback.react',['React','RelayClassic','VideoComponent','VideoPlayerReason','VideoWithLoopingPlayback'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);}j.prototype.componentWillReceiveProps=function(k){if(k.video&&k.video!==this.props.video){var l=k.video.isLooping,m=this.props.infiniteLooping?Number.POSITIVE_INFINITY:k.video.loopCount;if(l||k.forceLooping||k.infiniteLooping)new (c('VideoWithLoopingPlayback'))(this.vpc,m);}};j.prototype.enable=function(k){this.vpc=k;};j.prototype.disable=function(){};j.prototype.render=function(){return null;};f.exports=c('VideoComponent').createContainer(j,{relayVideoConfig:{fragments:{video:function k(){return function(){return {children:[{alias:'isLooping',fieldName:'is_looping',kind:'Field',metadata:{},type:'Boolean'},{alias:'loopCount',fieldName:'loop_count',kind:'Field',metadata:{},type:'Int'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayClassic').QL.__id(),kind:'Fragment',metadata:{},name:'VideoComponentWithLoopingPlayback_react_VideoRelayQL',type:'Video'};}();}}}});}),null);
__d("XLiveMapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/livemap\/",{rest:{type:"String"},ref:{type:"Enum",enumType:1},video_id:{type:"FBID"}});}),null);
__d('VideoComponentLiveEndScreen.react',['cx','fbt','CenteredContainer.react','Image.react','Link.react','LiveMapEntryPointsEnum','LiveMapEntryPointsLoggerController','LiveMapGK','React','RelayClassic','SubscriptionsHandler','VideoComponent','VideoPlayerExperiments','XLiveMapController','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=70;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.$VideoComponentLiveEndScreen1=function(){if(this.$VideoComponentLiveEndScreen2())c('LiveMapEntryPointsLoggerController').logEndscreenImpression();}.bind(this);this.vpc=null;this.subscriptions=new (c('SubscriptionsHandler'))();}m.prototype.enable=function(n){this.vpc=n;this.subscriptions.engage();this.subscriptions.addSubscriptions(n.addListener('finishPlayback',this.$VideoComponentLiveEndScreen1));n.registerOption('VideoLiveEndscreen','enabled',function(){return true;});};m.prototype.disable=function(){this.subscriptions.release();};m.prototype.render=function(){var n=this.props,o=this.vpc;if(!n.video||!o||o.getState()!=='finished')return null;return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_1uwa")},c('React').createElement('div',{className:"_5sjs"}),c('React').createElement(c('CenteredContainer.react'),{vertical:true,className:"_2q2t"},c('React').createElement('div',{className:"_1uwb"},c('React').createElement('div',{className:"_39rw"},this.$VideoComponentLiveEndScreen3(this.props.video)))));};m.prototype.$VideoComponentLiveEndScreen3=function(n){var o=n.liveEndText,p=n.liveEndFollowPromptText,q=n.owner,r=n.isLiveAudioFormat,s=c('React').createElement(c('Image.react'),{className:"_3-96",src:q.profilePicture.uri,width:l,height:l}),t=i._("This live video has ended."),u=i._("This live audio has ended."),v=r?u:t,w=c('React').createElement('div',{className:"_39ry"},s,c('React').createElement('div',{className:"_39rz"},v),c('React').createElement('div',null,c('React').createElement('div',null,o?o.text:'',c('React').createElement('div',null,p?p.text:'')),this.$VideoComponentLiveEndScreen4()));return w;};m.prototype.$VideoComponentLiveEndScreen4=function(){if(this.$VideoComponentLiveEndScreen2()){var n=c('XLiveMapController').getURIBuilder().setEnum('ref',c('LiveMapEntryPointsEnum').TRENDING).getURI(),o=c('React').createElement('div',{className:"_2pig"},c('React').createElement(c('Link.react'),{href:n,className:"_39g5"},c('React').createElement('div',{className:"_1svp"},i._("Explore more live videos."))));return o;}return null;};m.prototype.$VideoComponentLiveEndScreen2=function(){return c('LiveMapGK').live_map_public&&c('LiveMapGK').livemap_on_live_endscreen;};f.exports=c('VideoComponent').createContainer(m,{suppressMount:function n(o){return o.getStreamType()==='progressive';},observedVpcEvents:['beginPlayback','finishPlayback','playRequested'],relayVideoConfig:{fragments:{video:function n(){return function(o,p){return {children:[{alias:'liveEndText',children:[{fieldName:'text',kind:'Field',metadata:{},type:'String'}],fieldName:'live_end_text',kind:'Field',metadata:{canHaveSubselections:true},type:'TextWithEntities'},{alias:'liveEndFollowPromptText',children:[{fieldName:'text',kind:'Field',metadata:{},type:'String'}],fieldName:'live_end_follow_prompt_text',kind:'Field',metadata:{canHaveSubselections:true},type:'TextWithEntities'},{alias:'isLiveAudioFormat',fieldName:'is_live_audio_format',kind:'Field',metadata:{},type:'Boolean'},{children:[{alias:'profilePicture',calls:[{kind:'Call',metadata:{type:'Int'},name:'width',value:c('RelayClassic').QL.__var(o)},{kind:'Call',metadata:{type:'Int'},name:'height',value:c('RelayClassic').QL.__var(p)}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'profile_picture',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],fieldName:'owner',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'Actor'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayClassic').QL.__id(),kind:'Fragment',metadata:{},name:'VideoComponentLiveEndScreen_react_VideoRelayQL',type:'Video'};}(l,l);}}}});}),null);
__d('VideoComponentLiveInterruptedScreen.react',['cx','fbt','CenteredContainer.react','ChannelManager','React','RelayClassic','VideoComponent','VideoPlayerExperiments','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;c('ChannelManager').startChannelManager();j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.vpc=null;}l.prototype.enable=function(m){this.vpc=m;};l.prototype.disable=function(){};l.prototype.render=function(){if(!this.vpc||!this.vpc.isStreamInterrupted())return null;return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_1uwa")},c('React').createElement('div',{className:"_4qn1"}),c('React').createElement(c('CenteredContainer.react'),{vertical:true,className:"_2q2t"},c('React').createElement('div',{className:"_1uwb"},c('React').createElement('div',{className:"_39rw"},this.$VideoComponentLiveInterruptedScreen1()))));};l.prototype.$VideoComponentLiveInterruptedScreen1=function(){var m=i._("Live Video Interrupted"),n=i._("Live Audio Interrupted"),o=this.props.video&&this.props.video.isLiveAudioFormat,p=o?n:m;return c('React').createElement('div',{className:"_39ry"},c('React').createElement('div',{className:"_39rz"},p),c('React').createElement('div',{className:"_4qn3"},i._("The broadcast has been paused. It should resume shortly.")));};f.exports=c('VideoComponent').createContainer(l,{suppressMount:function m(n){return n.getStreamType()==='progressive';},observedVpcEvents:['streamInterrupted','streamResumed'],relayVideoConfig:{fragments:{video:function m(){return function(){return {children:[{alias:'isLiveAudioFormat',fieldName:'is_live_audio_format',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayClassic').QL.__id(),kind:'Fragment',metadata:{},name:'VideoComponentLiveInterruptedScreen_react_VideoRelayQL',type:'Video'};}();}}}});}),null);
__d('VideoDebugDashManifestView.react',['cx','Promise','regeneratorRuntime','React','TooltipLink.react','UserAgent','URI','VideoDebugOverlay','XHRRequest'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k={streamInterruptAt:'rgba(227,26,28,0.7)',commercialBreakAt:'rgba(127,188,65,0.7)',endedAt:'rgba(0,0,0,0.7)',timelineGapAt:'rgba(255,50,50,0.7)',timelineOverlapAt:'rgba(255,255,255,0.7)'},l=10,m=10,n=2/15,o=1+2*n,p=.25;i=babelHelpers.inherits(q,c('React').Component);j=i&&i.prototype;function q(r){j.constructor.call(this,r);this.eventInView=function(event){return event.time<this.tMax&&event.time>=this.tMin;}.bind(this);this.rangeInView=function(s){return s.startTime<this.tMax&&s.endTime>=this.tMin-p;}.bind(this);this.renderTimeline=function(s,t){var u=['v','a'][t],v=s.map(this.renderSegment.bind(this,u)),w=o*t;return c('React').createElement('g',{key:'track-'+t,transform:'translate(0,'+w+')'},v);}.bind(this);this.renderBufferHealth=function(s,t){var u=t*o-n;return c('React').createElement('g',{key:'buffer'+t,transform:'translate(0,'+u+')'},s.filter(this.rangeInView).map(this.renderBufferRange));}.bind(this);this.renderMomentEvent=function(s,t){var u=s.type,v=s.time,w={key:t+'-'+u+'-'+v,stroke:k[u]};return c('React').createElement('line',babelHelpers['extends']({x1:v,x2:v,y1:this.yMin,y2:this.yMax},w));}.bind(this);this.getVisibleSegments=function(s){return s.filter(this.rangeInView);}.bind(this);}q.prototype.$VideoDebugDashManifestView1=function(r){var s=new (c('URI'))(r.url),t=this.props.segmentInitSourceMap.get(s.getPath());if(!t)return '';var u=t.getFailoverUri(),v=this.$VideoDebugDashManifestView2(u);return v;};q.prototype.$VideoDebugDashManifestView2=function(r){var s=new (c('URI'))(r),t=r.getStartByte(),u=r.getEndByte();if(t||u){s.addQueryData('bytestart',t);s.addQueryData('byteend',u);}return s.toString();};q.prototype.$VideoDebugDashManifestView3=function(r){return new (c('Promise'))(function(s,t){new (c('XHRRequest'))(r).setMethod('GET').setResponseType('blob').setResponseHandler(function(u,v,w){if(w)s(u);}).setErrorHandler(t).send();});};q.prototype.$VideoDebugDashManifestView4=function(r){var s=new (c('URI'))(r.url).getPath(),t=s.substring(s.lastIndexOf('/')+1);return t;};q.prototype.$VideoDebugDashManifestView5=function(r){var s={a:'audio/mp4',v:'video/mp4'};return s[r[0]];};q.prototype.$VideoDebugDashManifestView6=function r(s,t,event){var u,v,w,x,y,z,aa,ba,ca;return c('regeneratorRuntime').async(function da(ea){while(1)switch(ea.prev=ea.next){case 0:u=c('UserAgent').isPlatform('Mac OS X')?event.metaKey:event.ctrlKey;ea.next=3;return c('regeneratorRuntime').awrap(this.$VideoDebugDashManifestView7(s,t,u));case 3:v=ea.sent;w=document.createElement('a');x=window.URL.createObjectURL(v);w.href=x;y=this.$VideoDebugDashManifestView4(s);z=y.lastIndexOf('.');aa=y.substring(0,z);ba=y.substring(z);w.download=aa+'-'+t+ba;ca=this.$VideoDebugDashManifestView5(t);w.type=ca;w.click();window.URL.revokeObjectURL(x);case 16:case 'end':return ea.stop();}},null,this);};q.prototype.$VideoDebugDashManifestView7=function r(s,t,u){var v;return c('regeneratorRuntime').async(function w(x){while(1)switch(x.prev=x.next){case 0:v=[this.$VideoDebugDashManifestView2(s.url)];if(u)v.unshift(this.$VideoDebugDashManifestView1(s));return x.abrupt('return',c('Promise').all(v.map(function(y){return this.$VideoDebugDashManifestView3(y);}.bind(this))).then(function(y){return new Blob(y);}));case 3:case 'end':return x.stop();}},null,this);};q.prototype.renderSegment=function(r,s,t){var u=s.startTime,v=s.debugInfo,w=v&&v.delta>0?v.endTime:s.endTime,x=w-u,y=this.props.getSegmentClass(this.props.segmentStates,s,r),z=''+r+t;return c('React').createElement(c('TooltipLink.react'),{key:z,tooltip:'Segment '+t+' - '+r,onClick:this.$VideoDebugDashManifestView6.bind(this,s,z)},c('React').createElement('rect',{className:y,x:u,width:x,height:'1'}));};q.prototype.renderBufferRange=function(r,s){var t=r.gap,u=r.startTime,v=r.endTime,w=t?"_4yqh":"_4yqi";return c('React').createElement('line',{key:'buffer-'+s,className:w,x1:u,x2:v});};q.prototype.renderDurationEvent=function(r,s){var t=r.type,u=r.track,v=r.startTime,w=r.endTime,x=o*u,y=x+1,z=v-p,aa=v+p,ba=w+p,ca=w-p,da={d:'M'+z+' '+x+'L'+aa+' '+y+'H'+ba+'L'+ca+' '+x,key:s+'-'+t+'-'+v+'-'+w,fill:k[t],stroke:k[t]};return c('React').createElement('path',da);};q.prototype.renderMaxLength=function(r,s){if(!r)return null;return c('React').createElement(c('TooltipLink.react'),{key:'length-'+s,display:'inline',href:'#',className:"_2io3",tooltip:'Length of the largest buffered segment shown in this track'},r.toFixed(3),'s');};q.prototype.getLongestSegmentLength=function(r){return r.reduce(function(s,t){var u=t.startTime,v=t.endTime;return Math.max(s,v-u);},0);};q.prototype.computeViewBox=function(r,s){var t=this.props.segmentArrays.length;this.tMin=r-l;this.tMax=r+m;this.yMin=-2*n;this.yMax=t+2*n*s;return this.tMin+' '+this.yMin+' '+(l+m)+' '+this.yMax;};q.prototype.render=function(){var r=this.props,s=r.segmentArrays,t=r.playbackPosition;if(!s)return null;var u=this.props.getSourceBufferHealth(),v=this.computeViewBox(t,u.length),w=s.map(this.getVisibleSegments),x=w.map(this.getLongestSegmentLength),y=c('React').createElement('line',{x1:t,x2:t,y1:this.yMin,y2:this.yMax,stroke:'#000'}),z=this.props.timelineEvents.filter(this.eventInView),aa=this.props.timelineRanges.filter(this.rangeInView);for(var ba=0,ca;ca=w[ba];ba++)for(var da=ca,ea=Array.isArray(da),fa=0,da=ea?da:da[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ga;if(ea){if(fa>=da.length)break;ga=da[fa++];}else{fa=da.next();if(fa.done)break;ga=fa.value;}var ha=ga,ia=ha.debugInfo;if(ia){var ja=ia.delta,ka=void 0,la=void 0,ma=void 0;if(ja>0){ka='timelineGapAt';la=ia.endTime;ma=ia.endTime+ja;}else{ka='timelineOverlapAt';la=ia.endTime+ja;ma=ia.endTime;}aa.push({type:ka,track:ba,startTime:la,endTime:ma});}}return c('React').createElement('div',{className:"_2iob"},c('React').createElement(c('TooltipLink.react'),{display:'inline',href:'#',className:"_2iof",tooltip:'The vertical line marks the current playhead position. '+'To the left of it, a '+l+'s window of past segments. '+'Afterwards, the next upcoming '+m+'s of known segments.'},'Video:',c('React').createElement('br',null),'Audio:'),c('React').createElement('div',{className:"_2iog"},x.map(this.renderMaxLength)),c('React').createElement('svg',{className:"_2ioh",viewBox:v,strokeWidth:n},w.map(this.renderTimeline),z.map(this.renderMomentEvent),aa.map(this.renderDurationEvent),y,u.map(this.renderBufferHealth)));};f.exports=q;}),null);
__d('VDOPropertyUpdater',[],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){function h(i,j,k){'use strict';this.parent=j;this.property=i;this.initValue=k;}h.prototype.safeValue=function(i){'use strict';return i===undefined?this.initValue:i;};h.prototype.get=function(i){'use strict';return this.parent.getProp(i||this.property);};h.prototype.replace=function(i){'use strict';this.parent.replace(this.property,this.safeValue(i));};h.prototype.update=function(i,j){'use strict';this.parent.update(this.property,i,this.safeValue(j));};return h;}();}),null);
__d('VDOIdentityHistory',['VDOPropertyUpdater'],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c('VDOPropertyUpdater'));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this,k,l);this.recordEvent=function(n,o){this.history[n]=this.safeValue(o);}.bind(this);this.recordProperty=this.recordEvent;this.history=[];this.initValue=m;}j.prototype.previous=function(k,l){'use strict';this.replace(this.history[l]);};j.prototype.next=function(k){'use strict';this.replace(this.history[k]);};j.prototype.last=function(){'use strict';return this.safeValue(this.history[this.history.length-1]);};return j;}();}),null);
__d('VDOSegmentArraysHistory',['VDOPropertyUpdater'],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c('VDOPropertyUpdater'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this,k,l);this.indexDiffs=[];}j.prototype.recordEvent=function(k,l){'use strict';this.indexDiffs[k]=this.computeSegmentDiffToLog(l);};j.prototype.computeSegmentDiffToLog=function(k){'use strict';var l=k;if(this.segmentIndexEndTimes)l=k.map(function(m,n){var o=this.segmentIndexEndTimes[n];if(o==null)return m;var p=m.length;while(--p>=0)if(m[p].endTime<=o){p++;break;}return m.slice(p);}.bind(this));this.segmentIndexEndTimes=this.extractEndTimes(k);return l;};j.prototype.extractEndTimes=function(k){'use strict';var l=k.map(function(m){return m[m.length-1];});return l.filter(function(m){return m;}).map(function(m){var n=m.endTime;return n;});};j.prototype.previous=function(k,l){'use strict';var m=this.indexDiffs[k];if(m){var n=this.get();for(var o=0;o<m.length;o++){var p=m[o].length;if(!p)continue;var q=n[o];m[o]=q.splice(q.length-p,p);}this.updateLivehead(n);}};j.prototype.next=function(k){'use strict';var l=this.indexDiffs[k];if(l){var m=this.get();for(var n=0;n<l.length;n++){var o=m[n];o.push.apply(o,l[n]);}this.updateLivehead(m);}};j.prototype.updateLivehead=function(k){'use strict';var l=this.extractEndTimes(k);if(l.length)this.parent.replace('liveheadPosition',Math.min.apply(Math,l));};return j;}();}),null);
__d('VDOSegmentStatesHistory',['VDOPropertyUpdater'],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c('VDOPropertyUpdater'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this,k,l);this.segmentStates=[];this.segmentIDs=[];}j.prototype.recordEvent=function(k,l){'use strict';var m=l[0],n=l[1];this.segmentIDs[k]=m;this.segmentStates[k]=n;};j.prototype.previous=function(k,l){'use strict';var m=this.segmentIDs[k];if(m){var n=l<0?-1:this.segmentIDs.lastIndexOf(m,l);this.update(m,n===-1?0:this.segmentStates[n]);}};j.prototype.next=function(k){'use strict';var l=this.segmentIDs[k];if(l)this.update(l,this.segmentStates[k]);};return j;}();}),null);
__d('VDOSparseHistory',['VDOPropertyUpdater'],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c('VDOPropertyUpdater'));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this,k,l,m);this.recordEvent=function(n,o){if(this.isUpdate(o)){this.history[n]=o;this.mostRecent=o;}}.bind(this);this.recordProperty=this.recordEvent;this.getAllUntil=function(n){var o=[];for(var p in this.history)if(Number(p)<=n)o.push(this.history[p]);return o;}.bind(this);this.history={};this.initValue=m;this.mostRecent=undefined;}j.prototype.isUpdate=function(k){'use strict';return this.mostRecent!==k;};j.prototype.previous=function(k,l){'use strict';var m=-1;for(var n in this.history){if(Number(n)>l)break;m=Number(n);}if(m>=0)this.replace(this.history[m]);};j.prototype.next=function(k){'use strict';if(k in this.history)this.replace(this.history[k]);};return j;}();}),null);
__d('VDOSourceBufferHealthHistory',['VDOSparseHistory'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=function k(l){if(l==null||typeof l!=='object')return l;if(Array.isArray(l))return l.map(k);var m={};for(var n in l)m[n]=k(l[n]);return m;};f.exports=(i=h=function(){var k,l;k=babelHelpers.inherits(m,c('VDOSparseHistory'));l=k&&k.prototype;function m(n,o,p){'use strict';l.constructor.call(this,n,o,p);this.recordEvent=function(q,r){var s,t=this,u=r(),v=this.isUpdate(u);window.updates=!!v+(window.updates||0);if(v)(function(){var w=j(u);t.history[q]=function(){return w;};t.mostRecent=w;})();}.bind(this);this.recordProperty=this.recordEvent;}m.prototype.isUpdate=function(n){'use strict';var o=this.mostRecent;if(n&&!o)return true;if(n.length!==this.mostRecent.length)return true;for(var p=0;p<n.length;p++){var q=n[p],r=o[p];if(!!q!==!!r)return true;var s=q.length;if(s!==r.length)return true;if(!s)continue;var t=q[s-1].endTime,u=r[s-1].endTime;if(t!==u)return true;}return false;};return m;}(),h.deepClone=j,i);}),null);
__d('VideoDebugHistory',['VDOIdentityHistory','VDOSegmentStatesHistory','VDOSegmentArraysHistory','VDOSourceBufferHealthHistory','VDOSparseHistory'],(function a(b,c,d,e,f,g){'use strict';var h=function i(j){if(typeof j==='function'){j=j();return function(){return j;};}if(j==null||typeof j!=='object')return j;if(Array.isArray(j))return j.slice();return Object.assign({},j);};f.exports=function(){function i(j){'use strict';this.frozenProps={};this.$VideoDebugHistory1=j;this.history=[];this.offset=Infinity;this.reconstructors={lastError:new (c('VDOIdentityHistory'))('lastError',this),stallTime:new (c('VDOSparseHistory'))('stallTime',this,0),playerState:new (c('VDOIdentityHistory'))('playerState',this,'loading'),playbackPosition:new (c('VDOIdentityHistory'))('playbackPosition',this,0),lastMpdFetchDuration:new (c('VDOSparseHistory'))('lastMpdFetchDuration',this),mpdUpdatePollCount:new (c('VDOSparseHistory'))('mpdUpdatePollCount',this),segmentStates:new (c('VDOSegmentStatesHistory'))('segmentStates',this),segmentArrays:new (c('VDOSegmentArraysHistory'))('segmentArrays',this),getSourceBufferHealth:new (c('VDOSourceBufferHealthHistory'))('getSourceBufferHealth',this),lastLogEvent:new (c('VDOSparseHistory'))('lastLogEvent',this)};}i.prototype.freezeProps=function(){'use strict';this.offset=this.history.length;var j=this.$VideoDebugHistory1();for(var k in j)j[k]=h(j[k]);this.frozenProps=j;return this.offset;};i.prototype.record=function(event,j,k){'use strict';var l=this.history.length;this.history.push(k);for(var m in this.reconstructors){var n=this.reconstructors[m],o=event[m],p=j[m];if(o!==undefined&&'recordEvent' in n){n.recordEvent(l,o,j);}else if(p!==undefined&&'recordProperty' in n)n.recordProperty(l,p,j);}};i.prototype.getProps=function(){'use strict';return Object.assign(this.frozenProps,{atHistoryEntry:this.offset,historyLength:this.history.length});};i.prototype.prev=function(){'use strict';var j=Math.min(this.offset,this.history.length),k=j-1;if(k<0)return -Infinity;for(var l in this.reconstructors){var m=this.reconstructors[l];m.previous(j,k);}this.frozenProps.historyEventType=this.history[k];return this.offset=k;};i.prototype.next=function(){'use strict';var j=Math.min(this.offset,this.history.length),k=j+1;if(k>this.history.length)return Infinity;for(var l in this.reconstructors){var m=this.reconstructors[l];m.next(k);}this.frozenProps.historyEventType=this.history[k];return this.offset=k;};i.prototype["goto"]=function(j){'use strict';var k=this.reconstructors.playbackPosition.last(),l=j>k,m=0;while(this.frozenProps.playbackPosition>j&&isFinite(m))m=this.prev();while(this.frozenProps.playbackPosition<j&&isFinite(m))m=this.next();this.frozenProps.playbackPosition=Math.max(0,Math.min(j,k));return l?Infinity:m;};i.prototype.getProp=function(j){'use strict';return this.frozenProps[j];};i.prototype.replace=function(j,k){'use strict';this.frozenProps[j]=k;};i.prototype.update=function(j,k,l){'use strict';this.frozenProps[j][k]=l;};return i;}();}),null);
__d('exposeVideoDebug',['React'],(function a(b,c,d,e,f,g){'use strict';var h=function i(j,k){var l=j.getDebug,m=j.videoID,n=j.loggedError,o=j.lastError,p=l(),q=p.VideoPlayerController,r=p.VideoDebugParent,s=p.VideoDebugOverlay,t=p.VideoBufferGaps,u=p.ComboBufferGaps,v=p.AudioBufferGaps,w=r.getProps(),x=w.segmentArrays,y=x||[],z=y[0],aa=y[1],ba=q.getVideoAPI(),ca=ba.getDOMElement(),da=ba.getDebug(),ea=da.VideoPlayerHTML5Shaka,fa={},ga={};if(ea){fa=ea.getDebug();var ha=fa,ia=ha.ShakaPlayer;if(ia){ga=ia.getDebug();!ga.identifiersIntact;}}var ja={vid:'videoID',vel:'VideoElement',mpd:'getManifest',abr:'AbrManager',bwe:'BandwidthEstimator',src:'VideoSource',vss:'VideoSourceStream',vsi:'VideoSegmentIndex',vbm:'VideoBufferManager',vsb:'VideoSourceBuffer',vbg:'VideoBufferGaps',cbg:'ComboBufferGaps',ass:'AudioSourceStream',asi:'AudioSegmentIndex',abm:'AudioBufferManager',asb:'AudioSourceBuffer',abg:'AudioBufferGaps',tss:'TextSourceStream',sha:'ShakaPlayer',h5s:'VideoPlayerHTML5Shaka',h5a:'VideoPlayerHTML5Api',vpc:'VideoPlayerController',vdp:'VideoDebugParent',vdo:'VideoDebugOverlay',lpe:'LoggedPlayerError',err:'PlayerError'},ka=babelHelpers['extends']({videoID:m,VideoElement:ca,VideoBufferGaps:t,ComboBufferGaps:u,AudioBufferGaps:v,VideoSegmentIndex:z,AudioSegmentIndex:aa},fa,ga,{VideoPlayerHTML5Shaka:ea,VideoPlayerHTML5Api:ba,VideoPlayerController:q,VideoDebugParent:r,VideoDebugOverlay:s,LoggedPlayerError:n,PlayerError:o,ns:function la(){var ma=arguments.length<=0||arguments[0]===undefined?window:arguments[0];console.group('videoDebug [videoID '+m+']');for(var na in ja){var oa=ja[na],pa=ka[oa];if(pa!==undefined){ma[na]=pa;window.console.log(na+' = '+oa);}}console.groupEnd();return ka;}});window.videoDebug=ka;if(k)ka.ns();};f.exports=h;}),null);
__d('VideoDebugOverlay',['cx','CSS','KeyboardShortcuts','Map','React','ReactDOM','SubscriptionsHandler','URI','VideoDebugHistory','VideoDebugOverlay.react','VideoPlayerReason','cancelAnimationFrame','clearTimeout','exposeVideoDebug','getActiveElement','requestAnimationFrame','setTimeout'],(function a(b,c,d,e,f,g,h){var i=0,j=1,k=2,l=['SegmentUnknown','SegmentFetching','SegmentFetched','SegmentFailed','SegmentAppended'],m=["_2io2","_19ur","_19us","_19ut","_37la"];function n(o,p,q){'use strict';this.inFocusAndAltKey=function(r,s){if(!r.altKey||s!=='onkeydown'||r.ctrlKey||r.metaKey)return false;var t=this.$VideoDebugOverlay2,u=c('getActiveElement')();return u.contains(t)||t.contains(u);}.bind(this);this.toggleMute=function(event){var r=this.$VideoDebugOverlay13;if(r.isMuted()){r.unmute();}else r.mute();}.bind(this);this.togglePause=function(event){var r=this.$VideoDebugOverlay13;if(r.isState('playing')){r.pause(c('VideoPlayerReason').USER);}else r.play(c('VideoPlayerReason').USER);}.bind(this);this.onExpose=function(event){c('exposeVideoDebug')(this.getProps(),!!event.shiftKey);}.bind(this);this.onFreeze=function(event){if(this.$VideoDebugOverlay9){return this.resume();}else return this.freeze();}.bind(this);this.onHistoryRew=function(event){if(event.shiftKey)return this["goto"](-Infinity);return this.prev();}.bind(this);this.onHistoryFwd=function(event){if(event.shiftKey){this["goto"](Infinity);return this.resume();}return this.next();}.bind(this);this.onLivePoll=function(){if(this.$VideoDebugOverlay18)c('clearTimeout')(this.$VideoDebugOverlay18);this.$VideoDebugOverlay18=c('setTimeout')(function(){this.$VideoDebugOverlay18=null;}.bind(this),1000);}.bind(this);this.onShakaDebug=function(r){var s=r.type,event=r.event,t=null;switch(s){case 'MPDFetchDuration':var u=event;this.$VideoDebugOverlay5.lastMpdFetchDuration=u;t={lastMpdFetchDuration:u};break;case 'InitialSegmentIndexes':t=this.onSegmentIndexes(event,true);break;case 'SegmentIndexesUpdated':t=this.onSegmentIndexes(event,false);break;case 'SegmentInitSources':this.onSegmentInitSources(event);break;case 'SegmentFetching':case 'SegmentFetched':case 'SegmentFailed':case 'SegmentAppended':t=this.onSegmentEvent(s,event);break;case 'streamInterruptAt':case 'commercialBreakAt':case 'endedAt':this.addTimelineMark(s,event);break;case 'streamResumedAt':this.removeTimelineMark('streamInterruptAt',event);break;default:return;}if(t)this.record(s,t);}.bind(this);this.onVpcLogEvent=function(event){this.$VideoDebugOverlay5.lastLogEvent=event;this.$VideoDebugOverlay5.getLogEventsUntil=this.$VideoDebugOverlay4.reconstructors.lastLogEvent.getAllUntil;this.record(event.event,{lastLogEvent:event});}.bind(this);this.getSourceBufferHealth=function(){this.$VideoDebugOverlay10[j]=this.$VideoDebugOverlay13.getVideoNode();return this.$VideoDebugOverlay10.map(this.$VideoDebugOverlay19);}.bind(this);this.$VideoDebugOverlay19=function(r,s){var t=[];if(!r)return t;var u=void 0,v=void 0;try{u=r.buffered;v=u.length;}catch(z){return t;}for(var w=0;w<v;w++)t.push({gap:false,startTime:u.start(w),endTime:u.end(w)});for(var x=1;x<v;x++){var y={gap:true,startTime:t[x-1].endTime,endTime:t[x].startTime};t.push(y);this.$VideoDebugOverlay11[s][y.startTime]=y;}return t;}.bind(this);this.toggleHidden=function(){return this.setHidden(!this.getHidden());}.bind(this);this.getHidden=function(){return this.$VideoDebugOverlay20;}.bind(this);this.setHidden=function(r){this.$VideoDebugOverlay20=r;if(this.$VideoDebugOverlay20){this.stopAnimating();}else this.startAnimating();c('CSS').conditionClass(this.$VideoDebugOverlay2,'hidden_elem',this.$VideoDebugOverlay20);}.bind(this);this.getDebug=function(){return {VideoPlayerController:this.$VideoDebugOverlay13,VideoDebugOverlay:this.vdo,VideoDebugParent:this,VideoBufferGaps:this.$VideoDebugOverlay11[i],ComboBufferGaps:this.$VideoDebugOverlay11[j],AudioBufferGaps:this.$VideoDebugOverlay11[k]};}.bind(this);this.getProps=function(){var r=this.$VideoDebugOverlay13;if(!r)return null;var s=r.getVideoResolution(),t=s.height,u=s.width,v=r.getDebugInfo(),w=v.currentVideo,x=v.player;return Object.assign({},this.$VideoDebugOverlay5,{videoID:r.getVideoID(),playbackPosition:r.getCurrentTimePosition(),playbackDuration:r.getPlaybackDuration(),isSpherical:r.isSpherical(),streamType:w.streamType,projection:w.projection,isLiveStream:w.isLiveStream,isHD:w.isHD,hasHD:w.hasHD,tagSD:w.tagSD,tagHD:w.tagHD,hasSubtitles:w.hasSubtitles,isRateLimited:w.isRateLimited,hasRateLimit:w.hasRateLimit,liveManifestUrl:w.liveManifestUrl,streamId:w.streamId,videoHeight:t,videoWidth:u,hasSpatialAudio:r.getOption('SphericalVideoSpatialAudioController','hasSpatialAudio'),initializationTime:x.initializationTime,initializationTimestamp:x.initializationTimestamp,playerVersion:x.version,stallCount:x.stallCount,stallTime:x.stallTime,interruptCount:x.interruptCount,interruptTime:x.interruptTime,loggedError:x.loggedError,lastError:x.lastError,droppedFrames:x.droppedFrames,totalFrames:x.totalFrames,getDebug:this.getDebug,playerState:this.$VideoDebugOverlay17(),isPolling:!!this.$VideoDebugOverlay18,getSegmentClass:n.getSegmentClass});}.bind(this);this.$VideoDebugOverlay21=function(r){this.vdo=r;}.bind(this);this.$VideoDebugOverlay2=o;this.$VideoDebugOverlay3=p;this.$VideoDebugOverlay4=new (c('VideoDebugHistory'))(this.getProps);this.$VideoDebugOverlay5=this.$VideoDebugOverlay6();this.$VideoDebugOverlay7();this.$VideoDebugOverlay8=null;this.$VideoDebugOverlay9=false;this.setHidden(q.hidden);this.$VideoDebugOverlay1=q.timeBetweenRender;}n.prototype.$VideoDebugOverlay7=function(){'use strict';this.$VideoDebugOverlay10=[null,null,null];this.$VideoDebugOverlay11=[{},{},{}];};n.prototype.$VideoDebugOverlay6=function(){'use strict';var o=this.$VideoDebugOverlay3,p=o.autoplayReason,q=o.autoplayReasonReadable;return {autoplayReason:p,autoplayReasonReadable:q,lastMpdFetchDuration:null,prevMpdChangesTime:null,lastMpdChangesTime:Date.now(),mpdUpdatePollCount:0,segmentStates:{},segmentInitSourceMap:null,timelineEvents:[],timelineRanges:[],getSourceBufferHealth:this.getSourceBufferHealth,getLogEventsUntil:function r(){return [];},yaw:0,pitch:0};};n.prototype.disable=function(){'use strict';this.setHidden(true);this.$VideoDebugOverlay12.release();this.$VideoDebugOverlay13.unregisterOption('DebugOverlay','hidden');};n.prototype.enable=function(o){var p;'use strict';this.$VideoDebugOverlay13=o;this.$VideoDebugOverlay12=new (c('SubscriptionsHandler'))();(p=this.$VideoDebugOverlay12).addSubscriptions.apply(p,[o.addListener('VideoWithLiveBroadcast/poll',this.onLivePoll),o.addListener('debug/shakaEvent',this.onShakaDebug),o.addListener('debug/vpcLogEvent',this.onVpcLogEvent),o.addListener('streamInterrupted',function(){this.$VideoDebugOverlay14('interrupted');}.bind(this)),o.addListener('streamResumed',function(){this.$VideoDebugOverlay14(null);}.bind(this)),o.addListener('buffering',function(){this.$VideoDebugOverlay14('buffering');}.bind(this)),o.addListener('buffered',function(){this.$VideoDebugOverlay14(null);}.bind(this)),o.addListener('abortedLoading',function(){this.$VideoDebugOverlay14('aborted');}.bind(this)),o.addListener('restoringAfterAbort',function(){this.$VideoDebugOverlay14('restoring');this.$VideoDebugOverlay5=this.$VideoDebugOverlay6();this.$VideoDebugOverlay7();}.bind(this)),o.addListener('restoredAfterAbort',function(){this.$VideoDebugOverlay14(null);}.bind(this)),o.addListener('bufferingChanged',function(){var q=o.getDebugInfo(),r=q.player,event={stallTime:r.stallTime},s={playbackPosition:o.getCurrentTimePosition()};this.$VideoDebugOverlay4.record(event,s,'bufferingChanged');}.bind(this)),o.addListener('viewportChange',function(q,r){this.$VideoDebugOverlay5.yaw=q;this.$VideoDebugOverlay5.pitch=r;}.bind(this))].concat(this.registerKeys({d:this.toggleHidden,e:this.onExpose,f:this.onFreeze,m:this.toggleMute,p:this.togglePause,LEFT:this.onHistoryRew,RIGHT:this.onHistoryFwd})));o.registerOption('DebugOverlay','hidden',this.getHidden,this.setHidden);if(this.$VideoDebugOverlay15(o.getVideoID()))this.setHidden(false);};n.prototype.registerKeys=function(o){'use strict';var p=[],q={baseFilters:[this.inFocusAndAltKey],allowDefault:true};for(var r in o)p.push(c('KeyboardShortcuts').register(r,o[r],q));return p;};n.prototype.$VideoDebugOverlay15=function(o){'use strict';var p=c('URI').getRequestURI().getQueryData(),q=p.vid;switch(q){case undefined:return false;case null:return true;default:return q.split(/\D+/g).indexOf(o)!==-1;}};n.prototype.$VideoDebugOverlay14=function(o){'use strict';this.$VideoDebugOverlay16=o;};n.prototype.$VideoDebugOverlay17=function(){'use strict';var o=this.$VideoDebugOverlay13.getState();if(this.$VideoDebugOverlay16)o+=' ('+this.$VideoDebugOverlay16+')';return o;};n.prototype.addTimelineMark=function(o,p){'use strict';var event={type:o,time:p};this.removeTimelineMark(event);var q=this.$VideoDebugOverlay5.timelineEvents;q.push(event);return p;};n.prototype.removeTimelineMark=function(o,p){'use strict';var q=this.$VideoDebugOverlay5.timelineEvents;for(var r=0;r<q.length;r++){var event=q[r];if(event.type===o&&event.time===p){q.splice(r,1);return true;}}return false;};n.prototype.record=function(o,p,q){'use strict';var r=this.$VideoDebugOverlay13;q=q||{};p=p||{};this.$VideoDebugOverlay4.record(p,Object.assign(q,this.$VideoDebugOverlay5,{playerState:this.$VideoDebugOverlay17(),playbackPosition:r.getCurrentTimePosition(),getSourceBufferHealth:this.getSourceBufferHealth}),o);};n.getSegmentId=function(o,p){'use strict';return p+o.startTime;};n.getSegmentClass=function(o,p,q){'use strict';var r=n.getSegmentId(p,q);return m[o[r]||0];};n.prototype.onSegmentEvent=function(o,event){'use strict';var p=event.type,q=event.segment,r=event.sourceBuffer,s=n.getSegmentId(q,p),t=l.indexOf(o);this.$VideoDebugOverlay5.segmentStates[s]=t;switch(p){case 'v':this.$VideoDebugOverlay10[i]=r;break;case 'a':this.$VideoDebugOverlay10[k]=r;break;}return {segmentStates:[s,t]};};n.prototype.onSegmentIndexes=function(o,p){'use strict';var q=p||o.some(function(v){return v.lastPollHadChanges();}),r=o.map(function(v){return v.getSegments();});if(q){var s=this.$VideoDebugOverlay5.lastMpdChangesTime;this.$VideoDebugOverlay5.prevMpdChangesTime=s;this.$VideoDebugOverlay5.lastMpdChangesTime=Date.now();this.$VideoDebugOverlay5.mpdUpdatePollCount=0;}else this.$VideoDebugOverlay5.mpdUpdatePollCount+=1;this.$VideoDebugOverlay5.segmentArrays=r;var t=r.map(function(v){return v[v.length-1];}).filter(function(v){return v;}).map(function(v){var w=v.endTime;return w;});if(t.length)this.$VideoDebugOverlay5.liveheadPosition=Math.min.apply(Math,t);var u=this.$VideoDebugOverlay5.mpdUpdatePollCount;return {segmentArrays:r,mpdUpdatePollCount:u};};n.prototype.onSegmentInitSources=function(o){'use strict';this.$VideoDebugOverlay5.segmentInitSourceMap=new (c('Map'))(o.map(function(p){var q=p.getFailoverUri(),r=new (c('URI'))(q.toString());return [r.getPath(),p];}));};n.prototype.isHidden=function(){'use strict';return this.$VideoDebugOverlay20;};n.prototype.startAnimating=function(){'use strict';if(this.$VideoDebugOverlay8)return;var o=function(){this.renderOverlay();if(this.$VideoDebugOverlay1){this.$VideoDebugOverlay8=c('setTimeout')(o,this.$VideoDebugOverlay1);}else this.$VideoDebugOverlay8=c('requestAnimationFrame')(o);}.bind(this);o();};n.prototype.stopAnimating=function(){'use strict';var o=this.$VideoDebugOverlay8;if(this.$VideoDebugOverlay8){if(this.$VideoDebugOverlay1){c('clearTimeout')(this.$VideoDebugOverlay8);}else c('cancelAnimationFrame')(this.$VideoDebugOverlay8);this.$VideoDebugOverlay8=null;}return o;};n.prototype.prev=function(){'use strict';this.freeze();this.$VideoDebugOverlay4.prev();};n.prototype.next=function(){'use strict';this.freeze();var o=this.$VideoDebugOverlay4.next();if(!isFinite(o))this.resume();};n.prototype["goto"]=function(o){'use strict';this.freeze();this.$VideoDebugOverlay4["goto"](o);};n.prototype.freeze=function(){'use strict';if(!this.$VideoDebugOverlay9){this.$VideoDebugOverlay4.freezeProps();this.$VideoDebugOverlay9=true;}};n.prototype.resume=function(){'use strict';this.$VideoDebugOverlay9=false;};n.prototype.getPropsToRender=function(){'use strict';return this.$VideoDebugOverlay9?this.$VideoDebugOverlay4.getProps():this.getProps();};n.prototype.renderOverlay=function(){'use strict';var o=!this.$VideoDebugOverlay20&&this.getPropsToRender();if(o)c('ReactDOM').render(c('React').createElement(c('VideoDebugOverlay.react'),babelHelpers['extends']({ref:this.$VideoDebugOverlay21},o)),this.$VideoDebugOverlay2);};f.exports=n;}),null);
__d('VideoDebugItem.react',['cx','React','TooltipLink.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l=this.props.children,m=null;if(this.props.column==='right')m="_s5q";var n=this.props.label;if(this.props.tooltip)n=c('React').createElement(c('TooltipLink.react'),this.props,n);return c('React').createElement('div',{className:m},c('React').createElement('b',null,n),': ',l);};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('VideoDebugDashMpdLag.react',['React','VideoDebugItem.react','TooltipLink.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.componentWillReceiveProps=function(k){var l=k.mpdUpdatePollCount!==this.props.mpdUpdatePollCount;this.setState({mpdPoll:l});};j.prototype.shouldComponentUpdate=function(k,l){return l.mpdPoll;};j.prototype.$VideoDebugDashMpdLag1=function(k){return (k/1000).toFixed(3)+'s';};j.prototype.render=function(){var k=this.props,l=k.lastMpdFetchDuration,m=k.lastMpdChangesTime;if(!l)return null;var n=this.$VideoDebugDashMpdLag1(Date.now()-m),o='We saw no new segments in this number of MPD polls.\n'+(l?'Last poll with news was '+n+' ago.':'It has been '+n+' without news, since we started polling.'),p=null,q=this.props.prevMpdChangesTime;if(q){p=this.$VideoDebugDashMpdLag1(m-q);p=': '+p;}return c('React').createElement('div',null,c('React').createElement(c('VideoDebugItem.react'),{label:'MPD load time',column:'right',tooltip:'Load time of the most recent dash manifest'},l.toFixed(3),'s'),c('React').createElement(c('VideoDebugItem.react'),{label:'MPD polls',href:this.props.liveManifestUrl||null,tooltip:'Number of recent dash manifest polls without news,\n'+'and the time last poll for new segments took.'},c('React').createElement(c('TooltipLink.react'),{tooltip:o},this.props.mpdUpdatePollCount),p));};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('VideoDebugDashRepresentation.react',['React','TooltipLink.react','VideoDebugItem.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.idToolLink=function(k){return 'https://our.intern.facebook.com/intern/id2/'+k+'/';};j.prototype.render=function(){var k=this.props.streamId;if(!k)return null;var l=k,m=k.replace(/vd?$/,'');if(/^\d+$/.test(m))l=c('React').createElement(c('TooltipLink.react'),{target:'_blank',display:'inline',tooltip:'Show VideoEncoding of the playing representation id',href:this.idToolLink(m)},l);return c('React').createElement(c('VideoDebugItem.react'),{label:'DASH Representation'},l);};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('VideoDebugExposeVideoDebug.react',['cx','React','TooltipLink.react','exposeVideoDebug'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$VideoDebugExposeVideoDebug1=function(event){event.preventDefault();c('exposeVideoDebug')(this.props,!!event.shiftKey);}.bind(this),m;}k.prototype.render=function(){return c('React').createElement(c('TooltipLink.react'),{display:'inline',className:"_5jy",style:{right:'15px'},onClick:this.$VideoDebugExposeVideoDebug1,tooltip:'Expose a videoDebug object for this video to js devtools.\n'+'(Shift-click to break out independent globals immediately.)'},'js');};f.exports=k;}),null);
__d('VideoDebugFlag.react',['cx','React','TooltipLink.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l=this.props,m=l.tooltip,n=l.active,o=l.available,p="_45za",q=this.renderDot(n,o),r=this.props.label;if(m)r=c('React').createElement(c('TooltipLink.react'),{display:'inline',href:'#',tooltip:m},r);return c('React').createElement('li',{className:p},c('React').createElement('b',null,r),': ',q);};k.prototype.renderDot=function(l,m){'use strict';var n={color:l?'green':m?'red':'gray'};return c('React').createElement('span',{className:"_45zb",style:n},'\u25CF');};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('VideoDebugLogMessages.react',['cx','React','VideoDebugItem.react','VideoPlayerLoggerEvent'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=' \uD83D\uDE1E';i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.renderOption=function(r,s){var event=r.event;if(event===c('VideoPlayerLoggerEvent').PAUSED||event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING)event=event.toUpperCase();var t=r.logData,u=t.time_ms,v=t.recent_stalls_count,w=this.props.initializationTimestamp,x=((u-w)/1000).toFixed(3),y=v?k:null;return c('React').createElement('option',{key:s,value:s},x,'s: ',event,y);}.bind(this),this.$VideoDebugLogMessages2=function(event){var r=this.$VideoDebugLogMessages3(),s=r[Number(event.target.value)];console.group('log = %s event',s.event);console.groupEnd();}.bind(this),n;}l.prototype.shouldComponentUpdate=function(m){return this.$VideoDebugLogMessages1!==m.lastLogEvent;};l.prototype.$VideoDebugLogMessages3=function(){var m=this.props,n=m.getLogEventsUntil,o=m.atHistoryEntry,p=o==null?Infinity:o;return n(p);};l.prototype.render=function(){var m=this.$VideoDebugLogMessages3(),n=m.length-1;this.$VideoDebugLogMessages1=m[n];var o=void 0;if(m.length)o=c('React').createElement('select',{value:n,className:"_4a8p",onChange:this.$VideoDebugLogMessages2},m.map(this.renderOption));return c('React').createElement(c('VideoDebugItem.react'),{label:'Log'},o);};f.exports=l;}),null);
__d('VideoDebugScubaEventsLink.react',['CurrentUser','React','URI','TooltipLink.react','VideoDebugItem.react','formatDate'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.getScubaUrl=function(k,l,m){function n(p){var q=new Date(p);return c('formatDate')(q,'Y-m-d H:i:s',{skipPatternLocalization:true});}var o={cols:['time_ms','time_ms_begin','event_name','userid','video_id','time_ms_done','stall_time'],derivedCols:[],num_samples:'100',dimensions:['event_name'],startcol:'time_ms_begin',endcol:'time_ms_done',colorcol:'event_name',bordercol:'event_name',ordercol:'time_ms_begin',labelcol:'__number',unit:'Auto',aggregate:'',start:n(m-5000),end:'now',modifiers:[],aggregateList:[],constraints:{userid:{eq:['["'+k+'"]']},video_id:{eq:['["'+l+'"]']}},c_constraints:{},b_constraints:{}};return new (c('URI'))('https://our.intern.facebook.com/intern/scuba/query/').setQueryData({dataset:'video_player_log',view:'TimelineBreakdown',drillstate:JSON.stringify(o)}).toString();};j.prototype.shouldComponentUpdate=function(k){var l=this.props.atHistoryEntry!==null;if(l)return k.atHistoryEntry!==this.props.atHistoryEntry||k.historyLength!==this.props.historyLength;return !!k.atHistoryEntry;};j.prototype.render=function(){var k=this.props.videoID,l=[];if(this.props.isLiveStream){var m=c('React').createElement(c('TooltipLink.react'),{display:'inline',href:new (c('URI'))('https://our.intern.facebook.com/intern/facecast/debug/').setQueryData({video_broadcast_id:k}).toString(),tooltip:'Debug in Facecast'},'FC');l.push(c('React').createElement('span',{key:'live'},' [',m,']'));}if(this.props.isSpherical){var n=c('React').createElement(c('TooltipLink.react'),{display:'inline',target:'_blank',href:new (c('URI'))('https://our.intern.facebook.com/intern/360dive/').setQueryData({video_id:k}).toString(),tooltip:'Debug in 360dive'},'360dive');l.push(c('React').createElement('span',{key:'spherical'},' [',n,']'));}var o=this.props.initializationTimestamp,p={href:this.getScubaUrl(c('CurrentUser').getID(),k,o),tooltip:'Show scuba video_player_log events timeline for this video',target:'_blank',label:'Video'},q=null,r=this.props,s=r.atHistoryEntry,t=r.historyLength;if(s!=null)q=c('React').createElement('span',null,c('React').createElement('b',null,' frozen at'),' ',s,'/',t);return c('React').createElement(c('VideoDebugItem.react'),p,k,l,q);};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('VideoDebugOverlay.react',['cx','React','TooltipLink.react','VideoDebugDashRepresentation.react','VideoDebugDashManifestView.react','VideoDebugDashMpdLag.react','VideoDebugExposeVideoDebug.react','VideoDebugFlag.react','VideoDebugItem.react','VideoDebugLogMessages.react','VideoDebugScubaEventsLink.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.$VideoDebugOverlay1=function(l){'use strict';return Number(l||0).toFixed(3)+'s';};k.prototype.$VideoDebugOverlay2=function(l,m){'use strict';return Math.floor(l)+' / '+Math.floor(m);};k.prototype.render=function(){'use strict';var l=null;if(this.props.streamType==='dash'){l=c('React').createElement(c('VideoDebugDashRepresentation.react'),{streamId:this.props.streamId});}else{var m=this.props,n=m.tagSD,o=m.tagHD;if(o){l=n+' (SD) / '+o+' (HD)';}else l=n+' (SD)';l=c('React').createElement(c('VideoDebugItem.react'),{label:'Encoding'},l);}var p=!!this.props.segmentArrays,q='The current time of the video.';if(p)q+=' (The black bar in the graph.)';var r=null,s=this.props,t=s.liveheadPosition,u=s.playbackPosition;if(t&&this.props.isLiveStream){var v=this.$VideoDebugOverlay1(t-u);r=c('React').createElement(c('VideoDebugItem.react'),{label:'Livehead \u0394',column:'right',tooltip:'How much ahead of the playhead the current livehead is. '+'In the graph below, that amounts to the time between the '+'playhead (the black bar) and the end of the final segment.'},v);}else r=c('React').createElement(c('VideoDebugItem.react'),{label:'Duration',column:'right'},this.$VideoDebugOverlay1(this.props.playbackDuration));var w=null;if(this.props.isLiveStream&&this.props.streamType=='dash')w=c('React').createElement(c('VideoDebugDashMpdLag.react'),{liveManifestUrl:this.props.liveManifestUrl,lastMpdFetchDuration:this.props.lastMpdFetchDuration,mpdUpdatePollCount:this.props.mpdUpdatePollCount,prevMpdChangesTime:this.props.prevMpdChangesTime,lastMpdChangesTime:this.props.lastMpdChangesTime});var x=this.props.lastError;if(x){var y=x,z=y.error,aa=y.message;x=c('React').createElement(c('VideoDebugItem.react'),{label:'Error'},z,': ',aa);}var ba=this.props,ca=ba.atHistoryEntry,da=ba.historyEventType,ea=ca!=null?"isFrozen":null,fa=null;if(da){fa=c('React').createElement(c('VideoDebugItem.react'),{label:'History event'},da);}else fa=c('React').createElement(c('VideoDebugItem.react'),{label:'Autoplay reason'},c('React').createElement(c('TooltipLink.react'),{display:'inline',href:'#',tooltip:this.props.autoplayReasonReadable},this.props.autoplayReason));var ga=c('React').createElement(c('VideoDebugItem.react'),{label:'Projection'},this.props.projection);if(this.props.isSpherical)ga=c('React').createElement('div',null,c('React').createElement(c('VideoDebugItem.react'),{label:'Yaw / Pitch',tooltip:'The yaw / pitch orientation of the video'},this.$VideoDebugOverlay2(this.props.yaw,this.props.pitch)),ga);return c('React').createElement('div',{className:ea},c('React').createElement(c('TooltipLink.react'),{target:'_blank',display:'inline',className:"_5jy",href:'https://our.intern.facebook.com/intern/dex/video-debug-overlay/',tooltip:'See the DEX about how to read this overlay'},'?'),c('React').createElement(c('VideoDebugExposeVideoDebug.react'),{videoID:this.props.videoID,getDebug:this.props.getDebug,VideoDebugOverlay:this,loggedError:this.props.loggedError,lastError:this.props.lastError}),c('React').createElement(c('VideoDebugScubaEventsLink.react'),{videoID:this.props.videoID,initializationTimestamp:this.props.initializationTimestamp,atHistoryEntry:this.props.atHistoryEntry,historyLength:this.props.historyLength,isLiveStream:this.props.isLiveStream,isSpherical:this.props.isSpherical}),fa,c('React').createElement(c('VideoDebugLogMessages.react'),{lastLogEvent:this.props.lastLogEvent,atHistoryEntry:this.props.atHistoryEntry,getLogEventsUntil:this.props.getLogEventsUntil,initializationTimestamp:this.props.initializationTimestamp}),x,c('React').createElement(c('VideoDebugItem.react'),{label:'State',column:'right'},this.props.playerState),c('React').createElement(c('VideoDebugItem.react'),{label:'Player'},this.props.playerVersion),c('React').createElement(c('VideoDebugItem.react'),{label:'Stalls',column:'right'},this.props.stallCount,': ',this.$VideoDebugOverlay1(this.props.stallTime/1000)),c('React').createElement(c('VideoDebugItem.react'),{label:'Init time'},this.$VideoDebugOverlay1(this.props.initializationTime/1000)),c('React').createElement(c('VideoDebugItem.react'),{label:'Interrupts',column:'right'},this.props.interruptCount,': ',this.$VideoDebugOverlay1(this.props.interruptTime/1000)),c('React').createElement(c('VideoDebugItem.react'),{label:'Stream Type'},this.props.streamType),c('React').createElement(c('VideoDebugItem.react'),{label:'Dropped frames',column:'right'},this.props.droppedFrames),c('React').createElement(c('VideoDebugItem.react'),{label:'Total frames'},this.props.totalFrames),c('React').createElement(c('VideoDebugItem.react'),{label:'Rep. Size',column:'right',tooltip:'Resolution of the representation, as reported by the browser'},this.props.videoHeight,' x ',this.props.videoWidth),ga,l,c('React').createElement('ul',null,c('React').createElement(c('VideoDebugFlag.react'),{label:'HD',active:this.props.isHD,available:this.props.hasHD,tooltip:'High Definition. Indicates if the video '+'has an HD stream and if it is playing.'}),c('React').createElement(c('VideoDebugFlag.react'),{label:'Live',active:this.props.isLiveStream,tooltip:'Indicates if this is a Live stream.'}),c('React').createElement(c('VideoDebugFlag.react'),{label:'CVC Poller',active:this.props.isPolling,available:this.props.isLiveStream,tooltip:'Concurrent Viewer Count Poller. Indicates if a poll request '+'was sent recently. This should blink at a ~3 sec inteval.'}),c('React').createElement(c('VideoDebugFlag.react'),{label:'RL',active:this.props.isRateLimited,available:this.props.hasRateLimit,tooltip:'Rate Limit. Indicates if the server '+'is rate limiting the video stream.'}),c('React').createElement(c('VideoDebugFlag.react'),{label:'ST',active:this.props.hasSubtitles,tooltip:'Subtitles. Indicates if the video has subtitles.'}),c('React').createElement(c('VideoDebugFlag.react'),{label:'SA',active:this.props.hasSpatialAudio,tooltip:'Spatial Audio. Indicates if the video has spatial audio.'})),r,c('React').createElement(c('VideoDebugItem.react'),{label:'Playhead',tooltip:q},this.$VideoDebugOverlay1(u)),c('React').createElement(c('VideoDebugDashManifestView.react'),{getSourceBufferHealth:this.props.getSourceBufferHealth,playbackPosition:u,segmentInitSourceMap:this.props.segmentInitSourceMap,segmentStates:this.props.segmentStates,segmentArrays:this.props.segmentArrays,timelineEvents:this.props.timelineEvents,timelineRanges:this.props.timelineRanges,getSegmentClass:this.props.getSegmentClass}),w);};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('VideoComponentDebugOverlay.react',['cx','React','ReactDOM','VideoComponent','VideoDebugOverlay','VideoPlayerShakaExperiments'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);}k.prototype.enable=function(l){this.debugOverlay=new (c('VideoDebugOverlay'))(c('ReactDOM').findDOMNode(this.refs.videoDebugOverlay),{autoplayReason:this.props.autoplayReason,autoplayReasonReadable:'?'},{hidden:true});this.debugOverlay.enable(l);};k.prototype.disable=function(){this.debugOverlay.setHidden(true);this.debugOverlay.disable();};k.prototype.render=function(){return c('React').createElement('div',{ref:'videoDebugOverlay',className:"_5m64"+(' '+"_1jto")+(' '+"_3htz")+(' '+"hidden_elem")});};f.exports=c('VideoComponent').createContainer(k,{suppressMount:function l(){return !c('VideoPlayerShakaExperiments').enableVideoDebug;}});}),null);